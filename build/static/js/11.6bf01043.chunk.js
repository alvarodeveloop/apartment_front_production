(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[11],{571:function(e,a,t){"use strict";var n=t(18),r=t(574),l=t(1),c=t.n(l),o=t(577),i=t(575),s=t(576),m=t(280);function d(){var e=Object(r.a)(["\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return d=function(){return e},e}var u=o.a.div(d());function p(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,l=n.length;return c.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(l," registros..."),className:"inputPageFilter"})}function g(e,a,t){return Object(s.a)(e,t,{keys:[function(e){return e.values[a]}]})}function b(e){var a=e.columns,t=e.data,r=e.displayPaginationUp,l=e.letrasChicas,o=c.a.useMemo((function(){return{fuzzyText:g,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),s=c.a.useMemo((function(){return{Filter:p}}),[]),d=Object(i.useTable)({columns:a,data:t,defaultColumn:s,filterTypes:o,initialState:{pageIndex:0}},i.useFilters,i.useSortBy,i.usePagination),u=d.getTableProps,b=d.getTableBodyProps,E=d.headerGroups,f=d.page,_=d.prepareRow,v=d.canPreviousPage,y=d.canNextPage,h=d.pageOptions,O=d.pageCount,j=d.gotoPage,k=d.nextPage,C=d.previousPage,w=d.setPageSize,x=d.state,N=x.pageIndex,S=x.pageSize;return c.a.createElement("div",{className:"table-responsive"},r?c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(0)},disabled:!v},"<<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return C()},disabled:!v},"<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!y},">")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(O-1)},disabled:!y},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,N+1," de ",h.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:N+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;j(a)},className:"inputPage"},"onChange",(function(e){e.target.value>h.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:S,onChange:function(e){w(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},u(),{className:"table table-bordered"}),c.a.createElement("thead",null,E.map((function(e,a){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center",key:a}),e.headers.map((function(e,a){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera",style:{fontSize:l?"14px":"15px"},key:a}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},b(),{className:"text-center",style:{fontSize:l?"13px":"15px"}}),f.map((function(e,a){return _(e)||c.a.createElement("tr",Object.assign({},e.getRowProps(),{key:a+"-"}),e.cells.map((function(e,a){return c.a.createElement("td",Object.assign({},e.getCellProps(),{key:a+"td"}),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(0)},disabled:!v},"<<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return C()},disabled:!v},"<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!y},">")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(O-1)},disabled:!y},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,N+1," de ",h.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:N+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;j(a)},className:"inputPage"},"onChange",(function(e){e.target.value>h.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:S,onChange:function(e){w(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.displayPaginationUp,r=e.letrasChicas;return c.a.createElement(u,null,c.a.createElement(b,{data:a,columns:t,displayPaginationUp:n,letrasChicas:r}))}},582:function(e,a,t){(function(t){var n,r,l;r=[],void 0===(l="function"===typeof(n=function(){"use strict";function a(e,a,t){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){c(n.response,a,t)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var a=new XMLHttpRequest;a.open("HEAD",e,!1);try{a.send()}catch(e){}return 200<=a.status&&299>=a.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,c=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,c){var o=l.URL||l.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?r(i):n(i.href)?a(e,t,c):r(i,i.target="_blank")):(i.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(i.href)}),4e4),setTimeout((function(){r(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,l){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,l),t);else if(n(e))a(e,t,l);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){r(c)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var c="application/octet-stream"===e.type,o=/constructor/i.test(l.HTMLElement)||l.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||c&&o)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var m=l.URL||l.webkitURL,d=m.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){m.revokeObjectURL(d)}),4e4)}});l.saveAs=c.saveAs=c,e.exports=c})?n.apply(a,r):n)||(e.exports=l)}).call(this,t(71))},584:function(e,a,t){},585:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return i}));var n=t(1),r=t.n(n),l=t(289),c=t(587),o=[{Header:"Nro",accessor:"id",Cell:function(e){return r.a.createElement(c.a,{variant:"danger",style:{fontSize:"14px"}},e.cell.row.original.id)}},{Header:"Fecha",accessor:function(e){return[l(e.createdAt).format("DD-MM-YYYY hh:mm:ss")]}},{Header:"Autor",accessor:function(e){return[e.user.email]}},{Header:"Detalle",accessor:"detail",Cell:function(e){var a=e.cell.row.original;return-1===a.detail.indexOf("/")?a.detail.split("@").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("hr",null))})):a.detail.split("/").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))}))}},{Header:"Privado",accessor:function(e){return e.is_private?["Si"]:["No"]}},{Header:"Documento",accessor:function(e){return["-"]}}],i=[{Header:"Nro",accessor:"id",Cell:function(e){return r.a.createElement(c.a,{variant:"danger",style:{fontSize:"14px"}},e.cell.row.original.id)}},{Header:"Fecha",accessor:function(e){return[l(e.createdAt).format("DD-MM-YYYY hh:mm:ss")]}},{Header:"Autor",accessor:function(e){return[e.user.email]}},{Header:"Detalle",accessor:"detail",Cell:function(e){var a=e.cell.row.original;return-1!==a.detail.indexOf("/")?a.detail.split("/").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))})):a.detail.split("@").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))}))}},{Header:"Privado",accessor:function(e){return e.is_private?["Si"]:["No"]}},{Header:"Documento",accessor:function(e){return["-"]}}]},587:function(e,a,t){"use strict";var n=t(2),r=t(4),l=t(6),c=t.n(l),o=t(1),i=t.n(o),s=t(7),m=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.variant,o=e.pill,m=e.className,d=e.as,u=void 0===d?"span":d,p=Object(r.a)(e,["bsPrefix","variant","pill","className","as"]),g=Object(s.b)(t,"badge");return i.a.createElement(u,Object(n.a)({ref:a},p,{className:c()(m,g,o&&g+"-pill",l&&g+"-"+l)}))}));m.displayName="Badge",m.defaultProps={pill:!1},a.a=m},590:function(e,a,t){"use strict";var n=t(18),r=t(44),l=t(73),c=t.n(l),o=t(114),i=t(30),s=t(1),m=t.n(s),d=t(567),u=t(568),p=t(282),g=t(10),b=t(280),E=t(112),f=t(288),_=t(25),v=t.n(_),y=t(34),h=t(13),O=function(e){var a=Object(s.useState)(!1),t=Object(i.a)(a,2),l=t[0],_=t[1],O=Object(s.useState)({name:"",last_names:"",rut:"",email:"",id_city:"",id_country:"",poblation:"",phone_1:"",phone_2:"",address:""}),j=Object(i.a)(O,2),k=j[0],C=j[1],w=Object(s.useState)([]),x=Object(i.a)(w,2),N=x[0],S=x[1],q=Object(s.useState)([]),P=Object(i.a)(q,2),R=P[0],Y=P[1],D=Object(s.useRef)(null);Object(s.useEffect)((function(){z(),D.current.focus()}),[]);var z=function(){var a=[v.a.get(y.a+"master_countrys")];e.match.params.id&&a.push(v.a.get(y.a+"client/"+e.match.params.id)),Promise.all(a).then(function(){var e=Object(o.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(a[0].data),a[1]&&(C({name:a[1].data.name,last_names:a[1].data.last_names,rut:a[1].data.rut,email:a[1].data.email,id_city:a[1].data.id_city,id_country:a[1].data.id_country,poblation:a[1].data.poblation,phone_1:a[1].data.phone_1,phone_2:a[1].data.phone_2,address:a[1].data.address,id:a[1].data.id}),Y((function(e){return a[0].data.find((function(e){return e.id==a[1].data.id_country})).cities})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e.response?h.b.error(e.response.data.message):h.b.error("Error, contacte con soporte")}))},H=function(e){if(e.persist(),"id_country"===e.target.name)Y((function(a){return N.find((function(a){return a.id==e.target.value})).cities})),C(Object(r.a)(Object(r.a)({},k),{},{id_country:e.target.value,id_city:""}));else if("rut"===e.target.name){var a=e.target.value;(a=a.split("-").join(""))&&(a=a.substring(0,a.length-1)+"-"+a.substring(a.length-1)),C(Object(r.a)(Object(r.a)({},k),{},{rut:a}))}else C(Object(r.a)(Object(r.a)({},k),{},Object(n.a)({},e.target.name,e.target.value)))},M=function(a){e.isModal?e.showTable(a):e.history.replace("/masters/clients")},A=function(){C({name:"",last_names:"",rut:"",email:"",id_city:"",id_country:"",poblation:"",phone_1:"",phone_2:"",address:""}),_(!1),D.current.focus()};return m.a.createElement(d.a,null,m.a.createElement(u.a,{className:""},m.a.createElement(p.a,{sm:12,md:12,lg:12},m.a.createElement(g.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void _(!0);var n=Object.assign({},k);n.id?v.a.put(y.a+"client/"+n.id,n).then((function(e){h.b.success("Registro Modificado"),M()})).catch((function(e){e.response?h.b.error(e.response.data.message):h.b.error("Error, contacte con soporte")})):v.a.post(y.a+"client",n).then((function(a){h.b.success("Registro Creado"),A(),e.isModal&&M(!0)})).catch((function(e){e.response?h.b.error(e.response.data.message):h.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:l},m.a.createElement(u.a,null,m.a.createElement(f.a,Object.assign({},e.inputRut,{value:k.rut,handleChange:H,ref:D})),m.a.createElement(E.a,Object.assign({},e.inputName,{value:k.name,handleChange:H})),m.a.createElement(E.a,Object.assign({},e.inputLastNames,{value:k.last_names,handleChange:H}))),m.a.createElement(u.a,null,m.a.createElement(E.a,Object.assign({},e.inputAddress,{value:k.address,handleChange:H})),m.a.createElement(E.a,Object.assign({},e.inputPoblation,{value:k.poblation,handleChange:H})),m.a.createElement(E.a,Object.assign({},e.inputEmail,{value:k.email,handleChange:H}))),m.a.createElement(u.a,null,m.a.createElement(E.a,Object.assign({},e.inputPhone,{value:k.phone_1,handleChange:H})),m.a.createElement(E.a,Object.assign({},e.inputPhone2,{value:k.phone_2,handleChange:H}))),m.a.createElement(u.a,null,m.a.createElement(E.a,Object.assign({},e.inputCountry,{value:k.id_country,handleChange:H}),m.a.createElement("option",{value:""},"--Seleccione--"),N.map((function(e,a){return m.a.createElement("option",{value:e.id,key:a},e.name)}))),m.a.createElement(E.a,Object.assign({},e.inputCity,{value:k.id_city,handleChange:H}),m.a.createElement("option",{value:""},"--Seleccione--"),R.map((function(e,a){return m.a.createElement("option",{value:e.id,key:a},e.name)})))),m.a.createElement(u.a,{className:"justify-content-center"},m.a.createElement(p.a,{sm:4,md:4,lg:4},m.a.createElement(b.a,{type:"submit",size:"sm",variant:"primary",block:!0},"Guardar")),m.a.createElement(p.a,{sm:4,md:4,lg:4},m.a.createElement(b.a,{type:"submit",size:"sm",variant:"danger",block:!0,onClick:function(){M(!1)}},"Volver")))))))};O.defaultProps={inputRut:{type:"text",required:!0,name:"rut",label:"Rut",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputName:{type:"text",required:!0,name:"name",label:"Nombre",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputLastNames:{type:"text",required:!0,name:"last_names",label:"Apellidos",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPoblation:{type:"text",required:!1,name:"poblation",label:"Poblaci\xf3n",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputAddress:{type:"textarea",required:!1,name:"address",label:"Direcci\xf3n",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputCountry:{type:"select",required:!0,name:"id_country",label:"Pa\xeds",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputCity:{type:"select",required:!0,name:"id_city",label:"Ciudad",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputEmail:{type:"email",required:!1,name:"email",label:"Email",messageErrors:["Requerido*,"," Formato tipo Email*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone:{type:"number",required:!1,name:"phone_1",label:"Tel\xe9fono Principal",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputPhone2:{type:"number",required:!1,name:"phone_2",label:"Telefono Secundario",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}},a.a=O},599:function(e,a,t){"use strict";var n=t(18),r=t(44),l=t(30),c=t(1),o=t.n(c),i=t(800),s=t(10),m=t(568),d=t(282),u=t(280),p=t(146),g=t(13),b=t(34),E=t(25),f=t.n(E),_=t(112);t(288);a.a=function(e){var a=Object(c.useState)({detail:"",id_origin:"",is_private:!0}),t=Object(l.a)(a,2),E=t[0],v=t[1],y=Object(c.useState)(!1),h=Object(l.a)(y,2),O=h[0],j=h[1],k=Object(c.useState)([]),C=Object(l.a)(k,2),w=C[0],x=C[1];Object(c.useEffect)((function(){q()}),[]);var N=function(e){if("is_private"===e.target.name){var a,t="true"===e.target.value;v(Object(r.a)(Object(r.a)({},E),{},(a={},Object(n.a)(a,e.target.name,t),Object(n.a)(a,"id_worker",""),a)))}else v(Object(r.a)(Object(r.a)({},E),{},Object(n.a)({},e.target.name,e.target.value)))},S=function(){v({detail:"",id_origin:"",is_private:!0})},q=function(){var e=[f.a.get(b.a+"params_service_origin")];Promise.all(e).then((function(e){x(e[0].data)})).catch((function(e){e.response?g.b.error(e.response.data.message):g.b.error("Error, contacte con soporte")}))};return o.a.createElement(i.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},o.a.createElement(i.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},o.a.createElement(i.a.Title,{id:"contained-modal-title-vcenter"},e.title," ",o.a.createElement(p.c,null))),o.a.createElement(i.a.Body,null,o.a.createElement(s.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void j(!0);var n=Object.assign({},E);e.submit(n).then((function(a){g.b.success("Seguimiento Agregado"),S(),e.onHide()})).catch((function(e){g.b.error(e)}))},noValidate:!0,validated:O},o.a.createElement(m.a,null,o.a.createElement(d.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},o.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),o.a.createElement(m.a,null,o.a.createElement(_.a,{type:"textarea",required:!0,name:"detail",value:E.detail,handleChange:N,label:"Detalle Seguimiento",rows:3,messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"}),o.a.createElement(_.a,{type:"select",required:!0,name:"id_origin",value:E.id_origin,handleChange:N,label:"Origen:",messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"},o.a.createElement("option",{value:""},"--Seleccione--"),w.map((function(e,a){return o.a.createElement("option",{key:a,value:e.id},e.name)})))),o.a.createElement(m.a,null,o.a.createElement(_.a,{type:"select",required:!0,name:"is_private",value:E.is_private,handleChange:N,label:"Privado:",messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"},o.a.createElement("option",{value:""},"--Seleccione--"),o.a.createElement("option",{value:!0},"Si"),o.a.createElement("option",{value:!1},"No"))),o.a.createElement(m.a,{className:"justify-content-center"},o.a.createElement(d.a,{sm:4,md:4,lg:4},o.a.createElement(u.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Agregar")),o.a.createElement(d.a,{sm:4,md:4,lg:4},o.a.createElement(u.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))}},600:function(e,a,t){"use strict";var n=t(2),r=t(4),l=t(6),c=t.n(l),o=t(1),i=t.n(o),s=t(7),m=t(72),d=t(588),u=t(195),p=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,o=e.variant,m=e.as,d=void 0===m?"img":m,u=Object(r.a)(e,["bsPrefix","className","variant","as"]),p=Object(s.b)(t,"card-img");return i.a.createElement(d,Object(n.a)({ref:a,className:c()(o?p+"-"+o:p,l)},u))}));p.displayName="CardImg",p.defaultProps={variant:null};var g=p,b=Object(d.a)("h5"),E=Object(d.a)("h6"),f=Object(m.a)("card-body"),_=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,m=e.bg,d=e.text,p=e.border,g=e.body,b=e.children,E=e.as,_=void 0===E?"div":E,v=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),y=Object(s.b)(t,"card"),h=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:y+"-header"}}),[y]);return i.a.createElement(u.a.Provider,{value:h},i.a.createElement(_,Object(n.a)({ref:a},v,{className:c()(l,y,m&&"bg-"+m,d&&"text-"+d,p&&"border-"+p)}),g?i.a.createElement(f,null,b):b))}));_.displayName="Card",_.defaultProps={body:!1},_.Img=g,_.Title=Object(m.a)("card-title",{Component:b}),_.Subtitle=Object(m.a)("card-subtitle",{Component:E}),_.Body=f,_.Link=Object(m.a)("card-link",{Component:"a"}),_.Text=Object(m.a)("card-text",{Component:"p"}),_.Header=Object(m.a)("card-header"),_.Footer=Object(m.a)("card-footer"),_.ImgOverlay=Object(m.a)("card-img-overlay");a.a=_},645:function(e,a,t){},805:function(e,a,t){"use strict";t.r(a);var n=t(113),r=t(18),l=t(44),c=t(30),o=t(1),i=t.n(o),s=t(31),m=t(280),d=t(567),u=t(568),p=t(282),g=t(10),b=t(600),E=t(800),f=t(146),_=(t(584),t(288)),v=t(112),y=t(13),h=t(25),O=t.n(h),j=t(34),k=t(571),C=t(289),w=(t(645),t(599)),x=t(585),N=function(e){var a=Object(o.useState)({reason_anulate:""}),t=Object(c.a)(a,2),n=t[0],s=t[1],d=Object(o.useState)(!1),b=Object(c.a)(d,2),v=b[0],h=b[1],O=Object(o.useRef)(null);Object(o.useEffect)((function(){e.show&&O.current.focus()}),[e.show]);var j=function(){s({reason_anulate:""})};return i.a.createElement(E.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},i.a.createElement(E.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},i.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},e.title," ",i.a.createElement(f.a,null))),i.a.createElement(E.a.Body,null,i.a.createElement(g.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void h(!0);var r=Object.assign({},n);e.submit(r).then((function(a){y.b.success("Entrega Anulada"),j(),e.onHide()})).catch((function(e){y.b.error(e)}))},noValidate:!0,validated:v},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},i.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),i.a.createElement(u.a,null,i.a.createElement(_.a,{ref:O,type:"textarea",required:!0,name:"reason_anulate",value:n.reason_anulate,handleChange:function(e){s(Object(l.a)(Object(l.a)({},n),{},Object(r.a)({},e.target.name,e.target.value)))},label:"Ingrese Motivo:",rows:3,messageErrors:["Requerido*"],cols:"col-md-12 col-sm-12 col-lg-12"})),i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Aceptar")),i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))},S=function(e){var a=Object(o.useState)({date_close:""}),t=Object(c.a)(a,2),n=t[0],s=t[1],d=Object(o.useState)(!1),b=Object(c.a)(d,2),f=b[0],v=b[1],h=Object(o.useRef)(null);Object(o.useEffect)((function(){e.show&&h.current.focus()}),[e.show]);var O=function(){s({date_close_delivery:""})};return i.a.createElement(E.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},i.a.createElement(E.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},i.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},e.title)),i.a.createElement(E.a.Body,null,i.a.createElement(g.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void v(!0);var r=Object.assign({},n);e.submit(r).then((function(a){y.b.success("Entrega Cerrada"),O(),e.onHide()})).catch((function(e){y.b.error(e)}))},noValidate:!0,validated:f},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},i.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),i.a.createElement(u.a,null,i.a.createElement(_.a,{ref:h,type:"date",required:!0,name:"date_close",value:n.date_close,handleChange:function(e){s(Object(l.a)(Object(l.a)({},n),{},Object(r.a)({},e.target.name,e.target.value)))},label:"Fecha de Cierre:",rows:3,messageErrors:["Requerido*"],cols:"col-md-12 col-sm-12 col-lg-12"})),i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Aceptar")),i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))},q=t(582),P=t.n(q),R=t(590),Y=[];a.default=Object(s.b)((function(e){return{config_ss:e.configs.config}}),{})((function(e){var a=Object(o.useState)({id_housing_complexe:"",id_ownership:"",rut_ownership_client:"",rut_deputy:"",name_deputy:"",id_city:"",parkings:[],cellars:[],date_request:C().tz("America/Santiago").format("YYYY-MM-DD"),name_file:"",file:null,date_v_b_client:"",date_solution_observation:"",number_electricity:"",reading_electricity:"",number_water:"",reading_water:"",number_gas:"",reading_gas:"",date_delivery_key:"",note:"",date_close_delivery:"",reason_anulate:"",id_status:7,id:""}),t=Object(c.a)(a,2),s=t[0],h=t[1],q=Object(o.useState)({description:"",id_precint:"",id_related_failure:"",id_tipology_failure:"",id_point_failure:""}),D=Object(c.a)(q,2),z=D[0],H=D[1],M=Object(o.useState)([]),A=Object(c.a)(M,2),B=A[0],T=A[1],F=Object(o.useState)([]),L=Object(c.a)(F,2),I=L[0],V=L[1],U=Object(o.useState)({}),G=Object(c.a)(U,2),J=G[0],X=G[1],W=Object(o.useState)([]),K=Object(c.a)(W,2),Q=K[0],Z=K[1],$=Object(o.useState)(!1),ee=Object(c.a)($,2),ae=ee[0],te=ee[1],ne=Object(o.useState)([]),re=Object(c.a)(ne,2),le=re[0],ce=re[1],oe=Object(o.useState)([]),ie=Object(c.a)(oe,2),se=ie[0],me=ie[1],de=Object(o.useState)([]),ue=Object(c.a)(de,2),pe=ue[0],ge=ue[1],be=Object(o.useState)([]),Ee=Object(c.a)(be,2),fe=Ee[0],_e=Ee[1],ve=Object(o.useState)([]),ye=Object(c.a)(ve,2),he=ye[0],Oe=ye[1],je=Object(o.useState)(!1),ke=Object(c.a)(je,2),Ce=ke[0],we=ke[1],xe=Object(o.useState)(!1),Ne=Object(c.a)(xe,2),Se=Ne[0],qe=Ne[1],Pe=Object(o.useRef)(null),Re=Object(o.useState)({}),Ye=Object(c.a)(Re,2),De=Ye[0],ze=Ye[1],He=Object(o.useState)(!1),Me=Object(c.a)(He,2),Ae=Me[0],Be=Me[1],Te=Object(o.useState)(!1),Fe=Object(c.a)(Te,2),Le=Fe[0],Ie=Fe[1],Ve=Object(o.useState)(!1),Ue=Object(c.a)(Ve,2),Ge=Ue[0],Je=Ue[1],Xe=Object(o.useState)(!1),We=Object(c.a)(Xe,2),Ke=We[0],Qe=We[1],Ze=Object(o.useState)(!1),$e=Object(c.a)(Ze,2),ea=$e[0],aa=$e[1],ta=Object(o.useState)(""),na=Object(c.a)(ta,2),ra=na[0],la=na[1],ca=Object(o.useState)([]),oa=Object(c.a)(ca,2),ia=oa[0],sa=oa[1],ma=Object(o.useState)(!1),da=Object(c.a)(ma,2),ua=da[0],pa=da[1];Object(o.useEffect)((function(){e.config_ss&&Object.keys(e.config_ss).length>0?(ba(!0),ga(),Pe.current.focus()):(y.b.error("Debe hacer su configuraci\xf3n primero"),setTimeout((function(){e.history.replace("/masters/config")}),1e3))}),[]),Object(o.useMemo)((function(){Y=[{Header:"Recinto",accessor:function(e){return[e.precint.name]}},{Header:"Falla Relacionada",accessor:function(e){return[e.related.name]}},{Header:"Tipolog\xeda de Falla",accessor:function(e){return[e.tipology.name]}},{Header:"Falla Puntual",accessor:function(e){return[e.point.name]}},{Header:"Descripci\xf3n",accessor:function(e){return[e.description]}}],e.match.params.id||Y.push({Header:"Acci\xf3n",Cell:function(e){var a=e.cell.row.original;return i.a.createElement(m.a,{variant:"danger",block:!0,onClick:function(){return Ea(a.id)}},"Remover")}})}),[]);var ga=function(){O.a.delete(j.a+"failures_delivery_by_ip").then((function(e){console.log("registros borrados")})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},ba=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];(a=!0)&&(t=[O.a.get(j.a+"housing_complexe"),O.a.get(j.a+"master_cities"),O.a.get(j.a+"master_precint"),O.a.get(j.a+"params_manage_problems_tipology_by_type/1"),O.a.get(j.a+"params_manage_problems_related_failures"),O.a.get(j.a+"client")]),e.match.params.id&&t.push(O.a.get(j.a+"delivery/"+e.match.params.id)),Promise.all(t).then((function(t){a?(T(t[0].data),Z(t[1].data),ce(t[2].data),_e(t[3].data),me(t[4].data),sa(t[5].data),e.match.params.id&&(h({id_housing_complexe:t[6].data.id_housing_complexe,id_ownership:t[6].data.id_ownership,date_request:C(t[6].data.date_request).format("YYYY-MM-DD"),rut_ownership_client:t[6].data.rut_ownership_client,rut_deputy:t[6].data.rut_deputy,name_deputy:t[6].data.name_deputy,id_city:t[6].data.id_city,parkings:t[6].data.parkings.filter((function(e){return 2==e.type})).map((function(e){return e.name})),cellars:t[6].data.parkings.filter((function(e){return 1==e.type})).map((function(e){return e.name})),name_file:t[6].data.name_file,file:null,date_v_b_client:t[6].data.date_v_b_client?C(t[6].data.date_v_b_client).format("YYYY-MM-DD"):"",date_solution_observation:t[6].data.date_solution_observation?C(t[6].data.date_solution_observation).format("YYYY-MM-DD"):"",number_electricity:t[6].data.number_electricity,reading_electricity:t[6].data.reading_electricity,number_water:t[6].data.number_water,reading_water:t[6].data.reading_water,number_gas:t[6].data.number_gas,reading_gas:t[6].data.reading_gas,date_delivery_key:t[6].data.date_delivery_key?C(t[6].data.date_delivery_key).format("YYYY-MM-DD"):"",note:t[6].data.note,date_close_delivery:t[6].data.date_close_delivery?C(t[6].data.date_close_delivery).format("YYYY-MM-DD"):"",id:t[6].data.id,id_status:t[6].data.id_status,reason_anulate:t[6].data.reason_anulate}),ze(t[6].data),qe(!0))):e.match.params.id&&(h({id_housing_complexe:t[0].data.id_housing_complexe,id_ownership:t[0].data.id_ownership,date_request:C(t[0].data.date_request).format("YYYY-MM-DD"),rut_ownership_client:t[0].data.rut_ownership_client,rut_deputy:t[0].data.rut_deputy,name_deputy:t[0].data.name_deputy,id_city:t[0].data.id_city,parkings:t[0].data.parkings.filter((function(e){return 2==e.type})).map((function(e){return e.name})),cellars:t[0].data.parkings.filter((function(e){return 1==e.type})).map((function(e){return e.name})),name_file:t[0].data.name_file,file:null,date_v_b_client:t[0].data.date_v_b_client?C(t[0].data.date_v_b_client).format("YYYY-MM-DD"):"",date_solution_observation:t[0].data.date_solution_observation?C(t[0].data.date_solution_observation).format("YYYY-MM-DD"):"",number_electricity:t[0].data.number_electricity,reading_electricity:t[0].data.reading_electricity,number_water:t[0].data.number_water,reading_water:t[0].data.reading_water,number_gas:t[0].data.number_gas,reading_gas:t[0].data.reading_gas,date_delivery_key:t[0].data.date_delivery_key?C(t[0].data.date_delivery_key).format("YYYY-MM-DD"):"",note:t[0].data.note,date_close_delivery:t[0].data.date_close_delivery?C(t[0].data.date_close_delivery).format("YYYY-MM-DD"):"",id:t[5].data.id}),ze(t[0].data),qe(!0))})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},Ea=function(e){O.a.delete(j.a+"delivery_failure/"+e).then((function(e){xa(),y.b.success("Falla eliminada")})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},fa=function(){we(!Ce)},_a=function(e){O.a.get(j.a+"masters_ownership_by_housing_complexe/"+e).then((function(e){V(e.data)})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},va=function(e){if(Object.keys(s).length>0){var a="";switch(e){case"number":a=s.id;break;case"fecha_emision":a=C(s.date_request).format("DD-MM-YYYY");break;case"fecha_limite_cierre":a=Object.keys(De).length>0&&De.date_limit_close?C(De.date_limit_close).format("DD-MM-YYYY"):"-";break;case"fecha_cierre":a=Object.keys(De).length>0&&De.date_close?C(De.date_close).format("DD-MM-YYYY"):"-";break;case"dias_atraso":a="-";break;case"estado":a=Object.keys(De).length>0?De.status.status:"-"}return a}return"-"},ya=function(a){a.persist(),"id_housing_complexe"===a.target.name?(_a(a.target.value),h(Object(l.a)(Object(l.a)({},s),{},Object(r.a)({id_ownership:""},a.target.name,a.target.value)))):"id_ownership"===a.target.name?ja(a.target.value):"input_file"===a.target.name?-1!==e.config_ss.valid_format_documents.indexOf(a.target.files[0].type.split("/")[1])?h(Object(l.a)(Object(l.a)({},s),{},{file:a.target.files[0],name_file:a.target.files[0].name})):(y.b.error("El tipo de archivo no es valido"),document.getElementById("input_file").value="",document.getElementById("input_file").src=""):h(Object(l.a)(Object(l.a)({},s),{},Object(r.a)({},a.target.name,a.target.value)))},ha=function(e){"id_tipology_failure"===e.target.name&&e.target.value?(Na(e.target.value),H(Object(l.a)(Object(l.a)({},z),{},Object(r.a)({},e.target.name,e.target.value)))):H(Object(l.a)(Object(l.a)({},z),{},Object(r.a)({},e.target.name,e.target.value)))},Oa=function(){var e;h((e={id_housing_complexe:"",id_ownership:"",date_request:"",rut_ownership_client:"",rut_deputy:"",name_deputy:"",id_city:"",parkings:[],cellars:[]},Object(r.a)(e,"date_request",C().tz("America/Santiago").format("YYYY-MM-DD")),Object(r.a)(e,"name_file",""),Object(r.a)(e,"file",null),Object(r.a)(e,"date_v_b_client",""),Object(r.a)(e,"date_solution_observation",""),Object(r.a)(e,"number_electricity",""),Object(r.a)(e,"reading_electricity",""),Object(r.a)(e,"number_water",""),Object(r.a)(e,"reading_water",""),Object(r.a)(e,"number_gas",""),Object(r.a)(e,"reading_gas",""),Object(r.a)(e,"date_delivery_key",""),Object(r.a)(e,"note",""),Object(r.a)(e,"date_close_delivery",""),Object(r.a)(e,"reason_anulate",""),Object(r.a)(e,"id_status",7),Object(r.a)(e,"id",""),e)),te(!1),X({})},ja=function(e){var a=I.find((function(a){return a.id==e}));X(a),a.ownership_client&&la(a.ownership_client.name+" "+a.ownership_client.last_names),h(Object(l.a)(Object(l.a)({},s),{},{id_ownership:e,rut_ownership_client:a.id_client_ownership}))},ka=function(e){if("parking"===e){var a=document.getElementById("name_parking").value;document.getElementById("name_parking").value="",a?h(Object(l.a)(Object(l.a)({},s),{},{parkings:[].concat(Object(n.a)(s.parkings),[a])})):y.b.error("El campo estacionamiento no puede estar vacio")}else{var t=document.getElementById("name_celler").value;document.getElementById("name_celler").value="",t?h(Object(l.a)(Object(l.a)({},s),{},{cellars:[].concat(Object(n.a)(s.cellars),[t])})):y.b.error("El campo bodega no puede estar vacio")}},Ca=function(e,a){h("parking"===e?Object(l.a)(Object(l.a)({},s),{},{parkings:s.parkings.filter((function(e){return e!==a}))}):Object(l.a)(Object(l.a)({},s),{},{cellars:s.cellars.filter((function(e){return e!==a}))}))},wa=function(){H({description:"",id_precint:"",id_related_failure:"",id_tipology_failure:"",id_point_failure:""})},xa=function(){e.match.params.id?O.a.get(j.a+"delivery_failures/"+e.match.params.id).then((function(e){Oe(e.data)})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))})):O.a.get(j.a+"delivery_failures").then((function(e){Oe(e.data)})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},Na=function(e){O.a.get(j.a+"params_manage_problems_point_failures_by_tipology/"+e).then((function(e){ge(e.data)})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error,contacte con soporte"))}))},Sa=function(){Be(!Ae)},qa=function(){Ie(!Le)},Pa=function(){e.history.replace("/delivery/management")},Ra=function(){Je(!Ge)},Ya=function(){Qe(!0),O.a.get(j.a+"delivery_print_observation/"+e.match.params.id,{responseType:"blob"}).then((function(e){Qe(!1),P.a.saveAs(e.data,"observaciones.pdf")})).catch((function(e){Qe(!1),e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},Da=function(){Qe(!0),O.a.get(j.a+"delivery_send_observation/"+e.match.params.id).then((function(e){Qe(!1),y.b.success("Obseraciones Enviadas")})).catch((function(e){Qe(!1),e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},za=function(){aa(!ea)},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&ba(),pa(!ua)};return i.a.createElement(d.a,{fluid:!0},i.a.createElement(u.a,{className:"containerDiv"},i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(g.a,{onSubmit:function(e){var a=e.currentTarget;if(e.preventDefault(),!1===a.checkValidity())return e.stopPropagation(),void te(!0);var t=Object.assign({},s),n=new FormData;Object.keys(t).forEach((function(e,a){n.append(e,t[e])})),t.id?O.a.put(j.a+"delivery/"+t.id,n).then((function(e){y.b.success("Registro Modificado"),ba(),Oa()})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))})):O.a.post(j.a+"delivery",n).then((function(e){y.b.success("Registro Creado"),ba(),Oa(),Pe.current.focus()})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},noValidate:!0,validated:ae},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("h4",{style:{textDecoration:"underline"},className:"title_principal text-center"},"Acta de Entrega"),i.a.createElement(u.a,{style:{paddingTop:"3px"},className:"justify-content-center"},i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement("b",null,"N\xfamero:")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement("div",{className:"div_number subrayado"},va("number"))))),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{style:{paddingTop:"30px"}},i.a.createElement("b",null,"Fecha Emisi\xf3n:"))),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement(v.a,{type:"date",label:"",required:!1,messageErrors:["Requerido*"],name:"date_request",handleChange:ya,value:s.date_request,cols:"col-md-12 col-lg-12 col-sm-12",readonly:Se}))),i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Fecha L\xedmite Cierre:")),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},va("fecha_limite_cierre")))),i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Fecha Cierre:")),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},va("fecha_cierre")))),i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"D\xedas Atraso:")),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},va("dias_atraso")))),i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Estado:")),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},va("estado")))))))," ")," ",i.a.createElement("br",null),i.a.createElement(u.a,null,i.a.createElement(_.a,{type:"select",name:"id_housing_complexe",label:"Proyecto",required:!0,cols:"col-md-3 col-sm-3 col-lg-3",messageErrors:["Requerido*"],value:s.id_housing_complexe,handleChange:ya,ref:Pe,disabled:Se},i.a.createElement("option",{value:""},"--Seleccione--"),B.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(v.a,{type:"select",name:"id_ownership",label:"Propiedad",required:!0,cols:"col-md-3 col-sm-3 col-lg-3",messageErrors:["Requerido*"],value:s.id_ownership,handleChange:ya,disabled:Se},i.a.createElement("option",{value:""},"--Seleccione--"),I.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.number)}))),i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement(u.a,null,i.a.createElement(v.a,Object(r.a)({type:"text",name:"rut_ownership_client",readonly:!0,label:"Propietario",required:!0,cols:"col-md-12 col-sm-12 col-lg-12",messageErrors:[""],value:s.rut_ownership_client,handleChange:ya},"readonly",Se))),Object.keys(J).length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("b",null,"Nombre Cliente:"))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("br",null),i.a.createElement("h6",{style:{borderBottom:"1px solid black"}},ra)))):""),i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement("br",null),i.a.createElement(m.a,{variant:"secondary",onClick:za},i.a.createElement(f.h,null)),i.a.createElement("br",null),i.a.createElement("br",null),Object.keys(J).length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("b",null,"Tipo de Propiedad:"))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h6",{style:{borderBottom:"1px solid black",paddingTop:"10px"}},J.typeOwnership.name)))):"")),i.a.createElement(u.a,null,i.a.createElement(v.a,{type:"text",name:"rut_deputy",label:"Rut Representante",required:!1,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:[""],value:s.rut_deputy,handleChange:ya,readonly:Se}),i.a.createElement(v.a,{type:"text",name:"name_deputy",label:"Nombre Representante",required:!1,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:[""],value:s.name_deputy,handleChange:ya,readonly:Se}),i.a.createElement(v.a,{type:"select",name:"id_city",label:"Ciudad:",required:!0,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:["Requerido*"],value:s.id_city,handleChange:ya,disabled:Se},i.a.createElement("option",{value:""},"--Seleccione--"),Q.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)})))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Ingreso de Bodegas y Estacionamiento"),i.a.createElement("br",null)),i.a.createElement(p.a,{sm:5,md:5,lg:5},i.a.createElement("label",null,i.a.createElement("b",null,"Bodega")),i.a.createElement("input",{type:"text",name:"name_celler",label:"Bodega",id:"name_celler",className:"form-control form-control-sm",size:"sm",readOnly:Se})),i.a.createElement(p.a,{sm:1,md:1,lg:1},i.a.createElement(m.a,{type:"button",variant:"success",className:"margin_col",size:"sm",block:!0,onClick:function(){ka("celler")}},i.a.createElement(f.d,null))),i.a.createElement(p.a,{sm:5,md:5,lg:5},i.a.createElement("label",null,i.a.createElement("b",null,"Estacionamiento")),i.a.createElement("input",{type:"text",name:"name_parking",id:"name_parking",className:"form-control form-control-sm",size:"sm",readOnly:Se})),i.a.createElement(p.a,{sm:1,md:1,lg:1},i.a.createElement(m.a,{type:"button",variant:"success",className:"margin_col",size:"sm",block:!0,onClick:function(){ka("parking")}},i.a.createElement(f.d,null)))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:6,md:6,lg:6,className:"div_bodega_parking"},i.a.createElement("br",null),i.a.createElement("ul",{className:"list-group"},s.cellars.map((function(a,t){return i.a.createElement("li",{className:"list-group-item",key:t},a," ",i.a.createElement(m.a,{style:{display:e.match.params.id?"none":"inline"},variant:"danger",size:"sm",onClick:function(){Ca("cellar",a)}},i.a.createElement(f.k,null)))})))),i.a.createElement(p.a,{sm:6,md:6,lg:6,className:"div_bodega_parking"},i.a.createElement("br",null),i.a.createElement("ul",{className:"list-group"},s.parkings.map((function(a,t){return i.a.createElement("li",{className:"list-group-item",key:t},a," ",i.a.createElement(m.a,{style:{display:e.match.params.id?"none":"inline"},variant:"danger",size:"sm",onClick:function(){Ca("parking",a)}},i.a.createElement(f.k,null)))}))))),i.a.createElement("br",null),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(b.a,null,i.a.createElement(b.a.Header,{style:{backgroundColor:"rgb(95, 104, 228)"}},i.a.createElement(b.a.Title,{className:"text-center",style:{color:"white"}},"Proceso de Levantamiento y Gesti\xf3n de Observaciones")),i.a.createElement(b.a.Body,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"INGRESO DE FALLAS:"),i.a.createElement("hr",null),i.a.createElement(u.a,null,i.a.createElement(v.a,{type:"select",required:!1,name:"id_precint",label:"Recinto:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:z.id_precint,handleChange:ha,disabled:Se},i.a.createElement("option",{value:""},"--Seleccione--"),le.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(v.a,{type:"select",required:!1,name:"id_related_failure",label:"Relacione su Falla con:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:z.id_related_failure,handleChange:ha,disabled:Se},i.a.createElement("option",{value:""},"--Seleccione--"),se.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(v.a,{type:"select",required:!1,name:"id_tipology_failure",label:"Tipolog\xeda de Falla:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:z.id_tipology_failure,handleChange:ha,disabled:Se},i.a.createElement("option",{value:""},"--Seleccione--"),fe.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(v.a,{type:"select",required:!1,name:"id_point_failure",label:"Falla Puntual:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:z.id_point_failure,handleChange:ha,disabled:Se},i.a.createElement("option",{value:""},"--Seleccione--"),pe.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)})))),i.a.createElement(u.a,null,i.a.createElement(v.a,{type:"textarea",required:!1,name:"description",label:"Descripci\xf3n de la Falla:",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12",value:z.description,handleChange:ha,readonly:Se}),i.a.createElement(p.a,{sm:8,md:8,lg:8}),i.a.createElement(p.a,{sm:2,md:2,lg:2},Object.keys(De).length>0?"":i.a.createElement(m.a,{size:"sm",variant:"danger",block:!0,type:"button",onClick:fa},"Ver fallas")),i.a.createElement(p.a,{sm:2,md:2,lg:2},Object.keys(De).length>0?"":i.a.createElement(m.a,{variant:"secondary",block:!0,type:"button",size:"sm",onClick:function(){if(!z.id_precint)return y.b.error("Debe Agregar un recinto"),!1;if(!z.id_related_failure)return y.b.error("Debe agregar una relaci\xf3n de falla"),!1;if(!z.id_tipology_failure)return y.b.error("Debe agregar una tipologia de falla"),!1;if(!z.id_point_failure)return y.b.error("Debe agregar una falla puntual"),!1;if(!z.description)return y.b.error("Debe agregar una descripci\xf3n de la falla"),!1;var e=Object.assign({},z,{id_delivery:null});O.a.post(j.a+"delivery_failure",e).then((function(e){wa(),xa(),y.b.success("Falla Agregada")})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))}},"Agregar ",i.a.createElement(f.e,null)))))),e.match.params.id>0?i.a.createElement(i.a.Fragment,null,Object.keys(De).length>0&&De.failures.length>0?i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("br",null),i.a.createElement("h5",{className:"text-center title_principal"},"Fallas Registradas"),i.a.createElement(k.a,{columns:Y,data:De.failures}))):"",i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("hr",null),5!=De.id_status&&6!=De.id_status?i.a.createElement("h5",{className:"text-center title_principal"},i.a.createElement("a",{href:"javascript:void(0)",onClick:Sa},"Agregar Seguimiento")):i.a.createElement("h5",{className:"text-center title_principal"},"Seguimientos Agregados"),i.a.createElement(k.a,{columns:x.a,data:De.followings?De.followings:[],letrasChicas:!0}),i.a.createElement("hr",null)))):"",i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Soluci\xf3n a Observaciones:"),i.a.createElement("hr",null)),i.a.createElement(v.a,{type:"date",label:"Fecha de soluci\xf3n a observaciones",required:!1,cols:"col-md-6 col-sm-6 col-lg-6",name:"date_solution_observation",messageErrors:["Requerido*"],handleChange:ya,value:s.date_solution_observation}),i.a.createElement(v.a,{type:"date",label:"Fecha V\xb0B\xb0 de Cliente",required:!1,cols:"col-md-6 col-sm-6 col-lg-6",name:"date_v_b_client",messageErrors:["Requerido*"],handleChange:ya,value:s.date_v_b_client})))),i.a.createElement(b.a,null,i.a.createElement(b.a.Header,{style:{backgroundColor:"rgb(95, 104, 228)"}},i.a.createElement(b.a.Title,{className:"text-center",style:{color:"white"}},"PROCESO DE ENTREGA DEFINITIVA")),i.a.createElement(b.a.Body,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Estado de Medidores"),i.a.createElement("hr",null))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"a) El\xe9ctricidad")),i.a.createElement(v.a,{type:"text",name:"number_electricity",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:ya,value:s.number_electricity,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(v.a,{type:"text",name:"reading_electricity",required:!1,messageErrors:[""],label:"Lectura",handleChange:ya,value:s.reading_electricity,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"b) Agua Potable")),i.a.createElement(v.a,{type:"text",name:"number_water",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:ya,value:s.number_water,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(v.a,{type:"text",name:"reading_water",required:!1,messageErrors:[""],label:"Lectura",handleChange:ya,value:s.reading_water,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"c) Gas")),i.a.createElement(v.a,{type:"text",name:"number_gas",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:ya,value:s.number_gas,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(v.a,{type:"text",name:"reading_gas",required:!1,messageErrors:[""],label:"Lectura",handleChange:ya,value:s.reading_gas,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Adjuntos:"),i.a.createElement("hr",null))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:function(){document.getElementById("input_file").click()}},"Seleccionar Adjunto"),i.a.createElement("input",{accept:e.config_ss?e.config_ss.valid_format_documents:"",type:"file",name:"input_file",id:"input_file",style:{display:"none"},onChange:ya})),i.a.createElement(p.a,{sm:4,md:4,lg:4},s.name_file?i.a.createElement(i.a.Fragment,null,i.a.createElement("b",null,s.name_file),"\xa0",Object.keys(De).length>0&&(5==De.id_status||6==De.id_status)?"":i.a.createElement(m.a,{size:"sm",variant:"danger",onClick:function(){s.id&&!s.file?O.a.delete(j.a+"delivery_delete_file/"+s.id).then((function(e){y.b.success("Archivo Eliminado"),h((function(e){return Object.assign({},s,{name_file:""})}))})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))})):(h((function(e){return Object.assign({},s,{name_file:"",file:null})})),document.getElementById("input_file").value="",document.getElementById("input_file").src="")}},i.a.createElement(f.k,null))):"")),i.a.createElement("br",null),i.a.createElement(u.a,null,i.a.createElement(v.a,{type:"textarea",name:"note",required:!1,messageErrors:[""],label:"Nota (uso interno):",handleChange:ya,value:s.note,cols:"col-md-12 col-sm-12 col-lg-12",rows:2})),i.a.createElement("hr",null),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Entrega de llaves y cierre de proceso de entrega"),i.a.createElement("hr",null)),i.a.createElement(v.a,{type:"date",name:"date_delivery_key",required:!1,messageErrors:[""],label:"Fecha Entrega de Llaves:",handleChange:ya,value:s.date_delivery_key,cols:"col-md-4 col-sm-4 col-lg-4"})))))),i.a.createElement("br",null),s.id?i.a.createElement(i.a.Fragment,null,6==s.id_status?i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement(m.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:Pa},"Volver"))):5==s.id_status?i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{onClick:function(){Qe(!0),O.a.get(j.a+"delivery_send_acta/"+e.match.params.id).then((function(e){Qe(!1),y.b.success("Acta entregada a los destinatarios")})).catch((function(e){Qe(!1),e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},disabled:Ke,type:"button",variant:"secondary",block:!0,size:"sm"},"Enviar Acta")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{disabled:Ke,type:"button",onClick:function(){Qe(!0),O.a.get(j.a+"delivery_print_acta/"+e.match.params.id,{responseType:"blob"}).then((function(e){Qe(!1),P.a.saveAs(e.data,"acta_entrega.pdf")})).catch((function(e){Qe(!1),e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},variant:"secondary",block:!0,size:"sm"},"Imprimir Acta")),i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement(m.a,{disabled:Ke,type:"button",variant:"secondary",block:!0,size:"sm",onClick:Da},"Enviar Observaciones")),i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement(m.a,{disabled:Ke,type:"button",variant:"secondary",block:!0,size:"sm",onClick:Ya},"Imprimir Observaciones")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{disabled:Ke,type:"button",variant:"danger",block:!0,size:"sm",onClick:Pa},"Volver")),Ke?i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("br",null),i.a.createElement("p",{className:"alert alert-danger text-center"},"Realizando Operaciones...")):""):i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{type:"submit",variant:"secondary",block:!0,size:"sm"},"Guardar")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{type:"button",onClick:qa,variant:"secondary",block:!0,size:"sm"},"Anular")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{disabled:Ke,type:"button",variant:"secondary",block:!0,size:"sm",onClick:Da},"Enviar Observaciones")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{disabled:Ke,type:"button",variant:"secondary",block:!0,size:"sm",onClick:Ya},"Imprimir Observaciones")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{type:"button",variant:"secondary",onClick:Ra,block:!0,size:"sm"},"Cerrar Entrega")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:Pa},"Volver")))):i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{type:"submit",variant:"primary",block:!0,size:"sm"},"Guardar")),i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:Pa},"Volver al Men\xfa de Entrega")))))),i.a.createElement(E.a,{show:Ce,onHide:fa,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},i.a.createElement(E.a.Header,{closeButton:!0,className:"header_dark",style:{backgroundColor:"black"}},i.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter",style:{color:"white"}},"Fallas Registradas")),i.a.createElement(E.a.Body,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(k.a,{columns:Y,data:he})))))),i.a.createElement(E.a.Footer,null,i.a.createElement(m.a,{variant:"secondary",onClick:fa},"cerrar"))),i.a.createElement(E.a,{show:ea,onHide:za,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},i.a.createElement(E.a.Header,{closeButton:!0,className:"header_dark"},i.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},"Clientes registrados")),i.a.createElement(E.a.Body,null,i.a.createElement(u.a,null,ua?i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(R.a,Object.assign({isModal:!0,showTable:Ha},e))):i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:4,md:4,lg:4,xs:6},i.a.createElement(m.a,{variant:"secondary",block:!0,onClick:Ha},"Crear Cliente ",i.a.createElement(f.d,null)))),i.a.createElement("br",null),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(k.a,{columns:[{Header:"Rut",accessor:"rut",Cell:function(e){var a=e.cell.row.original;return i.a.createElement(m.a,{variant:"link",onClick:function(){var e;e=a,h(Object(l.a)(Object(l.a)({},s),{},{rut_ownership_client:e.rut})),la(e.name+" "+e.last_names),aa(!1)}},a.rut)}},{Header:"Nombre",accessor:function(e){return[e.name+" "+e.last_names]}},{Header:"Direcci\xf3n",accessor:"address"},{Header:"Email",accessor:"email"}],data:ia})))))),i.a.createElement(E.a.Footer,null,i.a.createElement(m.a,{variant:"secondary",onClick:za},"cerrar"))),i.a.createElement(w.a,{show:Ae,onHide:Sa,submit:function(a){return new Promise((function(t,n){a.id_delivery=e.match.params.id,O.a.post(j.a+"delivery_following",a).then((function(e){ba(),t({})})).catch((function(e){e.response?n(e.response.data.message):n("Error,contacte con soporte")}))}))},title:"Agregar Nuevo Seguimiento"}),i.a.createElement(N,{show:Le,onHide:qa,submit:function(e){return new Promise((function(a,t){O.a.put(j.a+"delivery_anulate/"+s.id,e).then((function(e){ba(),a({})})).catch((function(e){e.response?t(e.response.data.message):t("Error,contacte con soporte")}))}))},title:"Anular Entrega"}),i.a.createElement(S,{show:Ge,onHide:Ra,submit:function(e){return new Promise((function(a,t){O.a.put(j.a+"delivery_close/"+s.id,e).then((function(e){ba(),a({})})).catch((function(e){e.response?t(e.response.data.message):t("Error,contacte con soporte")}))}))},title:"Cerrar Entrega"}))}))}}]);
//# sourceMappingURL=11.6bf01043.chunk.js.map