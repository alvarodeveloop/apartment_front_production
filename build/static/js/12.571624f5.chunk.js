(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[12],{571:function(e,a,t){"use strict";var n=t(18),r=t(574),c=t(1),l=t.n(c),s=t(577),o=t(575),i=t(576),u=t(280);function m(){var e=Object(r.a)(["\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return m=function(){return e},e}var d=s.a.div(m());function p(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,c=n.length;return l.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(c," registros..."),className:"inputPageFilter"})}function g(e,a,t){return Object(i.a)(e,t,{keys:[function(e){return e.values[a]}]})}function b(e){var a=e.columns,t=e.data,r=e.displayPaginationUp,c=e.letrasChicas,s=l.a.useMemo((function(){return{fuzzyText:g,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),i=l.a.useMemo((function(){return{Filter:p}}),[]),m=Object(o.useTable)({columns:a,data:t,defaultColumn:i,filterTypes:s,initialState:{pageIndex:0}},o.useFilters,o.useSortBy,o.usePagination),d=m.getTableProps,b=m.getTableBodyProps,f=m.headerGroups,E=m.page,v=m.prepareRow,h=m.canPreviousPage,y=m.canNextPage,N=m.pageOptions,x=m.pageCount,k=m.gotoPage,_=m.nextPage,P=m.previousPage,O=m.setPageSize,j=m.state,C=j.pageIndex,w=j.pageSize;return l.a.createElement("div",{className:"table-responsive"},r?l.a.createElement("div",{className:"pagination"},l.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k(0)},disabled:!h},"<<")," ",l.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return P()},disabled:!h},"<")," ",l.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return _()},disabled:!y},">")," ",l.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k(x-1)},disabled:!y},">>")," ",l.a.createElement("span",null,"P\xe1gina"," ",l.a.createElement("strong",null,C+1," de ",N.length)," "),l.a.createElement("span",{className:"ml-3"},"| ",l.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),l.a.createElement("input",Object(n.a)({type:"number",defaultValue:C+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;k(a)},className:"inputPage"},"onChange",(function(e){e.target.value>N.length&&(e.target.value=1)}))))," ",l.a.createElement("select",{value:w,onChange:function(e){O(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return l.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",l.a.createElement("table",Object.assign({},d(),{className:"table table-bordered"}),l.a.createElement("thead",null,f.map((function(e,a){return l.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center",key:a}),e.headers.map((function(e,a){return l.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera",style:{fontSize:c?"14px":"15px"},key:a}),e.render("Header"),l.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),l.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),l.a.createElement("tbody",Object.assign({},b(),{className:"text-center",style:{fontSize:c?"13px":"15px"}}),E.map((function(e,a){return v(e)||l.a.createElement("tr",Object.assign({},e.getRowProps(),{key:a+"-"}),e.cells.map((function(e,a){return l.a.createElement("td",Object.assign({},e.getCellProps(),{key:a+"td"}),e.render("Cell"))})))})))),l.a.createElement("div",{className:"pagination"},l.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k(0)},disabled:!h},"<<")," ",l.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return P()},disabled:!h},"<")," ",l.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return _()},disabled:!y},">")," ",l.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k(x-1)},disabled:!y},">>")," ",l.a.createElement("span",null,"P\xe1gina"," ",l.a.createElement("strong",null,C+1," de ",N.length)," "),l.a.createElement("span",{className:"ml-3"},"| ",l.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),l.a.createElement("input",Object(n.a)({type:"number",defaultValue:C+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;k(a)},className:"inputPage"},"onChange",(function(e){e.target.value>N.length&&(e.target.value=1)}))))," ",l.a.createElement("select",{value:w,onChange:function(e){O(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return l.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.displayPaginationUp,r=e.letrasChicas;return l.a.createElement(d,null,l.a.createElement(b,{data:a,columns:t,displayPaginationUp:n,letrasChicas:r}))}},589:function(e,a,t){},591:function(e,a){},593:function(e,a){},594:function(e,a){},634:function(e,a,t){},718:function(e,a,t){e.exports=t.p+"static/media/cap1.dc8b1732.png"},719:function(e,a,t){e.exports=t.p+"static/media/background_1920-2.c54eef50.jpg"},801:function(e,a,t){"use strict";t.r(a);var n=t(33),r=t(1),c=t.n(r),l=t(44),s=t(3),o=t.n(s),i=Object(l.a)(Object(l.a)({},o.a),{},{ID:o.a.oneOfType([o.a.string,o.a.number]).isRequired,component:o.a.oneOfType([o.a.string,o.a.func]),date:o.a.oneOfType([o.a.instanceOf(Date),o.a.string])}),u=t(6),m=t.n(u),d=t(759),p=t(760),g=t(761),b=t(762),f=t(763),E=t(718),v=function(e){var a=e.rounded,t=e.circle,r=e.src,s=e.size,o=e.tag,i=e.className,u=e.style,d=Object(n.a)(e,["rounded","circle","src","size","tag","className","style"]),p=m()({"rounded-circle":t,rounded:a},i);return c.a.createElement(o,Object.assign({src:r,style:Object(l.a)({width:s,height:s},u),className:p},d))};v.defaultProps={tag:"img",rounded:!1,circle:!0,size:40,src:t.n(E).a,style:{}};var h=v,y=function(e){var a=e.avatar,t=e.avatarSize,r=e.title,l=e.subtitle,s=e.text,o=e.children,i=e.className,u=Object(n.a)(e,["avatar","avatarSize","title","subtitle","text","children","className"]),E=m()("bg-gradient-theme",i);return c.a.createElement(d.a,Object.assign({inverse:!0,className:E},u),c.a.createElement(p.a,{className:"d-flex justify-content-center align-items-center flex-column"},c.a.createElement(h,{src:a,size:t,className:"mb-2"}),c.a.createElement(g.a,null,r),c.a.createElement(b.a,null,l),c.a.createElement(f.a,null,c.a.createElement("small",null,s))),o)};y.defaultProps={avatarSize:80};var N=t(764),x=t(765),k=function(e){var a=e.color,t=e.header,r=e.avatar,l=e.avatarSize,s=e.name,o=e.date,i=e.text,u=e.className,g=e.buttonProps,b=Object(n.a)(e,["color","header","avatar","avatarSize","name","date","text","className","buttonProps"]),E="bg-".concat(a),v=m()(E,u);return c.a.createElement(d.a,Object.assign({inverse:!0,className:v},b),t&&"string"===typeof t?c.a.createElement(N.a,{className:E},t):t,c.a.createElement(p.a,{className:"d-flex flex-wrap flex-column align-items-center justify-content-center"},c.a.createElement(h,{size:l,src:r}),c.a.createElement(f.a,{className:"text-center"},c.a.createElement("strong",{className:"d-block"},s),c.a.createElement("small",{className:"text-muted"},o)),c.a.createElement(f.a,{className:"text-center"},i),c.a.createElement(x.a,Object.assign({color:"primary"},g))))};k.defaultProps={color:"gradient-secondary",avatarSize:60};var _=t(771),P=t(772),O=t(766),j=t(767),C=t(768),w=t(769),S=t(770),z=(i.arrayOf(i.shape({id:i.ID,title:i.string,done:i.bool})),function(e){var a=e.todos,t=Object(n.a)(e,["todos"]);return c.a.createElement(O.a,Object.assign({flush:!0},t),a.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,t=e.title,n=e.done;return c.a.createElement(j.a,{key:a,className:"border-0"},c.a.createElement(C.a,{check:!0},c.a.createElement(w.a,{check:!0},c.a.createElement(S.a,{type:"checkbox",checked:n,readOnly:!0}),n?c.a.createElement("strike",null,t):c.a.createElement("span",null,t))))})),c.a.createElement(x.a,{block:!0},"Add"))});z.defaultProps={todos:[]};var Y=z,D=t(719),H=function(e){var a=e.image,t=e.title,r=e.subtitle,l=e.todos,s=Object(n.a)(e,["image","title","subtitle","todos"]);return c.a.createElement(d.a,s,c.a.createElement("div",{className:"position-relative"},c.a.createElement(_.a,{src:a}),c.a.createElement(P.a,{className:"bg-dark",style:{opacity:.2}},c.a.createElement(g.a,{className:"text-white"},t),c.a.createElement(f.a,{className:"text-white"},r))),c.a.createElement(Y,{todos:l}))};H.defaultProps={image:t.n(D).a,title:"Tasks",subtitle:"Due soon..."};var M,T=(M="cr",{create:function(e){var a=e;return"string"===typeof M&&(a="".concat(M,"-").concat(e)),{b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m()(a,t)},e:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m()("".concat(a,"__").concat(e),n)},m:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m()("".concat(a,"--").concat(e),n)}}}}),R=t(773),B=t(774),q=t(18),A={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"},F=function(e){var a,t=e.tag,r=e.className,l=e.type,s=Object(n.a)(e,["tag","className","type"]),o=m()(Object(q.a)({},l,!!l),r);return a=t||(!t&&A[l]?A[l]:"p"),c.a.createElement(a,Object.assign({},s,{className:o}))};F.defaultProps={type:"p"};var G=F,I=T.create("page"),K=function(e){var a=e.title,t=e.breadcrumbs,r=e.tag,l=e.className,s=e.children,o=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),i=I.b("px-3",l);return c.a.createElement(r,Object.assign({className:i},o),c.a.createElement("div",{className:I.e("header")},a&&"string"===typeof a?c.a.createElement(G,{type:"h1",className:I.e("title")},a):a,t&&c.a.createElement(R.a,{className:I.e("breadcrumb")},c.a.createElement(B.a,null,"Home"),t.length&&t.map((function(e,a){var t=e.name,n=e.active;return c.a.createElement(B.a,{key:a,active:n},t)})))),s)};K.defaultProps={tag:"div",title:""};var V=K,U=t(31),J=t(567),L=t(568),W=t(282),Q=(t(634),function(e){return c.a.createElement(J.a,null,c.a.createElement(L.a,null,c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal"},"Bienvenido ",e.user.name," "),c.a.createElement("hr",null)),c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement("p",null,"Este servicio web tiene como objetivo facilitar y personalizar el servicio de posventa con el cliente dando un seguimiento y una gesti\xf3n puntual a cada solicitud de servicio que se genere en su inmueble.")),c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement("ul",null,c.a.createElement("li",{className:"border_bottom"},"Realice solicitudes de servicio."),c.a.createElement("li",{className:"border_bottom"},"Revise el seguimiento y el estatus de la solicitud 100% en l\xednea."),c.a.createElement("li",{className:"border_bottom"},"Genere cualquier consulta o duda relacionada al inmueble u otros temas."),c.a.createElement("li",{className:"border_bottom"},"Descargue manuales de operaci\xf3n y los planos del inmueble."),c.a.createElement("li",{className:"border_bottom"},"Revise los avisos importantes.")))))}),X=t(30),Z=t(280),$=t(587),ee=t(598),ae=t(597),te=t(600),ne=t(619),re=(t(589),t(34)),ce=t(25),le=t.n(ce),se=t(13),oe=t(571),ie=t(289),ue=t(50),me=t(582),de=t(592),pe=function(e){Object(r.useEffect)((function(){console.log(e.housing)}),[]);return c.a.createElement(L.a,null,c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement(te.a,null,c.a.createElement(ne.a.Toggle,{as:te.a.Header,eventKey:e.id,style:{backgroundColor:"rgb(24, 20, 101)",color:"white"}},e.housing.name," : ",e.housing.ownerships.length),c.a.createElement(ne.a.Collapse,{className:"separated_borders_accordeon",eventKey:e.id},e.housing.ownerships?c.a.createElement(L.a,null,c.a.createElement(W.a,{sm:4,md:4,lg:4},c.a.createElement(Z.a,{variant:"success",block:!0,type:"button",size:"sm",onClick:function(){var a=de.utils.book_new(),t=[["Nro Propiedad","C. Habitacional","Tipo Propiedad","Propietario","Inscripci\xf3n a Conservador","Termino de Garant\xeda"]];a.Props={Title:"Reporte de Propiedades con garantia vencida (inscripci\xf3n a conservador)",Subject:"Exportaci\xf3n de Data",Author:"Veanx tecnology",CreatedDate:ie().format("YYYY-MM-DD")},a.SheetNames.push("Propiedades"),e.housing.ownerships.forEach((function(a,n){t.push([a.number,a.housing_complexe.name,a.typeOwnership.name,a.ownership_client.name+" "+a.ownership_client.last_names,ie(a.date_inscription_conservative).format("DD-MM-YYYY"),ie(a.date_inscription_conservative).add(e.config.garanty_1,"years").format("DD-MM-YYYY")])}));var n=de.utils.aoa_to_sheet(t);a.Sheets.Propiedades=n;var r=de.write(a,{bookType:"xlsx",type:"binary"}),c=Object(ue.b)(r);Object(me.saveAs)(new Blob([c],{type:"application/octet-stream"}),"Reporte de Propiedades con Garantias Vencidas a Conservador"+ie().format("DD-MM-YYYY")+".xlsx")}},"Exportar a Excel"),c.a.createElement("br",null)),c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement(oe.a,{columns:e.columns,data:e.housing.ownerships}))):c.a.createElement("h5",{className:"text-center"},"No se encontraron registros")))))},ge=[],be=[],fe=function(e){var a=Object(r.useState)([]),t=Object(X.a)(a,2),n=t[0],l=t[1],s=Object(r.useState)([]),o=Object(X.a)(s,2),i=o[0],u=o[1],m=Object(r.useState)({}),d=Object(X.a)(m,2),p=d[0],g=d[1];Object(r.useEffect)((function(){return f(),function(){ge=[],be=[]}}),[]),Object(r.useMemo)((function(){ge=[{Header:"Nro.SS",accessor:"id",Cell:function(e){var a=e.cell.row.original;return c.a.createElement(Z.a,{variant:"link",size:"sm",onClick:function(){return b(a.id)}},a.id)}},{Header:"Fecha Emisi\xf3n",accessor:function(e){return[ie(e.date_request).format("DD-MM-YYYY")]}},{Header:"Cliente",accessor:function(e){return e.client?[e.client.name+" "+e.client.last_names]:[]}},{Header:"Depto",accessor:function(e){return e.ownership?[e.ownership.number]:[]}},{Header:"Block/Mzna",accessor:function(e){return e.housing.block_mza?["Si"]:["No"]}},{Header:"Proyecto",accessor:function(e){return[e.housing.name]}},{Header:"Prioridad",accessor:function(e){return[e.status.status]},Cell:function(e){var a=e.cell.row.original;return c.a.createElement($.a,{variant:"danger",className:"font-badge"},a.status.status)}}],be=[{Header:"Nro Prop",accessor:"number"},{Header:"C. Habi",accessor:function(e){return[e.housing_complexe.name]}},{Header:"Tipo Propiedad",accessor:function(e){return[e.typeOwnership.name]}},{Header:"Propietario",accessor:function(e){return[e.ownership_client.name+" "+e.ownership_client.last_names]}},{Header:"Inscripci\xf3n a Conservador",accessor:function(e){return[ie(e.date_inscription_conservative).format("DD-MM-YYYY")]}},{Header:"Termino de Garantia",accessor:function(e){return[ie(e.date_inscription_conservative).add(p.garanty_1,"years").format("DD-MM-YYYY")]}}]}),[p]);var b=function(a){e.history.replace("request/property/managment/form/"+a)},f=function(){var e=[le.a.get(re.a+"dashboard_data"),le.a.get(re.a+"master_config_property_data")];Promise.all(e).then((function(e){l(e[0].data.ss_propiedad),u(e[0].data.housing_vencida),g(e[1].data)})).catch((function(e){e.response?se.b.error(e.response.data.message):(console.log(e),se.b.error("Error, contacte con soporte"))}))};return c.a.createElement(J.a,{fluid:!0},c.a.createElement(L.a,null,c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement(ee.a,{defaultActiveKey:"ss_open",id:"uncontrolled-tab-example",variant:"pills"},c.a.createElement(ae.a,{eventKey:"ss_open",title:"S.S Abiertas"},c.a.createElement("br",null),c.a.createElement(te.a,null,c.a.createElement(te.a.Header,{style:{backgroundColor:"lightgray",color:"black"}},"S.S Abiertas por mas de 5 d\xedas"),c.a.createElement(te.a.Body,null,n.length>0?c.a.createElement(oe.a,{columns:ge,data:n}):c.a.createElement("h5",{className:"alert alert-warning text-center"},"No se encontraron Registros")))),c.a.createElement(ae.a,{eventKey:"ss_construc",title:"S.S para constructora"},c.a.createElement("br",null),c.a.createElement(te.a,null,c.a.createElement(te.a.Header,{style:{backgroundColor:"lightgray",color:"black"}},"S.S. del dia para Constructora."),c.a.createElement(te.a.Body,null,c.a.createElement("h5",{className:"alert alert-warning text-center"},"No se encontraron Registros")))),c.a.createElement(ae.a,{eventKey:"propiedades",title:"Propiedades con Garant\xeda Vencida"},c.a.createElement("br",null),c.a.createElement(te.a,{className:"accordeon_dashboard"},c.a.createElement(te.a.Header,{style:{backgroundColor:"lightgray",color:"black"}},"Propidades con primera Garant\xeda vencida (Inscripci\xf3n a Conservador)."),c.a.createElement(te.a.Body,null,c.a.createElement(ne.a,{className:"separated_borders"},i.map((function(e,a){return c.a.createElement(pe,{columns:be,id:a,key:a,housing:e,config:p})}))))))))))},Ee=function(e){return c.a.createElement(J.a,null,c.a.createElement(L.a,null,c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal"},"Bienvenido ",e.user.name," - ",e.housing.housing.name," - Administraci\xf3n "),c.a.createElement("hr",null)),c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement("p",null,"Este servicio web tiene como objetivo facilitar y personalizar el servicio de posventa con el cliente dando un seguimiento y una gesti\xf3n puntual a cada solicitud de servicio que se genere en su inmueble.")),c.a.createElement(W.a,{sm:12,md:12,lg:12},c.a.createElement("ul",null,c.a.createElement("li",{className:"border_bottom"},"Realice solicitudes de servicio."),c.a.createElement("li",{className:"border_bottom"},"Revise el seguimiento y el estatus de la solicitud 100% en l\xednea."),c.a.createElement("li",{className:"border_bottom"},"Genere cualquier consulta o duda relacionada al inmueble u otros temas."),c.a.createElement("li",{className:"border_bottom"},"Descargue manuales de operaci\xf3n y los planos del inmueble."),c.a.createElement("li",{className:"border_bottom"},"Revise los avisos importantes.")))))};a.default=Object(U.b)((function(e){return{user:e.auth.user,housing:e.housing.housing}}),{})((function(e){return Object(r.useEffect)((function(){console.log(e,"aqui")}),[]),c.a.createElement(V,{className:"DashboardPage",title:"Escritorio",breadcrumbs:[{name:"Escritorio",active:!0}]},e.user.id_rol<5?c.a.createElement(fe,e):5==e.user.id_rol?c.a.createElement(Q,e):6==e.user.id_rol?c.a.createElement(Ee,e):"")}))}}]);
//# sourceMappingURL=12.571624f5.chunk.js.map