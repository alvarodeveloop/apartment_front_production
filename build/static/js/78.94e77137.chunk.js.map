{"version":3,"sources":["pages/request_services/ManagementSolicitudePropertyFormPage.jsx"],"names":["ManagementSolicitudePropertyFormPage","props","useState","validated1","setValidated1","validated3","setValidated3","id_status","id_priority","id_time_limit_service","date","moment","tz","format","id_reason_close","form1","setForm1","is_private_file","name_file","file","form2","setForm2","date_close","reason_close","form3","setForm3","data","setData","statuses","setStatuses","priorities","setPriorities","reasonCloses","setReasonCloses","limitServices","setLimitServices","isOpenModalTask","setIsOpenModalTask","isOpenModalTaskWorker","setIsOpenModalTaskWorker","isOpenModalTaskClose","setIsOpenModalTaskClose","isOpenModalFollowing","setIsOpenModalFollowing","taskActive","setTaskActive","followings","setFollowings","statusFailure","reasonFailure","typologys","objectFailures","setObjectFailures","inputRef","useRef","useEffect","fetchData","current","focus","searchDateForm1","datos","date_inspection","date_execution","typeFetch","id","match","params","promises","axios","get","API_URL","push","Promise","all","then","result","form1Object","Object","assign","propsTask","catch","err","response","toast","error","message","console","log","displayData","type","keys","length","val","client","name","last_names","contact_to","origin","housing","ownership","number","models","date_request","onChange","handleChangeForm1","e","target","value","handleChangeForm3","checkedWeekDays","day","week_days","find","v","openModalTask","removeWorkerTask","id_ownership_ss_task","delete","success","openModalTaskWorker","openModalCloseTask","clearForm3","openModalFollowing","fluid","className","sm","md","lg","style","textDecoration","variant","block","size","onClick","responseType","FileSaver","saveAs","history","replace","paddingBottom","offset","span","paddingLeft","forhtml","checked","disabled","rows","note","document","getElementById","click","typeInput","persist","formData","FormData","append","files","put","handleChangeInputFile","display","accept","borderLeft","onSubmit","form","currentTarget","preventDefault","checkValidity","stopPropagation","object_put","id_put","noValidate","validated","ref","required","label","cols","messageErrors","handleChange","map","i","key","status","Header","backgroundColor","Toggle","as","Button","eventKey","color","Collapse","Body","width","workers","personal","Fragment","contractor","task","initial_date","block_initial","final_date","block_final","solicitude","description","defaultActiveKey","title","columns","following_columns","letrasChicas","failures","precint","related","point","failure","show","onHide","submit","dataTask","resolved","rejected","id_ownership_ss","post","dataFollowing","aria-labelledby","centered","backdrop","closeButton","Title","objectPost"],"mappings":"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","file":"static/js/78.94e77137.chunk.js","sourcesContent":["import React, { useRef, useState, useEffect, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Form,\r\n  Card,\r\n  Accordion,\r\n  Modal,\r\n  Tabs,\r\n  Tab\r\n} from 'react-bootstrap'\r\nimport {\r\n  MdSend,\r\n  MdRemoveCircle,\r\n  MdAddCircle,\r\n  MdPersonAdd,\r\n  MdPlaylistAdd\r\n} from 'react-icons/md'\r\nimport 'styles/pages/managementSolicitudePropertyFormPage.css'\r\nimport { API_URL } from 'utils/constants'\r\nimport { toast } from 'react-toastify';\r\nimport InputField from 'components/input/InputComponent'\r\nimport InputFieldRef from 'components/input/InputComponentRef'\r\nimport axios from 'axios'\r\nimport ModalTaskComponent from 'components/ModalTaskComponent'\r\nimport ModalTaskWorkerComponent from 'components/ModalTaskWorkerComponent'\r\nimport ModalFollowingTaskComponent from 'components/ModalFollowingTaskComponent'\r\nimport Table from 'components/Table'\r\nimport * as moment from 'moment-timezone'\r\nimport { following_columns } from 'utils/columns/followingColumns'\r\nimport ManagementSolicitudeFailureFormComponent from 'components/ManagementSolicitudeFailureFormComponent'\r\nimport FileSaver from 'file-saver'\r\n\r\n\r\nconst ManagementSolicitudePropertyFormPage = (props) => {\r\n\r\n  const [validated1, setValidated1] = useState(false)\r\n  const [validated3, setValidated3] = useState(false)\r\n  const [form1,setForm1] = useState({\r\n    id_status: '',\r\n    id_priority: '',\r\n    id_time_limit_service: '',\r\n    date: moment().tz('America/Santiago').format('YYYY-MM-DD'),\r\n    id_reason_close: ''\r\n  })\r\n  const [form2, setForm2] = useState({\r\n    is_private_file: true,\r\n    name_file: '',\r\n    file: ''\r\n  })\r\n  const [form3, setForm3] = useState({\r\n    date_close: moment().tz('America/Santiago').format('YYYY-MM-DD'),\r\n    reason_close: '',\r\n  })\r\n\r\n  const [data,setData] = useState({})\r\n  const [statuses, setStatuses] = useState([])\r\n  const [priorities, setPriorities] = useState([])\r\n  const [reasonCloses, setReasonCloses] = useState([])\r\n  const [limitServices, setLimitServices] = useState([])\r\n  const [isOpenModalTask,setIsOpenModalTask] = useState(false)\r\n  const [isOpenModalTaskWorker,setIsOpenModalTaskWorker] = useState(false)\r\n  const [isOpenModalTaskClose,setIsOpenModalTaskClose] = useState(false)\r\n  const [isOpenModalFollowing,setIsOpenModalFollowing] = useState(false)\r\n  const [taskActive, setTaskActive] = useState({})\r\n  const [followings, setFollowings] = useState([])\r\n  const [objectFailures,setObjectFailures] = useState({\r\n    statusFailure: [],\r\n    reasonFailure: [],\r\n    typologys: []\r\n  })\r\n\r\n  const inputRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n\r\n    fetchData(true)\r\n    inputRef.current.focus()\r\n  },[])\r\n\r\n  const searchDateForm1 = datos => {\r\n\r\n    if(datos.id_status == '1'){\r\n      return moment().format('YYYY-MM-DD')\r\n    }else if(datos.id_status == '2'){\r\n      return moment(datos.date_inspection).format('YYYY-MM-DD')\r\n    }else if(datos.id_status == '3'){\r\n      return moment(datos.date_execution).format('YYYY-MM-DD')\r\n    }else{\r\n      return moment(datos.date_close).format('YYYY-MM-DD')\r\n    }\r\n  }\r\n\r\n  const fetchData = (typeFetch = false) => {\r\n    const id = props.match.params.id\r\n    let promises = [\r\n      axios.get(API_URL+'ownership_ss/'+id),\r\n      axios.get(API_URL+'ownership_ss_task_active/'+id),\r\n      axios.get(API_URL+'ownership_ss_following/'+id),\r\n    ]\r\n\r\n    if(typeFetch){\r\n      promises.push(axios.get(API_URL+'get_status_close'))\r\n      promises.push(axios.get(API_URL+'params_service_priority'))\r\n      promises.push(axios.get(API_URL+'params_service_reason_close'))\r\n      promises.push(axios.get(API_URL+'params_service_time_limit_service'))\r\n      promises.push(axios.get(API_URL+'get_status_failure'))\r\n      promises.push(axios.get(API_URL+'get_reason_failures'))\r\n      promises.push(axios.get(API_URL+'params_manage_problems_tipology'))\r\n    }\r\n\r\n    Promise.all(promises).then(result => {\r\n\r\n      setData(result[0].data)\r\n      \r\n      let form1Object = Object.assign({},form1,{\r\n        id_priority: result[0].data.id_priority,\r\n        id_status: result[0].data.id_status,\r\n        id_time_limit_service: result[0].data.id_time_limit_service,\r\n        id_reason_close: result[0].data.id_reason_close,\r\n        date: searchDateForm1(result[0].data)\r\n      })\r\n      setForm1(form1Object)\r\n      setForm2(Object.assign({},form2,{\r\n        is_private_file: result[0].data.is_private_file,\r\n        name_file: result[0].data.file,\r\n        file: ''\r\n      }))\r\n      setTaskActive( propsTask => {\r\n        return result[1].data ? result[1].data : {}\r\n      })\r\n      setFollowings(result[2].data)\r\n\r\n\r\n      if(typeFetch){\r\n        setStatuses(result[3].data)\r\n        setPriorities(result[4].data)\r\n        setReasonCloses(result[5].data)\r\n        setLimitServices(result[6].data)\r\n        setObjectFailures({statusFailure: result[7].data, reasonFailure: result[8].data, typologys: result[9].data})\r\n      }\r\n\r\n\r\n    }).catch(err => {\r\n      if(err.response){\r\n        toast.error(err.response.data.message)\r\n      }else{\r\n        console.log(err);\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  const displayData = type => {\r\n    if(Object.keys(data).length > 0){\r\n      let val = \"\"\r\n      switch (type) {\r\n        case \"number\":\r\n          val = data.id\r\n        break;\r\n        case \"crea\":\r\n          val = data.client ? data.client.name+' '+data.client.last_names : ''\r\n        break;\r\n        case \"solicita\":\r\n          val = data.client ? data.client.name+' '+data.client.last_names : ''\r\n        break;\r\n        case \"contactar\":\r\n          val = data.contact_to\r\n        break;\r\n        case \"origen\":\r\n          val = data.origin.name\r\n        break;\r\n        case \"proyecto\":\r\n          val = data.housing.name\r\n        break;\r\n        case \"propiedad\":\r\n          val = data.ownership ? data.ownership.number : ''\r\n        break;\r\n        case \"modelo\":\r\n          val = data.ownership ? data.ownership.models.name : ''\r\n        break;\r\n        case \"fecha_emision\":\r\n          val = moment(data.date_request).format('DD-MM-YYYY')\r\n        break;\r\n        case \"fecha_inspeccion\":\r\n          val = data.date_inspection ? moment(data.date_inspection).format('DD-MM-YYYY') : '-'\r\n        break;\r\n        case \"fecha_ejecucion\":\r\n          val = data.date_execution ? moment(data.date_execution).format('DD-MM-YYYY') : '-'\r\n          break;\r\n        case \"fecha_close\":\r\n          val = data.date_close ? moment(data.date_close).format('DD-MM-YYYY') : '-'\r\n        break;\r\n      }\r\n\r\n      return val\r\n    }else{\r\n      return ''\r\n    }\r\n  }\r\n\r\n  const onChange = () => {\r\n\r\n  }\r\n\r\n  const handleChangeForm1 = e => {\r\n    setForm1({...form1,[e.target.name] : e.target.value})\r\n  }\r\n\r\n  const handleChangeForm2 = e => {\r\n    setForm2({...form2, [e.target.name] : e.target.checked })\r\n\r\n  }\r\n\r\n  const handleChangeForm3 = e => {\r\n    setForm3({...form3, [e.target.name] : e.target.value })\r\n\r\n  }\r\n\r\n  const openInputFiles = typeInput => {\r\n    if(typeInput === \"principal\"){\r\n      document.getElementById('file_principal').click()\r\n    }\r\n  }\r\n\r\n  const handleChangeInputFile = (e,typeInput) => {\r\n    e.persist()\r\n    if(typeInput === \"principal\"){\r\n      let formData = new FormData\r\n      formData.append('is_private_file',form2.is_private_file)\r\n      formData.append('document',e.target.files[0])\r\n      const id = props.match.params.id\r\n      axios.put(API_URL+'ownership_ss_file/'+id,formData).then(result => {\r\n        toast.success('Archivo subido con éxito')\r\n        fetchData()\r\n        e.target.value = \"\"\r\n      }).catch(err => {\r\n        e.target.value = \"\"\r\n        if(err.response){\r\n          toast.error(err.response.data.message)\r\n        }else{\r\n          toast.error('Error,contacte con soporte')\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const checkedWeekDays = day => {\r\n    if(Object.keys(data).length > 0){\r\n      return !!data.week_days.find(v => v.day == day)\r\n    }else{\r\n      return false\r\n    }\r\n  }\r\n\r\n  const onSubmitForm1 = e => {\r\n\r\n    const form = e.currentTarget;\r\n    e.preventDefault();\r\n    if (form.checkValidity() === false) {\r\n      e.stopPropagation();\r\n      setValidated1(true);\r\n      return\r\n    }\r\n\r\n    let object_put = Object.assign({},form1)\r\n    let id_put = props.match.params.id\r\n    axios.put(API_URL+'ownership_ss_status/'+id_put,object_put).then(result => {\r\n      toast.success('Datos modificados')\r\n      fetchData()\r\n      inputRef.current.focus()\r\n    }).catch(err => {\r\n     \t if(err.response){\r\n         toast.error(err.response.data.message)\r\n       }else{\r\n         toast.error('Error, contacte con soporte')\r\n       }\r\n    })\r\n  }\r\n\r\n  const openModalTask = () => {\r\n    setIsOpenModalTask(!isOpenModalTask)\r\n  }\r\n\r\n  const handleSubmitTaskModal = dataTask => {\r\n    return new Promise((resolved,rejected) => {\r\n      dataTask.id_ownership_ss = props.match.params.id\r\n      axios.post(API_URL+'ownership_ss_task',dataTask).then(result => {\r\n        fetchData()\r\n        resolved({})\r\n      }).catch(err => {\r\n        if(err.response){\r\n          rejected(err.response.data.message)\r\n        }else{\r\n          rejected('Error,contacte con soporte')\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  const removeWorkerTask = (id,id_ownership_ss_task) => {\r\n    axios.delete(API_URL+'ownership_ss_task_worker/'+id+'/'+id_ownership_ss_task).then(result => {\r\n      toast.success('Trabajador removido')\r\n      fetchData()\r\n    }).catch(err => {\r\n      if(err.response){\r\n        toast.error(err.response.data.message)\r\n      }else{\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  const openModalTaskWorker = () => {\r\n    setIsOpenModalTaskWorker(!isOpenModalTaskWorker)\r\n  }\r\n\r\n  const handleSubmitTaskModalWorker = dataTask => {\r\n\r\n    return new Promise((resolved,rejected) => {\r\n      dataTask.id_ownership_ss_task = taskActive.id\r\n      axios.post(API_URL+'ownership_ss_task_worker',dataTask).then(result => {\r\n        fetchData()\r\n        resolved({})\r\n      }).catch(err => {\r\n        if(err.response){\r\n          rejected(err.response.data.message)\r\n        }else{\r\n          rejected('Error,contacte con soporte')\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  const openModalCloseTask = () => {\r\n    setIsOpenModalTaskClose(!isOpenModalTaskClose)\r\n  }\r\n\r\n  const handleSubmitForm3 = e => {\r\n    const form = e.currentTarget;\r\n    e.preventDefault();\r\n    if (form.checkValidity() === false) {\r\n      e.stopPropagation();\r\n      setValidated3(true);\r\n      return\r\n    }\r\n\r\n    let objectPost = Object.assign({},form3)\r\n    objectPost.status = 2\r\n    axios.put(API_URL+'ownership_ss_task/'+taskActive.id,objectPost).then(result => {\r\n      toast.success('Tarea Cerrada')\r\n      fetchData()\r\n      openModalCloseTask()\r\n      clearForm3()\r\n    }).catch(err => {\r\n      if(err.response){\r\n        toast.error(err.response.data.message)\r\n      }else{\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  const clearForm3 = () => {\r\n    setForm3({\r\n      date_close: moment().tz('America/Santiago').format('YYYY-MM-DD'),\r\n      reason_close: '',\r\n    })\r\n  }\r\n\r\n  const openModalFollowing = () => {\r\n    setIsOpenModalFollowing(!isOpenModalFollowing)\r\n  }\r\n\r\n  const downloadFile = () => {\r\n    axios.get(API_URL+\"ownership_ss_file/\"+data.file,{\r\n      responseType: 'blob'\r\n    }).then(result => {\r\n      FileSaver.saveAs(result.data,data.file)\r\n    }).catch(err => {\r\n      if(err.response){\r\n        toast.error(err.response.data.message)\r\n      }else{\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleSubmitFollowing = dataFollowing => {\r\n    return new Promise((resolved,rejected) => {\r\n      dataFollowing.id_ownership_ss = props.match.params.id\r\n      axios.post(API_URL+'ownership_ss_following',dataFollowing).then(result => {\r\n        fetchData()\r\n        resolved({})\r\n      }).catch(err => {\r\n        if(err.response){\r\n          rejected(err.response.data.message)\r\n        }else{\r\n          rejected('Error,contacte con soporte')\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  const goToTable = ()  => {\r\n    props.history.replace('/request/property/managment')\r\n  }\r\n\r\n  const generate_orden_post_venta = () => {\r\n    axios.get(API_URL+'ownership_ss_download_orden_post_venta/'+props.match.params.id,{\r\n      responseType: 'blob'\r\n    }).then(result => {\r\n      FileSaver.saveAs(result.data,'orden_post_venta.pdf')\r\n    }).catch(err => {\r\n      if(err.response){\r\n        toast.error('Error, contacte con soporte o revise su configuración de empresa a ver si ya esta realizada')\r\n      }else{\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n      <Container fluid>\r\n        <Row className=\"containerDiv\">\r\n          <Col sm={12} md={12} lg={12}>\r\n            <Row>\r\n              <Col sm={6} md={6} lg={6}>\r\n                <h4 className=\"title_principal\" style={{ textDecoration: 'underline'}}>Gestion Servicios - Postventa</h4>\r\n                <Row>\r\n                  <Col sm={6} md={6} lg={6}>\r\n                    <br/>\r\n                    <Button variant=\"secondary\" block={true} type=\"button\" size=\"sm\" onClick={generate_orden_post_venta}>Generar Order</Button>\r\n                  </Col>\r\n                  <Col sm={6} md={6} lg={6}>\r\n                    <br/>\r\n                    <Button variant=\"danger\" block={true} type=\"button\" size=\"sm\" onClick={goToTable}>Salir</Button>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              <Col sm={6} md={6} lg={6}>\r\n                <Row>\r\n                  <Col sm={12} md={12} lg={12}>\r\n                    <Row style={{paddingBottom: '3px'}}>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <b>Fecha Emisión:</b>\r\n                      </Col>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <div className=\"div_number subrayado\">\r\n                            { displayData('fecha_emision') }\r\n                        </div>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row style={{paddingBottom: '3px'}}>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <b>Fecha Inspección:</b>\r\n                      </Col>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <div className=\"div_number subrayado\">\r\n                          { displayData('fecha_inspeccion') }\r\n                        </div>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row style={{paddingBottom: '3px'}}>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <b>Fecha Ejecución:</b>\r\n                      </Col>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <div className=\"div_number subrayado\">\r\n                          { displayData('fecha_ejecucion') }\r\n                        </div>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row style={{paddingBottom: '3px'}}>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <b>Fecha Cierre:</b>\r\n                      </Col>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <div className=\"div_number subrayado\">\r\n                          { displayData('fecha_close') }\r\n                        </div>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <hr/>\r\n            <Row>\r\n              <Col sm={12} md={12} lg={12}>\r\n                <Row>\r\n                  <Col sm={2} md={2} lg={2}>\r\n                    <b>Numero:</b>\r\n                  </Col>\r\n                  <Col sm={1} md={1} lg={1} className=\"\">\r\n                    <div className=\"div_number\">{ displayData('number') }</div>\r\n                  </Col>\r\n                  <Col sm={{\r\n                      offset: 1,\r\n                      span:1\r\n                    }}\r\n                    md={{\r\n                      offset: 1,\r\n                      span:1\r\n                    }}\r\n                    lg={{\r\n                      offset: 1,\r\n                      span:1\r\n                    }}>\r\n                    <b>Crea: </b>\r\n                  </Col>\r\n                  <Col sm={3} md={3} lg={3} className=\"subrayado\">\r\n                    { displayData('crea') }\r\n                  </Col>\r\n                  <Col sm={1} md={1} lg={1}>\r\n                    <b>Solicita: </b>\r\n                  </Col>\r\n                  <Col sm={3} md={3} lg={3} className=\"subrayado\">\r\n                    { displayData('solicita') }\r\n                  </Col>\r\n                </Row>\r\n                <br/>\r\n                <Row>\r\n                  <Col sm={1} md={1} lg={1}>\r\n                    <b>Origen: </b>\r\n                  </Col>\r\n                  <Col sm={3} md={3} lg={3} className=\"subrayado\" style={{ paddingLeft: '20px'}}>\r\n                    { displayData('origen') }\r\n                  </Col>\r\n                  <Col sm={1} md={1} lg={1}>\r\n                    <b>Proyecto: </b>\r\n                  </Col>\r\n                  <Col sm={3} md={3} lg={3} className=\"subrayado\" style={{ paddingLeft: '20px'}}>\r\n                    { displayData('proyecto') }\r\n                  </Col>\r\n                  <Col sm={1} md={1} lg={1}>\r\n                    <b>Propiedad:</b>\r\n                  </Col>\r\n                  <Col sm={3} md={3} lg={3} className=\"subrayado\" style={{ paddingLeft: '40px'}}>\r\n                    { displayData('propiedad') }\r\n                  </Col>\r\n                </Row>\r\n                <br/>\r\n                <Row>\r\n                  <Col sm={1} md={1} lg={1}>\r\n                    <b>Módelo:</b>\r\n                  </Col>\r\n                  <Col sm={3} md={3} lg={3} className=\"subrayado\" style={{ paddingLeft: '20px'}}>\r\n                    { displayData('modelo') }\r\n                  </Col>\r\n                  <Col sm={2} md={2} lg={2}>\r\n                    <b>Contactar con:</b>\r\n                  </Col>\r\n                  <Col sm={3} md={3} lg={3} className=\"subrayado\">\r\n                    { displayData('contactar') }\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col sm={12} md={12} lg={12}>\r\n                <br/>\r\n                <h4 className=\"title_principal\">Uso interno de Postventa</h4>\r\n                <hr/>\r\n              </Col>\r\n              <Col sm={7} md={7} lg={7}>\r\n                <Row>\r\n                  <Col sm={2} md={2} lg={2}>\r\n                    <label forhtml=\"lunes\">\r\n                      <input id=\"lunes\" type=\"checkbox\" value={1} checked={ checkedWeekDays(1) } onChange={onChange} name=\"week_days\" disabled=\"\"/>\r\n                      <br/>&nbsp;Lunes\r\n                    </label>\r\n                  </Col>\r\n                  <Col sm={2} md={2} lg={2}>\r\n                    <label forhtml=\"martes\">\r\n                      <input id=\"martes\" type=\"checkbox\" value={2} checked={ checkedWeekDays(2) } onChange={onChange} name=\"week_days\" disabled=\"\"/>\r\n                      &nbsp;Martes\r\n                    </label>\r\n                  </Col>\r\n                  <Col sm={2} md={2} lg={2}>\r\n                    <label forhtml=\"miercoles\">\r\n                      <input id=\"miercoles\" type=\"checkbox\" value={3} checked={ checkedWeekDays(3) } onChange={onChange} name=\"week_days\" disabled=\"\"/>\r\n                      &nbsp;Miercoles\r\n                    </label>\r\n                  </Col>\r\n                  <Col sm={2} md={2} lg={2}>\r\n                    <label forhtml=\"jueves\">\r\n                      <input id=\"jueves\" type=\"checkbox\" value={4} checked={ checkedWeekDays(4) } onChange={onChange} name=\"week_days\" disabled=\"\"/>\r\n                      &nbsp;Jueves\r\n                    </label>\r\n                  </Col>\r\n                  <Col sm={2} md={2} lg={2}>\r\n                    <label forhtml=\"viernes\">\r\n                      <input id=\"viernes\" type=\"checkbox\" value={5} checked={ checkedWeekDays(5) } onChange={onChange} name=\"week_days\" disabled=\"\"/>\r\n                      &nbsp;Viernes\r\n                    </label>\r\n                  </Col>\r\n                  <Col sm={2} md={2} lg={2}>\r\n                    <label forhtml=\"sabado\">\r\n                      <input id=\"sabado\" type=\"checkbox\" value={6} checked={ checkedWeekDays(6)} onChange={onChange} name=\"week_days\" />\r\n                      &nbsp;Sabado\r\n                    </label>\r\n                  </Col>\r\n                  <Col sm={12} md={12} lg={12}>\r\n                    <Row>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <label>De:</label>\r\n                        <select className=\"form-control form-control-sm\" disabled=\"\">\r\n                        </select>\r\n                      </Col>\r\n                      <Col sm={6} md={6} lg={6}>\r\n                        <label>Hasta:</label>\r\n                        <select className=\"form-control form-control-sm\" disabled=\"\">\r\n                        </select>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col sm={12} md={12} lg={12}>\r\n                    <label><b>Notas:</b></label>\r\n                    <textarea rows=\"2\" className=\"form-control form-control-sm\" disabled=\"\" onChange={() => {}} value={Object.keys(data).length > 0 ? data.note : ''}/>\r\n                  </Col>\r\n                </Row>\r\n                <hr/>\r\n                <Row>\r\n                  <Col sm={12} md={12} lg={12} className=\"text-center\">\r\n                    <h5 className=\"title_principal\" style={{ textDecoration: 'underline'}}>Agregar Documento</h5>\r\n                    <br/>\r\n                  </Col>\r\n                  <Col sm={12} md={12} lg={12}>\r\n                    <Row className=\"justify-content-center\">\r\n                      <Col sm={3} md={3} lg={3}>\r\n                        <label>\r\n                          <b>Privado</b>&nbsp;\r\n                          <input type=\"checkbox\" checked={form2.is_private_file} name=\"is_private_file\" onChange={handleChangeForm2} />\r\n                        </label>\r\n                      </Col>\r\n                      <Col sm={5} md={5} lg={5}>\r\n                        <Button variant=\"secondary\" block={true} size=\"sm\" type=\"button\" onClick={() => openInputFiles('principal')}>\r\n                          Seleccionar\r\n                        </Button>\r\n                        <input type=\"file\"\r\n                          id=\"file_principal\"\r\n                          onChange={(e) => handleChangeInputFile(e,'principal')}\r\n                          style={{ display: 'none'}}\r\n                          accept=\".rar,.pdf,.jpg,.jpeg,.png\"\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-center\">\r\n                      <Col sm={10} md={10} lg={10}>\r\n                        {data.file ? (\r\n                          <Button variant=\"link\" block={true} size=\"sm\" onClick={downloadFile}>{data.file}</Button>\r\n                        ) : ''}\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              <Col sm={5} md={5} lg={5} style={{ borderLeft: '1px solid lightgray'}}>\r\n                <Form onSubmit={onSubmitForm1} noValidate validated={validated1}>\r\n                  <Row>\r\n                    <InputFieldRef\r\n                      ref={inputRef}\r\n                      type=\"select\"\r\n                      required={true}\r\n                      name=\"id_status\"\r\n                      label=\"Estado:\"\r\n                      cols=\"col-md-12 col-sm-12 col-lg-12\"\r\n                      messageErrors={[\r\n                        'Requerido'\r\n                      ]}\r\n                      handleChange={handleChangeForm1}\r\n                      value={form1.id_status}\r\n                    >\r\n                      {statuses.map((v,i) => (\r\n                        <option value={v.id} key={i}>{v.status}</option>\r\n                      ))}\r\n                    </InputFieldRef>\r\n                    {form1.id_status > 1 ? (\r\n                      <InputField\r\n                        type=\"date\"\r\n                        required={false}\r\n                        name=\"date\"\r\n                        label=\"Fecha:\"\r\n                        cols=\"col-md-12 col-sm-12 col-lg-12\"\r\n                        messageErrors={[\r\n\r\n                        ]}\r\n                        handleChange={handleChangeForm1}\r\n                        value={form1.date}\r\n                        />\r\n                    ) : ''}\r\n                    {form1.id_status == 5 ? (\r\n                      <InputField\r\n                        type=\"select\"\r\n                        required={true}\r\n                        name=\"id_reason_close\"\r\n                        label=\"Motivo de Cierre:\"\r\n                        cols=\"col-md-12 col-sm-12 col-lg-12\"\r\n                        messageErrors={[\r\n\r\n                        ]}\r\n                        handleChange={handleChangeForm1}\r\n                        value={form1.id_reason_close}\r\n                        >\r\n                        {reasonCloses.map((v,i) => (\r\n                          <option value={v.id} key={i}>{v.name}</option>\r\n                        ))}\r\n                      </InputField>\r\n                    ) : ''}\r\n                    <InputField\r\n                      type=\"select\"\r\n                      required={true}\r\n                      name=\"id_priority\"\r\n                      label=\"Prioridad:\"\r\n                      cols=\"col-md-12 col-sm-12 col-lg-12\"\r\n                      messageErrors={[\r\n                        'Requerido'\r\n                      ]}\r\n                      handleChange={handleChangeForm1}\r\n                      value={form1.id_priority}\r\n                    >\r\n                      {priorities.map((v,i) => (\r\n                        <option value={v.id} key={i}>{v.name}</option>\r\n                      ))}\r\n                    </InputField>\r\n                    <InputField\r\n                      type=\"select\"\r\n                      required={true}\r\n                      name=\"id_time_limit_service\"\r\n                      label=\"Plazo Ejecución:\"\r\n                      cols=\"col-md-12 col-sm-12 col-lg-12\"\r\n                      messageErrors={[\r\n                        'Requerido'\r\n                      ]}\r\n                      handleChange={handleChangeForm1}\r\n                      value={form1.id_time_limit_service}\r\n                    >\r\n                      {limitServices.map((v,i) => (\r\n                        <option value={v.id} key={i}>{v.name}</option>\r\n                      ))}\r\n                    </InputField>\r\n                  </Row>\r\n                  <Row className=\"justify-content-center\">\r\n                    <Col sm={8} md={8} lg={8}>\r\n                      <Button variant=\"success\" block={true} type=\"submit\" size=\"sm\">Guardar <MdSend /></Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n                <hr/>\r\n                <Row className=\"justify-content-center\">\r\n                  {Object.keys(taskActive).length > 0 ? (\r\n                    <Col sm={12} md={12} lg={12}>\r\n                      <Accordion>\r\n                        <Card>\r\n                          <Card.Header style={{ backgroundColor: 'rgb(50, 110, 153)'}}>\r\n                            <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n                              <span style={{color: 'white'}}>Tarea Pendiente</span>\r\n                            </Accordion.Toggle>\r\n                          </Card.Header>\r\n                          <Accordion.Collapse eventKey=\"0\">\r\n                            <Card.Body>\r\n                              <Row>\r\n                                <Col sm={12} md={12} lg={12}>\r\n                                  <table className=\"table table-striped\">\r\n                                    <tbody>\r\n                                      <tr>\r\n                                        <td>\r\n                                          <b>Asignado A: </b>\r\n                                          <div style={{width: '100%'}} className=\"text-center\">\r\n                                            <Button variant=\"success\" size=\"sm\" type=\"button\" onClick={openModalTaskWorker}><MdAddCircle /></Button>\r\n                                          </div>\r\n                                        </td>\r\n                                        <td>\r\n                                          {taskActive.workers.map((v,i) => {\r\n                                            if(v.personal){\r\n                                              return(\r\n                                                <React.Fragment>\r\n                                                  {v.personal.name+' '+v.personal.last_names}\r\n                                                  &nbsp;\r\n                                                  {taskActive.workers.length > 1 ? (\r\n                                                    <Button variant=\"danger\" size=\"sm\" type=\"button\" onClick={() => removeWorkerTask(v.id,v.id_ownership_ss_task)} >\r\n                                                      <MdRemoveCircle />\r\n                                                    </Button>\r\n                                                  ) : ''}\r\n                                                  <br/>\r\n                                                </React.Fragment>\r\n                                              )\r\n                                            }else{\r\n                                              return(\r\n                                                <React.Fragment>\r\n                                                  {v.contractor.name}\r\n                                                  &nbsp;\r\n                                                  {taskActive.workers.length > 1 ? (\r\n                                                    <Button variant=\"danger\" size=\"sm\" type=\"button\" onClick={() => removeWorkerTask(v.id,v.id_ownership_ss_task)} >\r\n                                                      <MdRemoveCircle />\r\n                                                    </Button>\r\n                                                  ) : ''}\r\n                                                  <br/>\r\n                                                </React.Fragment>\r\n                                              )\r\n                                            }\r\n                                          })}\r\n                                        </td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <td><b>Tarea: </b></td>\r\n                                        <td>{taskActive.task.name}</td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <td><b>Fecha Inicial:</b></td>\r\n                                        <td>\r\n                                          {moment(taskActive.initial_date).format('DD-MM-YYYY')}\r\n                                          <br/>\r\n                                          {taskActive.block_initial.block}\r\n                                        </td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <td><b>Fecha Final: </b></td>\r\n                                        <td>\r\n                                          {moment(taskActive.final_date).format('DD-MM-YYYY')}\r\n                                          <br/>\r\n                                          {taskActive.block_final.block}\r\n                                        </td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <td><b>Solicitud de Material: </b></td>\r\n                                        <td>\r\n                                          {taskActive.solicitude}\r\n                                        </td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <td><b>Descripción: </b></td>\r\n                                        <td>\r\n                                          {taskActive.description}\r\n                                        </td>\r\n                                      </tr>\r\n                                    </tbody>\r\n                                  </table>\r\n                                </Col>\r\n                              </Row>\r\n                              <Row className=\"justify-content-center\">\r\n                                <Col sm={7} md={7} lg={7}>\r\n                                  <Button variant=\"secondary\" size=\"sm\" type=\"button\" onClick={openModalCloseTask} block={true}>Cerrar Tarea</Button>\r\n                                </Col>\r\n                              </Row>\r\n                            </Card.Body>\r\n                          </Accordion.Collapse>\r\n                        </Card>\r\n                      </Accordion>\r\n                    </Col>\r\n                  ) : (\r\n                    <Col sm={8} md={8} lg={8}>\r\n                      <Button size=\"sm\" variant=\"secondary\" block={true} onClick={openModalTask}>Planificación de Tareas</Button>\r\n                    </Col>\r\n                  )}\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <hr/>\r\n            <Tabs defaultActiveKey=\"following\" id=\"uncontrolled-tab-example\" variant=\"pills\">\r\n              <Tab eventKey=\"following\" title=\"Seguimientos\">\r\n                <Row>\r\n                  <Col sm={12} md={12} lg={12} className=\"text-center\">\r\n                    <Button variant=\"link\" onClick={openModalFollowing} type=\"button\" size=\"sm\">Agregar Seguimiento</Button>\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col sm={12} md={12} lg={12}>\r\n                    <Table columns={following_columns} data={followings} letrasChicas={true}/>\r\n                  </Col>\r\n                </Row>\r\n              </Tab>\r\n              <Tab eventKey=\"failures\" title=\"Fallas\">\r\n                <Row>\r\n                  <Col sm={12} md={12} lg={12}>\r\n                    <br/>\r\n                    <Accordion>\r\n                      {Object.keys(data).length > 0 ? data.failures.map((v,i) => (\r\n                        <Card key={i}>\r\n                          <Card.Header style={{ backgroundColor: 'rgb(64, 64, 163)'}}>\r\n                            <Accordion.Toggle as={Button} variant=\"link\" eventKey={i} style={{color: 'white'}}>\r\n                              #{i + 1}.-Recinto: {v.precint.name} | Relación de Falla: {v.related.name} | Falla Puntual: {v.point ? v.point.name : ''}\r\n                            </Accordion.Toggle>\r\n                          </Card.Header>\r\n                          <Accordion.Collapse eventKey={i}>\r\n                            <Card.Body>\r\n                              <ManagementSolicitudeFailureFormComponent\r\n                                failure={v}\r\n                                statusFailure={objectFailures.statusFailure}\r\n                                reasonFailure={objectFailures.reasonFailure}\r\n                                typologys={objectFailures.typologys}\r\n                                key={i}\r\n                                fetchData={fetchData}\r\n                                reasonCloses={reasonCloses}\r\n                              />\r\n                            </Card.Body>\r\n                          </Accordion.Collapse>\r\n                        </Card>\r\n                      )) : '' }\r\n                    </Accordion>\r\n                  </Col>\r\n                </Row>\r\n              </Tab>\r\n            </Tabs>\r\n\r\n          </Col>\r\n        </Row>\r\n        <ModalTaskComponent\r\n          show={isOpenModalTask}\r\n          onHide={openModalTask}\r\n          submit={handleSubmitTaskModal}\r\n        />\r\n        <ModalTaskWorkerComponent\r\n          show={isOpenModalTaskWorker}\r\n          onHide={openModalTaskWorker}\r\n          submit={handleSubmitTaskModalWorker}\r\n          task={taskActive}\r\n        />\r\n        <ModalFollowingTaskComponent\r\n          show={isOpenModalFollowing}\r\n          onHide={openModalFollowing}\r\n          submit={handleSubmitFollowing}\r\n          title=\"Agregar Nuevo Seguimiento\"\r\n        />\r\n        <Modal\r\n          show={isOpenModalTaskClose}\r\n          onHide={openModalCloseTask}\r\n          size=\"xl\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n          backdrop='static'\r\n        >\r\n        <Modal.Header closeButton style={{ backgroundColor: 'black', color: 'white'}}>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n             Cierre de Tarea <MdPlaylistAdd />\r\n          </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form onSubmit={handleSubmitForm3} noValidate validated={validated3}>\r\n              <Row>\r\n                <InputField\r\n                  type=\"date\"\r\n                  required={true}\r\n                  name=\"date_close\"\r\n                  value={form3.date_close}\r\n                  handleChange={handleChangeForm3}\r\n                  label=\"Fecha de Cierre:\"\r\n                  messageErrors={[\r\n                    'Requerido*'\r\n                  ]}\r\n                  cols='col-md-6 col-sm-6 col-lg-6'\r\n                />\r\n                <InputField\r\n                  type=\"textarea\"\r\n                  required={true}\r\n                  name=\"reason_close\"\r\n                  value={form3.reason_close}\r\n                  handleChange={handleChangeForm3}\r\n                  label=\"Ingrese Motivo/Detalle:\"\r\n                  messageErrors={[\r\n                    'Requerido*'\r\n                  ]}\r\n                  cols='col-md-6 col-sm-6 col-lg-6'\r\n                />\r\n              </Row>\r\n              <Row className=\"justify-content-center\">\r\n                <Col sm={4} md={4} lg={4}>\r\n                  <Button variant=\"primary\" block={true} size=\"sm\" type=\"submit\">\r\n                    Guardar\r\n                  </Button>\r\n                </Col>\r\n                <Col sm={4} md={4} lg={4}>\r\n                  <Button variant=\"danger\" block={true} size=\"sm\" type=\"button\" onClick={openModalCloseTask}>\r\n                    Cerrar\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </Container>\r\n  )\r\n}\r\n\r\nexport default ManagementSolicitudePropertyFormPage\r\n"],"sourceRoot":""}