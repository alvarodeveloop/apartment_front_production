(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[61],{581:function(e,a,t){"use strict";var n=t(27),r=t(0),l=t.n(r),o=t(22),s=(t(285),l.a.forwardRef((function(e,a){var t,r=e.cols?e.cols:"col-md-6 col-sm-6";return"select"!==e.type&&"textarea"!==e.type?l.a.createElement(o.a.Group,{className:r},e.required?l.a.createElement(o.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(o.a.Label,{className:"fontBold"},e.label),l.a.createElement(o.a.Control,(t={ref:a,id:e.name,type:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,readOnly:!!e.readonly&&e.readonly,className:e.className?e.className:"",step:e.step?e.step:"",onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){}},Object(n.a)(t,"className","form-control-sm"),Object(n.a)(t,"disabled",e.disabled),t)),l.a.createElement(o.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"select"===e.type?l.a.createElement(o.a.Group,{className:r},e.required?l.a.createElement(o.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(o.a.Label,{className:"fontBold"},e.label),l.a.createElement(o.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",readOnly:!!e.readonly&&e.readonly,required:e.required,multiple:!!e.multiple&&e.multiple,ref:a||null,className:"form-control-sm",disabled:e.disabled},e.children),l.a.createElement(o.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"textarea"===e.type?l.a.createElement(o.a.Group,{className:r},e.required?l.a.createElement(o.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(o.a.Label,{className:"fontBold"},e.label),l.a.createElement(o.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,rows:e.rows?e.rows:2,readOnly:!!e.readonly&&e.readonly,onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){},ref:a||null,className:"form-control-sm",disabled:e.disabled}),l.a.createElement(o.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):void 0})));a.a=s},599:function(e,a,t){"use strict";var n=t(27),r=t(78),l=t(66),o=t.n(l),s=t(105),c=t(77),i=t(0),m=t.n(i),u=t(570),d=t(140),p=t(84),b=t(22),g=t(139),h=t(142),f=t(581),E=t(43),y=t.n(E),v=t(76),_=t(28),N=function(e){var a=Object(i.useState)(!1),t=Object(c.a)(a,2),l=t[0],E=t[1],N=Object(i.useState)({name:"",last_names:"",rut:"",email:"",id_city:"",id_country:"",poblation:"",phone_1:"",phone_2:"",address:""}),O=Object(c.a)(N,2),j=O[0],q=O[1],C=Object(i.useState)([]),k=Object(c.a)(C,2),x=k[0],R=k[1],w=Object(i.useState)([]),M=Object(c.a)(w,2),P=M[0],L=M[1],S=Object(i.useRef)(null);Object(i.useEffect)((function(){B(),S.current.focus()}),[]);var B=function(){var a=[y.a.get(v.a+"master_countrys")];e.match.params.id&&a.push(y.a.get(v.a+"client/"+e.match.params.id)),Promise.all(a).then(function(){var e=Object(s.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(a[0].data),a[1]&&(q({name:a[1].data.name,last_names:a[1].data.last_names,rut:a[1].data.rut,email:a[1].data.email,id_city:a[1].data.id_city,id_country:a[1].data.id_country,poblation:a[1].data.poblation,phone_1:a[1].data.phone_1,phone_2:a[1].data.phone_2,address:a[1].data.address,id:a[1].data.id}),L((function(e){return a[0].data.find((function(e){return e.id==a[1].data.id_country})).cities})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e.response?_.NotificationManager.error(e.response.data.message):_.NotificationManager.error("Error, contacte con soporte")}))},K=function(e){if(e.persist(),"id_country"===e.target.name)L((function(a){return x.find((function(a){return a.id==e.target.value})).cities})),q(Object(r.a)(Object(r.a)({},j),{},{id_country:e.target.value,id_city:""}));else if("rut"===e.target.name){var a=e.target.value;(a=a.split("-").join(""))&&(a=a.substring(0,a.length-1)+"-"+a.substring(a.length-1)),q(Object(r.a)(Object(r.a)({},j),{},{rut:a}))}else q(Object(r.a)(Object(r.a)({},j),{},Object(n.a)({},e.target.name,e.target.value)))},U=function(a){e.isModal?e.showTable(a):e.history.replace("/masters/clients")},T=function(){q({name:"",last_names:"",rut:"",email:"",id_city:"",id_country:"",poblation:"",phone_1:"",phone_2:"",address:""}),E(!1),S.current.focus()};return m.a.createElement(u.a,null,m.a.createElement(d.a,{className:""},m.a.createElement(p.a,{sm:12,md:12,lg:12},m.a.createElement(b.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void E(!0);var n=Object.assign({},j);n.id?y.a.put(v.a+"client/"+n.id,n).then((function(e){_.NotificationManager.success("Registro Modificado"),U()})).catch((function(e){e.response?_.NotificationManager.error(e.response.data.message):_.NotificationManager.error("Error, contacte con soporte")})):y.a.post(v.a+"client",n).then((function(a){_.NotificationManager.success("Registro Creado"),T(),e.isModal&&U(!0)})).catch((function(e){e.response?_.NotificationManager.error(e.response.data.message):_.NotificationManager.error("Error, contacte con soporte")}))},noValidate:!0,validated:l},m.a.createElement(d.a,null,m.a.createElement(f.a,Object.assign({},e.inputRut,{value:j.rut,handleChange:K,ref:S})),m.a.createElement(h.a,Object.assign({},e.inputName,{value:j.name,handleChange:K})),m.a.createElement(h.a,Object.assign({},e.inputLastNames,{value:j.last_names,handleChange:K}))),m.a.createElement(d.a,null,m.a.createElement(h.a,Object.assign({},e.inputAddress,{value:j.address,handleChange:K})),m.a.createElement(h.a,Object.assign({},e.inputPoblation,{value:j.poblation,handleChange:K})),m.a.createElement(h.a,Object.assign({},e.inputEmail,{value:j.email,handleChange:K}))),m.a.createElement(d.a,null,m.a.createElement(h.a,Object.assign({},e.inputPhone,{value:j.phone_1,handleChange:K})),m.a.createElement(h.a,Object.assign({},e.inputPhone2,{value:j.phone_2,handleChange:K}))),m.a.createElement(d.a,null,m.a.createElement(h.a,Object.assign({},e.inputCountry,{value:j.id_country,handleChange:K}),m.a.createElement("option",{value:""},"--Seleccione--"),x.map((function(e,a){return m.a.createElement("option",{value:e.id,key:a},e.name)}))),m.a.createElement(h.a,Object.assign({},e.inputCity,{value:j.id_city,handleChange:K}),m.a.createElement("option",{value:""},"--Seleccione--"),P.map((function(e,a){return m.a.createElement("option",{value:e.id,key:a},e.name)})))),m.a.createElement(d.a,{className:"justify-content-center"},m.a.createElement(p.a,{sm:4,md:4,lg:4},m.a.createElement(g.a,{type:"submit",size:"sm",variant:"primary",block:!0},"Guardar")),m.a.createElement(p.a,{sm:4,md:4,lg:4},m.a.createElement(g.a,{type:"submit",size:"sm",variant:"danger",block:!0,onClick:function(){U(!1)}},"Volver")))))))};N.defaultProps={inputRut:{type:"text",required:!0,name:"rut",label:"Rut",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputName:{type:"text",required:!0,name:"name",label:"Nombre",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputLastNames:{type:"text",required:!0,name:"last_names",label:"Apellidos",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPoblation:{type:"text",required:!1,name:"poblation",label:"Poblaci\xf3n",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputAddress:{type:"textarea",required:!1,name:"address",label:"Direcci\xf3n",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputCountry:{type:"select",required:!0,name:"id_country",label:"Pa\xeds",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputCity:{type:"select",required:!0,name:"id_city",label:"Ciudad",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputEmail:{type:"email",required:!1,name:"email",label:"Email",messageErrors:["Requerido*,"," Formato tipo Email*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone:{type:"number",required:!1,name:"phone_1",label:"Tel\xe9fono Principal",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputPhone2:{type:"number",required:!1,name:"phone_2",label:"Telefono Secundario",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}},a.a=N},787:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(599),o=t(140),s=t(84);a.default=function(e){return r.a.createElement(o.a,{className:"containerDiv"},r.a.createElement(s.a,{sm:12,md:12,lg:12},r.a.createElement(l.a,Object.assign({isModal:!1,showTable:function(){}},e))))}}}]);
//# sourceMappingURL=61.de5420e9.chunk.js.map