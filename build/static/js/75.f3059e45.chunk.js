(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[75],{735:function(e,a,t){"use strict";t.r(a);var r=t(18),n=t(44),s=t(30),l=t(1),c=t.n(l),o=t(567),i=t(568),m=t(282),u=t(10),d=t(280),p=t(112),g=t(288),h=t(25),b=t.n(h),E=t(34),_=t(13),f=function(e){var a=Object(l.useState)(!1),t=Object(s.a)(a,2),h=t[0],f=t[1],v=Object(l.useState)([]),j=Object(s.a)(v,2),O=j[0],q=j[1],y=Object(l.useState)([]),x=Object(s.a)(y,2),C=x[0],R=x[1],k=Object(l.useState)({name:"",rut:"",last_names:"",address:"",id_enterprise:"",id_charge:"",email:"",phone_1:"",phone_2:""}),N=Object(s.a)(k,2),P=N[0],S=N[1],w=Object(l.useRef)(null);Object(l.useEffect)((function(){A(),w.current.focus()}),[]);var A=function(){var a=[b.a.get(E.a+"enterprise"),b.a.get(E.a+"master_charges")];e.match.params.id&&a.push(b.a.get(E.a+"personal_enterprise/"+e.match.params.id)),Promise.all(a).then((function(e){q(e[0].data),R(e[1].data),e[2]&&S({name:e[2].data.name,rut:e[2].data.rut,email:e[2].data.email,last_names:e[2].data.last_names,phone_1:e[2].data.phone_1,phone_2:e[2].data.phone_2,address:e[2].data.address,id_charge:e[2].data.id_charge,id_enterprise:e[2].data.id_enterprise,id:e[2].data.id})})).catch((function(e){e.response?_.b.error(e.response.data.message):_.b.error("Error, contacte con soporte")}))},D=function(e){if("rut"===e.target.name){var a=e.target.value;a=(a=a?a.split("-").join(""):a)?a.substring(0,a.length-1)+"-"+a.substring(a.length-1):a,S(Object(n.a)(Object(n.a)({},P),{},Object(r.a)({},e.target.name,a)))}else S(Object(n.a)(Object(n.a)({},P),{},Object(r.a)({},e.target.name,e.target.value)))},T=function(){e.history.replace("/masters/personal")},V=function(){S({name:"",rut:"",email:"",phone_1:"",phone_2:"",address:"",id_charge:"",id_enterprise:"",last_names:""}),f(!1),w.current.focus()};return c.a.createElement(o.a,null,c.a.createElement(i.a,{className:"containerDiv"},c.a.createElement(m.a,{sm:12,md:12,lg:12,xs:12,className:"text-right"},c.a.createElement("span",{className:"text-danger"},"*Campos Obligatorios"),c.a.createElement("br",null),c.a.createElement("br",null)),c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(u.a,{onSubmit:function(e){var a=e.currentTarget;if(e.preventDefault(),!1===a.checkValidity())return e.stopPropagation(),void f(!0);var t=Object.assign({},P);t.id?b.a.put(E.a+"personal_enterprise/"+t.id,t).then((function(e){_.b.success("Registro Modificado"),T()})).catch((function(e){e.response?_.b.error(e.response.data.message):_.b.error("Error, contacte con soporte")})):b.a.post(E.a+"personal_enterprise",t).then((function(e){_.b.success("Registro Creado"),V()})).catch((function(e){e.response?_.b.error(e.response.data.message):_.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:h},c.a.createElement(i.a,null,c.a.createElement(g.a,Object.assign({},e.inputRut,{value:P.rut,handleChange:D,ref:w})),c.a.createElement(p.a,Object.assign({},e.inputName,{value:P.name,handleChange:D})),c.a.createElement(p.a,Object.assign({},e.inputLastNames,{value:P.last_names,handleChange:D}))),c.a.createElement(i.a,null,c.a.createElement(p.a,Object.assign({},e.inputAddress,{value:P.address,handleChange:D})),c.a.createElement(p.a,Object.assign({},e.inputEmail,{value:P.email,handleChange:D})),c.a.createElement(p.a,Object.assign({},e.inputPhone,{value:P.phone_1,handleChange:D}))),c.a.createElement(i.a,null,c.a.createElement(p.a,Object.assign({},e.inputPhone2,{value:P.phone_2,handleChange:D})),c.a.createElement(p.a,Object.assign({},e.inputEnterprise,{value:P.id_enterprise,handleChange:D}),c.a.createElement("option",{value:""},"--Seleccione--"),O.map((function(e,a){return c.a.createElement("option",{value:e.id,key:a},e.name)}))),c.a.createElement(p.a,Object.assign({},e.inputCharge,{value:P.id_charge,handleChange:D}),c.a.createElement("option",{value:""},"--Seleccione--"),C.map((function(e,a){return c.a.createElement("option",{value:e.id,key:a},e.name)})))),c.a.createElement(i.a,{className:"justify-content-center"},c.a.createElement(m.a,{sm:4,md:4,lg:4},c.a.createElement(d.a,{type:"submit",size:"sm",variant:"primary",block:!0},"Guardar")),c.a.createElement(m.a,{sm:4,md:4,lg:4},c.a.createElement(d.a,{type:"submit",size:"sm",variant:"danger",block:!0,onClick:T},"Volver")))))))};f.defaultProps={inputRut:{type:"text",required:!0,name:"rut",label:"Rut",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputLastNames:{type:"text",required:!0,name:"last_names",label:"Apelidos",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputName:{type:"text",required:!0,name:"name",label:"Nombre",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputAddress:{type:"textarea",required:!0,name:"address",label:"Direcci\xf3n",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputEmail:{type:"email",required:!1,name:"email",label:"Email",messageErrors:["Requerido*,"," Formato tipo Email*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone:{type:"number",required:!1,name:"phone_1",label:"Tel\xe9fono Principal",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone2:{type:"number",required:!1,name:"phone_2",label:"Telefono Secundario",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputCharge:{type:"select",required:!0,name:"id_charge",label:"Cargo",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputEnterprise:{type:"select",required:!0,name:"id_enterprise",label:"Empresa",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"}},a.default=f}}]);
//# sourceMappingURL=75.f3059e45.chunk.js.map