(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[10],{580:function(e,a,t){"use strict";var n=t(27),r=t(584),l=t(0),c=t.n(l),o=t(587),i=t(585),s=t(586),m=t(139);function d(){var e=Object(r.a)(["\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return d=function(){return e},e}var u=o.a.div(d());function g(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,l=n.length;return c.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(l," registros..."),className:"inputPageFilter"})}function p(e,a,t){return Object(s.a)(e,t,{keys:[function(e){return e.values[a]}]})}function b(e){var a=e.columns,t=e.data,r=e.displayPaginationUp,l=e.letrasChicas,o=c.a.useMemo((function(){return{fuzzyText:p,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),s=c.a.useMemo((function(){return{Filter:g}}),[]),d=Object(i.useTable)({columns:a,data:t,defaultColumn:s,filterTypes:o,initialState:{pageIndex:0}},i.useFilters,i.useSortBy,i.usePagination),u=d.getTableProps,b=d.getTableBodyProps,f=d.headerGroups,E=d.page,_=d.prepareRow,y=d.canPreviousPage,v=d.canNextPage,h=d.pageOptions,O=d.pageCount,j=d.gotoPage,k=d.nextPage,N=d.previousPage,w=d.setPageSize,C=d.state,x=C.pageIndex,M=C.pageSize;return c.a.createElement("div",{className:"table-responsive"},r?c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(0)},disabled:!y},"<<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return N()},disabled:!y},"<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!v},">")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(O-1)},disabled:!v},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,x+1," de ",h.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:x+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;j(a)},className:"inputPage"},"onChange",(function(e){e.target.value>h.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:M,onChange:function(e){w(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},u(),{className:"table table-bordered"}),c.a.createElement("thead",null,f.map((function(e,a){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center",key:a}),e.headers.map((function(e,a){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera",style:{fontSize:l?"14px":"15px"},key:a}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},b(),{className:"text-center",style:{fontSize:l?"13px":"15px"}}),E.map((function(e,a){return _(e)||c.a.createElement("tr",Object.assign({},e.getRowProps(),{key:a+"-"}),e.cells.map((function(e,a){return c.a.createElement("td",Object.assign({},e.getCellProps(),{key:a+"td"}),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(0)},disabled:!y},"<<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return N()},disabled:!y},"<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!v},">")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(O-1)},disabled:!v},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,x+1," de ",h.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:x+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;j(a)},className:"inputPage"},"onChange",(function(e){e.target.value>h.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:M,onChange:function(e){w(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}p.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.displayPaginationUp,r=e.letrasChicas;return c.a.createElement(u,null,c.a.createElement(b,{data:a,columns:t,displayPaginationUp:n,letrasChicas:r}))}},581:function(e,a,t){"use strict";var n=t(27),r=t(0),l=t.n(r),c=t(22),o=(t(285),l.a.forwardRef((function(e,a){var t,r=e.cols?e.cols:"col-md-6 col-sm-6";return"select"!==e.type&&"textarea"!==e.type?l.a.createElement(c.a.Group,{className:r},e.required?l.a.createElement(c.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(c.a.Label,{className:"fontBold"},e.label),l.a.createElement(c.a.Control,(t={ref:a,id:e.name,type:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,readOnly:!!e.readonly&&e.readonly,className:e.className?e.className:"",step:e.step?e.step:"",onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){}},Object(n.a)(t,"className","form-control-sm"),Object(n.a)(t,"disabled",e.disabled),t)),l.a.createElement(c.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"select"===e.type?l.a.createElement(c.a.Group,{className:r},e.required?l.a.createElement(c.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(c.a.Label,{className:"fontBold"},e.label),l.a.createElement(c.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",readOnly:!!e.readonly&&e.readonly,required:e.required,multiple:!!e.multiple&&e.multiple,ref:a||null,className:"form-control-sm",disabled:e.disabled},e.children),l.a.createElement(c.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"textarea"===e.type?l.a.createElement(c.a.Group,{className:r},e.required?l.a.createElement(c.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(c.a.Label,{className:"fontBold"},e.label),l.a.createElement(c.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,rows:e.rows?e.rows:2,readOnly:!!e.readonly&&e.readonly,onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){},ref:a||null,className:"form-control-sm",disabled:e.disabled}),l.a.createElement(c.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):void 0})));a.a=o},589:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return i}));var n=t(0),r=t.n(n),l=t(286),c=t(596),o=[{Header:"Nro",accessor:"id",Cell:function(e){return r.a.createElement(c.a,{variant:"danger",style:{fontSize:"14px"}},e.cell.row.original.id)}},{Header:"Fecha",accessor:function(e){return[l(e.createdAt).format("DD-MM-YYYY hh:mm:ss")]}},{Header:"Autor",accessor:function(e){return[e.user.email]}},{Header:"Detalle",accessor:"detail",Cell:function(e){var a=e.cell.row.original;return-1===a.detail.indexOf("/")?a.detail.split("@").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("hr",null))})):a.detail.split("/").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))}))}},{Header:"Privado",accessor:function(e){return e.is_private?["Si"]:["No"]}},{Header:"Documento",accessor:function(e){return["-"]}}],i=[{Header:"Nro",accessor:"id",Cell:function(e){return r.a.createElement(c.a,{variant:"danger",style:{fontSize:"14px"}},e.cell.row.original.id)}},{Header:"Fecha",accessor:function(e){return[l(e.createdAt).format("DD-MM-YYYY hh:mm:ss")]}},{Header:"Autor",accessor:function(e){return[e.user.email]}},{Header:"Detalle",accessor:"detail",Cell:function(e){var a=e.cell.row.original;return-1!==a.detail.indexOf("/")?a.detail.split("/").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))})):a.detail.split("@").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))}))}},{Header:"Privado",accessor:function(e){return e.is_private?["Si"]:["No"]}},{Header:"Documento",accessor:function(e){return["-"]}}]},590:function(e,a,t){(function(t){var n,r,l;r=[],void 0===(l="function"===typeof(n=function(){"use strict";function a(e,a,t){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){c(n.response,a,t)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var a=new XMLHttpRequest;a.open("HEAD",e,!1);try{a.send()}catch(e){}return 200<=a.status&&299>=a.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,c=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,c){var o=l.URL||l.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?r(i):n(i.href)?a(e,t,c):r(i,i.target="_blank")):(i.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(i.href)}),4e4),setTimeout((function(){r(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,l){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,l),t);else if(n(e))a(e,t,l);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){r(c)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var c="application/octet-stream"===e.type,o=/constructor/i.test(l.HTMLElement)||l.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||c&&o)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var m=l.URL||l.webkitURL,d=m.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){m.revokeObjectURL(d)}),4e4)}});l.saveAs=c.saveAs=c,e.exports=c})?n.apply(a,r):n)||(e.exports=l)}).call(this,t(64))},592:function(e,a,t){},596:function(e,a,t){"use strict";var n=t(1),r=t(2),l=t(4),c=t.n(l),o=t(0),i=t.n(o),s=t(5),m=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.variant,o=e.pill,m=e.className,d=e.as,u=void 0===d?"span":d,g=Object(r.a)(e,["bsPrefix","variant","pill","className","as"]),p=Object(s.b)(t,"badge");return i.a.createElement(u,Object(n.a)({ref:a},g,{className:c()(m,p,o&&p+"-pill",l&&p+"-"+l)}))}));m.displayName="Badge",m.defaultProps={pill:!1},a.a=m},605:function(e,a,t){"use strict";var n=t(27),r=t(78),l=t(77),c=t(0),o=t.n(c),i=t(799),s=t(22),m=t(140),d=t(84),u=t(139),g=t(572),p=t(28),b=t(76),f=t(43),E=t.n(f),_=t(142);t(581);a.a=function(e){var a=Object(c.useState)({detail:"",id_origin:"",is_private:!0}),t=Object(l.a)(a,2),f=t[0],y=t[1],v=Object(c.useState)(!1),h=Object(l.a)(v,2),O=h[0],j=h[1],k=Object(c.useState)([]),N=Object(l.a)(k,2),w=N[0],C=N[1];Object(c.useEffect)((function(){S()}),[]);var x=function(e){if("is_private"===e.target.name){var a,t="true"===e.target.value;y(Object(r.a)(Object(r.a)({},f),{},(a={},Object(n.a)(a,e.target.name,t),Object(n.a)(a,"id_worker",""),a)))}else y(Object(r.a)(Object(r.a)({},f),{},Object(n.a)({},e.target.name,e.target.value)))},M=function(){y({detail:"",id_origin:"",is_private:!0})},S=function(){var e=[E.a.get(b.a+"params_service_origin")];Promise.all(e).then((function(e){C(e[0].data)})).catch((function(e){e.response?p.NotificationManager.error(e.response.data.message):p.NotificationManager.error("Error, contacte con soporte")}))};return o.a.createElement(i.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},o.a.createElement(i.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},o.a.createElement(i.a.Title,{id:"contained-modal-title-vcenter"},e.title," ",o.a.createElement(g.c,null))),o.a.createElement(i.a.Body,null,o.a.createElement(s.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void j(!0);var n=Object.assign({},f);e.submit(n).then((function(a){p.NotificationManager.success("Seguimiento Agregado"),M(),e.onHide()})).catch((function(e){p.NotificationManager.error(e)}))},noValidate:!0,validated:O},o.a.createElement(m.a,null,o.a.createElement(d.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},o.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),o.a.createElement(m.a,null,o.a.createElement(_.a,{type:"textarea",required:!0,name:"detail",value:f.detail,handleChange:x,label:"Detalle Seguimiento",rows:3,messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"}),o.a.createElement(_.a,{type:"select",required:!0,name:"id_origin",value:f.id_origin,handleChange:x,label:"Origen:",messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"},o.a.createElement("option",{value:""},"--Seleccione--"),w.map((function(e,a){return o.a.createElement("option",{key:a,value:e.id},e.name)})))),o.a.createElement(m.a,null,o.a.createElement(_.a,{type:"select",required:!0,name:"is_private",value:f.is_private,handleChange:x,label:"Privado:",messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"},o.a.createElement("option",{value:""},"--Seleccione--"),o.a.createElement("option",{value:!0},"Si"),o.a.createElement("option",{value:!1},"No"))),o.a.createElement(m.a,{className:"justify-content-center"},o.a.createElement(d.a,{sm:4,md:4,lg:4},o.a.createElement(u.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Agregar")),o.a.createElement(d.a,{sm:4,md:4,lg:4},o.a.createElement(u.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))}},630:function(e,a,t){"use strict";var n=t(1),r=t(2),l=t(4),c=t.n(l),o=t(0),i=t.n(o),s=t(5),m=t(65),d=t(601),u=t(187),g=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,o=e.variant,m=e.as,d=void 0===m?"img":m,u=Object(r.a)(e,["bsPrefix","className","variant","as"]),g=Object(s.b)(t,"card-img");return i.a.createElement(d,Object(n.a)({ref:a,className:c()(o?g+"-"+o:g,l)},u))}));g.displayName="CardImg",g.defaultProps={variant:null};var p=g,b=Object(d.a)("h5"),f=Object(d.a)("h6"),E=Object(m.a)("card-body"),_=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,m=e.bg,d=e.text,g=e.border,p=e.body,b=e.children,f=e.as,_=void 0===f?"div":f,y=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),v=Object(s.b)(t,"card"),h=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:v+"-header"}}),[v]);return i.a.createElement(u.a.Provider,{value:h},i.a.createElement(_,Object(n.a)({ref:a},y,{className:c()(l,v,m&&"bg-"+m,d&&"text-"+d,g&&"border-"+g)}),p?i.a.createElement(E,null,b):b))}));_.displayName="Card",_.defaultProps={body:!1},_.Img=p,_.Title=Object(m.a)("card-title",{Component:b}),_.Subtitle=Object(m.a)("card-subtitle",{Component:f}),_.Body=E,_.Link=Object(m.a)("card-link",{Component:"a"}),_.Text=Object(m.a)("card-text",{Component:"p"}),_.Header=Object(m.a)("card-header"),_.Footer=Object(m.a)("card-footer"),_.ImgOverlay=Object(m.a)("card-img-overlay");a.a=_},651:function(e,a,t){},804:function(e,a,t){"use strict";t.r(a);var n=t(106),r=t(27),l=t(78),c=t(77),o=t(0),i=t.n(o),s=t(139),m=t(570),d=t(140),u=t(84),g=t(22),p=t(630),b=t(799),f=t(572),E=(t(592),t(581)),_=t(142),y=t(28),v=t(43),h=t.n(v),O=t(76),j=t(580),k=t(286),N=(t(651),t(605)),w=t(589),C=function(e){var a=Object(o.useState)({reason_anulate:""}),t=Object(c.a)(a,2),n=t[0],m=t[1],p=Object(o.useState)(!1),_=Object(c.a)(p,2),v=_[0],h=_[1],O=Object(o.useRef)(null);Object(o.useEffect)((function(){e.show&&O.current.focus()}),[e.show]);var j=function(){m({reason_anulate:""})};return i.a.createElement(b.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},i.a.createElement(b.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},i.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},e.title," ",i.a.createElement(f.a,null))),i.a.createElement(b.a.Body,null,i.a.createElement(g.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void h(!0);var r=Object.assign({},n);e.submit(r).then((function(a){y.NotificationManager.success("Entrega Anulada"),j(),e.onHide()})).catch((function(e){y.NotificationManager.error(e)}))},noValidate:!0,validated:v},i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},i.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),i.a.createElement(d.a,null,i.a.createElement(E.a,{ref:O,type:"textarea",required:!0,name:"reason_anulate",value:n.reason_anulate,handleChange:function(e){m(Object(l.a)(Object(l.a)({},n),{},Object(r.a)({},e.target.name,e.target.value)))},label:"Ingrese Motivo:",rows:3,messageErrors:["Requerido*"],cols:"col-md-12 col-sm-12 col-lg-12"})),i.a.createElement(d.a,{className:"justify-content-center"},i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement(s.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Aceptar")),i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement(s.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))},x=function(e){var a=Object(o.useState)({date_close:""}),t=Object(c.a)(a,2),n=t[0],m=t[1],p=Object(o.useState)(!1),f=Object(c.a)(p,2),_=f[0],v=f[1],h=Object(o.useRef)(null);Object(o.useEffect)((function(){e.show&&h.current.focus()}),[e.show]);var O=function(){m({date_close_delivery:""})};return i.a.createElement(b.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},i.a.createElement(b.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},i.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},e.title)),i.a.createElement(b.a.Body,null,i.a.createElement(g.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void v(!0);var r=Object.assign({},n);e.submit(r).then((function(a){y.NotificationManager.success("Entrega Cerrada"),O(),e.onHide()})).catch((function(e){y.NotificationManager.error(e)}))},noValidate:!0,validated:_},i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},i.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),i.a.createElement(d.a,null,i.a.createElement(E.a,{ref:h,type:"date",required:!0,name:"date_close",value:n.date_close,handleChange:function(e){m(Object(l.a)(Object(l.a)({},n),{},Object(r.a)({},e.target.name,e.target.value)))},label:"Fecha de Cierre:",rows:3,messageErrors:["Requerido*"],cols:"col-md-12 col-sm-12 col-lg-12"})),i.a.createElement(d.a,{className:"justify-content-center"},i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement(s.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Aceptar")),i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement(s.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))},M=t(590),S=t.n(M),Y=[];a.default=function(e){var a=Object(o.useState)({id_housing_complexe:"",id_ownership:"",rut_ownership_client:"",rut_deputy:"",name_deputy:"",id_city:"",parkings:[],cellars:[],date_request:k().tz("America/Santiago").format("YYYY-MM-DD"),name_file:"",file:null,date_v_b_client:"",date_solution_observation:"",number_electricity:"",reading_electricity:"",number_water:"",reading_water:"",number_gas:"",reading_gas:"",date_delivery_key:"",note:"",date_close_delivery:"",reason_anulate:"",id_status:7,id:""}),t=Object(c.a)(a,2),v=t[0],M=t[1],q=Object(o.useState)({description:"",id_precint:"",id_related_failure:"",id_tipology_failure:"",id_point_failure:""}),D=Object(c.a)(q,2),P=D[0],R=D[1],z=Object(o.useState)([]),H=Object(c.a)(z,2),B=H[0],F=H[1],A=Object(o.useState)([]),T=Object(c.a)(A,2),L=T[0],I=T[1],U=Object(o.useState)({}),V=Object(c.a)(U,2),G=V[0],K=V[1],J=Object(o.useState)([]),X=Object(c.a)(J,2),W=X[0],Q=X[1],Z=Object(o.useState)(!1),$=Object(c.a)(Z,2),ee=$[0],ae=$[1],te=Object(o.useState)([]),ne=Object(c.a)(te,2),re=ne[0],le=ne[1],ce=Object(o.useState)([]),oe=Object(c.a)(ce,2),ie=oe[0],se=oe[1],me=Object(o.useState)([]),de=Object(c.a)(me,2),ue=de[0],ge=de[1],pe=Object(o.useState)([]),be=Object(c.a)(pe,2),fe=be[0],Ee=be[1],_e=Object(o.useState)([]),ye=Object(c.a)(_e,2),ve=ye[0],he=ye[1],Oe=Object(o.useState)(!1),je=Object(c.a)(Oe,2),ke=je[0],Ne=je[1],we=Object(o.useState)(!1),Ce=Object(c.a)(we,2),xe=Ce[0],Me=Ce[1],Se=Object(o.useRef)(null),Ye=Object(o.useState)({}),qe=Object(c.a)(Ye,2),De=qe[0],Pe=qe[1],Re=Object(o.useState)(!1),ze=Object(c.a)(Re,2),He=ze[0],Be=ze[1],Fe=Object(o.useState)(!1),Ae=Object(c.a)(Fe,2),Te=Ae[0],Le=Ae[1],Ie=Object(o.useState)(!1),Ue=Object(c.a)(Ie,2),Ve=Ue[0],Ge=Ue[1];Object(o.useEffect)((function(){Je(!0),Ke(),Se.current.focus()}),[]),Object(o.useMemo)((function(){Y=[{Header:"Recinto",accessor:function(e){return[e.precint.name]}},{Header:"Falla Relacionada",accessor:function(e){return[e.related.name]}},{Header:"Tipolog\xeda de Falla",accessor:function(e){return[e.tipology.name]}},{Header:"Falla Puntual",accessor:function(e){return[e.point.name]}},{Header:"Descripci\xf3n",accessor:function(e){return[e.description]}}],e.match.params.id||Y.push({Header:"Acci\xf3n",Cell:function(e){var a=e.cell.row.original;return i.a.createElement(s.a,{variant:"danger",block:!0,onClick:function(){return Xe(a.id)}},"Remover")}})}),[]);var Ke=function(){h.a.delete(O.a+"failures_delivery_by_ip").then((function(e){console.log("registros borrados")})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))},Je=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];(a=!0)&&(t=[h.a.get(O.a+"housing_complexe"),h.a.get(O.a+"master_cities"),h.a.get(O.a+"master_precint"),h.a.get(O.a+"params_manage_problems_tipology_by_type/1"),h.a.get(O.a+"params_manage_problems_related_failures")]),e.match.params.id&&t.push(h.a.get(O.a+"delivery/"+e.match.params.id)),Promise.all(t).then((function(t){a?(F(t[0].data),Q(t[1].data),le(t[2].data),Ee(t[3].data),se(t[4].data),e.match.params.id&&(M({id_housing_complexe:t[5].data.id_housing_complexe,id_ownership:t[5].data.id_ownership,date_request:k(t[5].data.date_request).format("YYYY-MM-DD"),rut_ownership_client:t[5].data.rut_ownership_client,rut_deputy:t[5].data.rut_deputy,name_deputy:t[5].data.name_deputy,id_city:t[5].data.id_city,parkings:t[5].data.parkings.filter((function(e){return 2==e.type})).map((function(e){return e.name})),cellars:t[5].data.parkings.filter((function(e){return 1==e.type})).map((function(e){return e.name})),name_file:t[5].data.name_file,file:null,date_v_b_client:t[5].data.date_v_b_client?k(t[5].data.date_v_b_client).format("YYYY-MM-DD"):"",date_solution_observation:t[5].data.date_solution_observation?k(t[5].data.date_solution_observation).format("YYYY-MM-DD"):"",number_electricity:t[5].data.number_electricity,reading_electricity:t[5].data.reading_electricity,number_water:t[5].data.number_water,reading_water:t[5].data.reading_water,number_gas:t[5].data.number_gas,reading_gas:t[5].data.reading_gas,date_delivery_key:t[5].data.date_delivery_key?k(t[5].data.date_delivery_key).format("YYYY-MM-DD"):"",note:t[5].data.note,date_close_delivery:t[5].data.date_close_delivery?k(t[5].data.date_close_delivery).format("YYYY-MM-DD"):"",id:t[5].data.id,id_status:t[5].data.id_status,reason_anulate:t[5].data.reason_anulate}),Pe(t[5].data),Me(!0))):e.match.params.id&&(M({id_housing_complexe:t[0].data.id_housing_complexe,id_ownership:t[0].data.id_ownership,date_request:k(t[0].data.date_request).format("YYYY-MM-DD"),rut_ownership_client:t[0].data.rut_ownership_client,rut_deputy:t[0].data.rut_deputy,name_deputy:t[0].data.name_deputy,id_city:t[0].data.id_city,parkings:t[0].data.parkings.filter((function(e){return 2==e.type})).map((function(e){return e.name})),cellars:t[0].data.parkings.filter((function(e){return 1==e.type})).map((function(e){return e.name})),name_file:t[0].data.name_file,file:null,date_v_b_client:t[0].data.date_v_b_client?k(t[0].data.date_v_b_client).format("YYYY-MM-DD"):"",date_solution_observation:t[0].data.date_solution_observation?k(t[0].data.date_solution_observation).format("YYYY-MM-DD"):"",number_electricity:t[0].data.number_electricity,reading_electricity:t[0].data.reading_electricity,number_water:t[0].data.number_water,reading_water:t[0].data.reading_water,number_gas:t[0].data.number_gas,reading_gas:t[0].data.reading_gas,date_delivery_key:t[0].data.date_delivery_key?k(t[0].data.date_delivery_key).format("YYYY-MM-DD"):"",note:t[0].data.note,date_close_delivery:t[0].data.date_close_delivery?k(t[0].data.date_close_delivery).format("YYYY-MM-DD"):"",id:t[5].data.id}),Pe(t[0].data),Me(!0))})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))},Xe=function(e){h.a.delete(O.a+"delivery_failure/"+e).then((function(e){ca(),y.NotificationManager.success("Falla eliminada")})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))},We=function(){Ne(!ke)},Qe=function(e){h.a.get(O.a+"masters_ownership_by_housing_complexe/"+e).then((function(e){I(e.data)})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))},Ze=function(e){if(Object.keys(v).length>0){var a="";switch(e){case"number":a=v.id;break;case"fecha_emision":a=k(v.date_request).format("DD-MM-YYYY");break;case"fecha_limite_cierre":a=Object.keys(De).length>0&&De.date_limit_close?k(De.date_limit_close).format("DD-MM-YYYY"):"-";break;case"fecha_cierre":a=Object.keys(De).length>0&&De.date_close?k(De.date_close).format("DD-MM-YYYY"):"-";break;case"dias_atraso":a="-";break;case"estado":a=Object.keys(De).length>0?De.status.status:"-"}return a}return"-"},$e=function(e){e.persist(),"id_housing_complexe"===e.target.name?(Qe(e.target.value),M(Object(l.a)(Object(l.a)({},v),{},Object(r.a)({id_ownership:""},e.target.name,e.target.value)))):"id_ownership"===e.target.name?ta(e.target.value):"input_file"===e.target.name?M(Object(l.a)(Object(l.a)({},v),{},{file:e.target.files[0],name_file:e.target.files[0].name})):M(Object(l.a)(Object(l.a)({},v),{},Object(r.a)({},e.target.name,e.target.value)))},ea=function(e){"id_tipology_failure"===e.target.name&&e.target.value?(oa(e.target.value),R(Object(l.a)(Object(l.a)({},P),{},Object(r.a)({},e.target.name,e.target.value)))):R(Object(l.a)(Object(l.a)({},P),{},Object(r.a)({},e.target.name,e.target.value)))},aa=function(){var e;M((e={id_housing_complexe:"",id_ownership:"",date_request:"",rut_ownership_client:"",rut_deputy:"",name_deputy:"",id_city:"",parkings:[],cellars:[]},Object(r.a)(e,"date_request",k().tz("America/Santiago").format("YYYY-MM-DD")),Object(r.a)(e,"name_file",""),Object(r.a)(e,"file",null),Object(r.a)(e,"date_v_b_client",""),Object(r.a)(e,"date_solution_observation",""),Object(r.a)(e,"number_electricity",""),Object(r.a)(e,"reading_electricity",""),Object(r.a)(e,"number_water",""),Object(r.a)(e,"reading_water",""),Object(r.a)(e,"number_gas",""),Object(r.a)(e,"reading_gas",""),Object(r.a)(e,"date_delivery_key",""),Object(r.a)(e,"note",""),Object(r.a)(e,"date_close_delivery",""),Object(r.a)(e,"reason_anulate",""),Object(r.a)(e,"id_status",7),Object(r.a)(e,"id",""),e)),ae(!1),K({})},ta=function(e){var a=L.find((function(a){return a.id==e}));K(a),M(Object(l.a)(Object(l.a)({},v),{},{id_ownership:e,rut_ownership_client:a.id_client_ownership}))},na=function(e){if("parking"===e){var a=document.getElementById("name_parking").value;document.getElementById("name_parking").value="",a?M(Object(l.a)(Object(l.a)({},v),{},{parkings:[].concat(Object(n.a)(v.parkings),[a])})):y.NotificationManager.error("El campo estacionamiento no puede estar vacio")}else{var t=document.getElementById("name_celler").value;document.getElementById("name_celler").value="",t?M(Object(l.a)(Object(l.a)({},v),{},{cellars:[].concat(Object(n.a)(v.cellars),[t])})):y.NotificationManager.error("El campo bodega no puede estar vacio")}},ra=function(e,a){M("parking"===e?Object(l.a)(Object(l.a)({},v),{},{parkings:v.parkings.filter((function(e){return e!==a}))}):Object(l.a)(Object(l.a)({},v),{},{cellars:v.cellars.filter((function(e){return e!==a}))}))},la=function(){R({description:"",id_precint:"",id_related_failure:"",id_tipology_failure:"",id_point_failure:""})},ca=function(){e.match.params.id?h.a.get(O.a+"delivery_failures/"+e.match.params.id).then((function(e){he(e.data)})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")})):h.a.get(O.a+"delivery_failures").then((function(e){he(e.data)})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))},oa=function(e){h.a.get(O.a+"params_manage_problems_point_failures_by_tipology/"+e).then((function(e){ge(e.data)})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):(console.log(e),y.NotificationManager.error("Error,contacte con soporte"))}))},ia=function(){Be(!He)},sa=function(){Le(!Te)},ma=function(){e.history.replace("/delivery/management")},da=function(){Ge(!Ve)};return i.a.createElement(m.a,{fluid:!0},i.a.createElement(d.a,{className:"containerDiv"},i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement(g.a,{onSubmit:function(e){var a=e.currentTarget;if(e.preventDefault(),!1===a.checkValidity())return e.stopPropagation(),void ae(!0);var t=Object.assign({},v),n=new FormData;Object.keys(t).forEach((function(e,a){n.append(e,t[e])})),t.id?h.a.put(O.a+"delivery/"+t.id,n).then((function(e){y.NotificationManager.success("Registro Modificado"),Je(),aa()})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")})):h.a.post(O.a+"delivery",n).then((function(e){y.NotificationManager.success("Registro Creado"),Je(),aa(),Se.current.focus()})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))},noValidate:!0,validated:ee},i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("h4",{style:{textDecoration:"underline"},className:"title_principal text-center"},"Acta de Entrega"),i.a.createElement(d.a,{style:{paddingTop:"3px"},className:"justify-content-center"},i.a.createElement(u.a,{sm:3,md:3,lg:3},i.a.createElement("b",null,"N\xfamero:")),i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement("div",{className:"div_number subrayado"},Ze("number"))))),i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement(d.a,{style:{paddingBottom:"3px"}},i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("div",{style:{paddingTop:"30px"}},i.a.createElement("b",null,"Fecha Emisi\xf3n:"))),i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement(_.a,{type:"date",label:"",required:!1,messageErrors:["Requerido*"],name:"date_request",handleChange:$e,value:v.date_request,cols:"col-md-12 col-lg-12 col-sm-12",readonly:xe}))),i.a.createElement(d.a,{style:{paddingBottom:"3px"}},i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Fecha L\xedmite Cierre:")),i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},Ze("fecha_limite_cierre")))),i.a.createElement(d.a,{style:{paddingBottom:"3px"}},i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Fecha Cierre:")),i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},Ze("fecha_cierre")))),i.a.createElement(d.a,{style:{paddingBottom:"3px"}},i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"D\xedas Atraso:")),i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},Ze("dias_atraso")))),i.a.createElement(d.a,{style:{paddingBottom:"3px"}},i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Estado:")),i.a.createElement(u.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},Ze("estado")))))))," ")," ",i.a.createElement("br",null),i.a.createElement(d.a,null,i.a.createElement(E.a,{type:"select",name:"id_housing_complexe",label:"Proyecto",required:!0,cols:"col-md-3 col-sm-3 col-lg-3",messageErrors:["Requerido*"],value:v.id_housing_complexe,handleChange:$e,ref:Se,disabled:xe},i.a.createElement("option",{value:""},"--Seleccione--"),B.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(_.a,{type:"select",name:"id_ownership",label:"Propiedad",required:!0,cols:"col-md-3 col-sm-3 col-lg-3",messageErrors:["Requerido*"],value:v.id_ownership,handleChange:$e,disabled:xe},i.a.createElement("option",{value:""},"--Seleccione--"),L.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.number)}))),i.a.createElement(u.a,{sm:3,md:3,lg:3},i.a.createElement(d.a,null,i.a.createElement(_.a,Object(r.a)({type:"text",name:"rut_ownership_client",readonly:!0,label:"Propietario",required:!0,cols:"col-md-12 col-sm-12 col-lg-12",messageErrors:[""],value:v.rut_ownership_client,handleChange:$e},"readonly",xe))),Object.keys(G).length>0?i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("h6",{style:{borderBottom:"1px solid black"}},G.ownership_client.name+" "+G.ownership_client.last_names))):""),i.a.createElement(u.a,{sm:3,md:3,lg:3},Object.keys(G).length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("b",null,"Tipo de Propiedad:"))),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("h6",{style:{borderBottom:"1px solid black",paddingTop:"10px"}},G.typeOwnership.name)))):"")),i.a.createElement(d.a,null,i.a.createElement(_.a,{type:"text",name:"rut_deputy",label:"Rut Representante",required:!1,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:[""],value:v.rut_deputy,handleChange:$e,readonly:xe}),i.a.createElement(_.a,{type:"text",name:"name_deputy",label:"Nombre Representante",required:!1,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:[""],value:v.name_deputy,handleChange:$e,readonly:xe}),i.a.createElement(_.a,{type:"select",name:"id_city",label:"Ciudad:",required:!0,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:["Requerido*"],value:v.id_city,handleChange:$e,disabled:xe},i.a.createElement("option",{value:""},"--Seleccione--"),W.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)})))),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Ingreso de Bodegas y Estacionamiento"),i.a.createElement("br",null)),i.a.createElement(u.a,{sm:5,md:5,lg:5},i.a.createElement("label",null,i.a.createElement("b",null,"Bodega")),i.a.createElement("input",{type:"text",name:"name_celler",label:"Bodega",id:"name_celler",className:"form-control form-control-sm",size:"sm",readOnly:xe})),i.a.createElement(u.a,{sm:1,md:1,lg:1},i.a.createElement(s.a,{type:"button",variant:"success",className:"margin_col",size:"sm",block:!0,onClick:function(){na("celler")}},i.a.createElement(f.d,null))),i.a.createElement(u.a,{sm:5,md:5,lg:5},i.a.createElement("label",null,i.a.createElement("b",null,"Estacionamiento")),i.a.createElement("input",{type:"text",name:"name_parking",id:"name_parking",className:"form-control form-control-sm",size:"sm",readOnly:xe})),i.a.createElement(u.a,{sm:1,md:1,lg:1},i.a.createElement(s.a,{type:"button",variant:"success",className:"margin_col",size:"sm",block:!0,onClick:function(){na("parking")}},i.a.createElement(f.d,null)))),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:6,md:6,lg:6,className:"div_bodega_parking"},i.a.createElement("br",null),i.a.createElement("ul",{className:"list-group"},v.cellars.map((function(a,t){return i.a.createElement("li",{className:"list-group-item",key:t},a," ",i.a.createElement(s.a,{style:{display:e.match.params.id?"none":"inline"},variant:"danger",size:"sm",onClick:function(){ra("cellar",a)}},i.a.createElement(f.j,null)))})))),i.a.createElement(u.a,{sm:6,md:6,lg:6,className:"div_bodega_parking"},i.a.createElement("br",null),i.a.createElement("ul",{className:"list-group"},v.parkings.map((function(a,t){return i.a.createElement("li",{className:"list-group-item",key:t},a," ",i.a.createElement(s.a,{style:{display:e.match.params.id?"none":"inline"},variant:"danger",size:"sm",onClick:function(){ra("parking",a)}},i.a.createElement(f.j,null)))}))))),i.a.createElement("br",null),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement(p.a,null,i.a.createElement(p.a.Header,{style:{backgroundColor:"rgb(95, 104, 228)"}},i.a.createElement(p.a.Title,{className:"text-center",style:{color:"white"}},"Proceso de Levantamiento y Gesti\xf3n de Observaciones")),i.a.createElement(p.a.Body,null,i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"INGRESO DE FALLAS:"),i.a.createElement("hr",null),i.a.createElement(d.a,null,i.a.createElement(_.a,{type:"select",required:!1,name:"id_precint",label:"Recinto:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:P.id_precint,handleChange:ea,disabled:xe},i.a.createElement("option",{value:""},"--Seleccione--"),re.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(_.a,{type:"select",required:!1,name:"id_related_failure",label:"Relacione su Falla con:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:P.id_related_failure,handleChange:ea,disabled:xe},i.a.createElement("option",{value:""},"--Seleccione--"),ie.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(_.a,{type:"select",required:!1,name:"id_tipology_failure",label:"Tipolog\xeda de Falla:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:P.id_tipology_failure,handleChange:ea,disabled:xe},i.a.createElement("option",{value:""},"--Seleccione--"),fe.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(_.a,{type:"select",required:!1,name:"id_point_failure",label:"Falla Puntual:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:P.id_point_failure,handleChange:ea,disabled:xe},i.a.createElement("option",{value:""},"--Seleccione--"),ue.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)})))),i.a.createElement(d.a,null,i.a.createElement(_.a,{type:"textarea",required:!1,name:"description",label:"Descripci\xf3n de la Falla:",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12",value:P.description,handleChange:ea,readonly:xe}),i.a.createElement(u.a,{sm:8,md:8,lg:8}),i.a.createElement(u.a,{sm:2,md:2,lg:2},Object.keys(De).length>0?"":i.a.createElement(s.a,{size:"sm",variant:"danger",block:!0,type:"button",onClick:We},"Ver fallas")),i.a.createElement(u.a,{sm:2,md:2,lg:2},Object.keys(De).length>0?"":i.a.createElement(s.a,{variant:"secondary",block:!0,type:"button",size:"sm",onClick:function(){if(!P.id_precint)return y.NotificationManager.error("Debe Agregar un recinto"),!1;if(!P.id_related_failure)return y.NotificationManager.error("Debe agregar una relaci\xf3n de falla"),!1;if(!P.id_tipology_failure)return y.NotificationManager.error("Debe agregar una tipologia de falla"),!1;if(!P.id_point_failure)return y.NotificationManager.error("Debe agregar una falla puntual"),!1;if(!P.description)return y.NotificationManager.error("Debe agregar una descripci\xf3n de la falla"),!1;var e=Object.assign({},P,{id_delivery:null});h.a.post(O.a+"delivery_failure",e).then((function(e){la(),ca(),y.NotificationManager.success("Falla Agregada")})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))}},"Agregar ",i.a.createElement(f.e,null)))))),e.match.params.id>0?i.a.createElement(i.a.Fragment,null,Object.keys(De).length>0&&De.failures.length>0?i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("br",null),i.a.createElement("h5",{className:"text-center title_principal"},"Fallas Registradas"),i.a.createElement(j.a,{columns:Y,data:De.failures}))):"",i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("hr",null),5!=De.id_status&&6!=De.id_status?i.a.createElement("h5",{className:"text-center title_principal"},i.a.createElement("a",{href:"javascript:void(0)",onClick:ia},"Agregar Seguimiento")):i.a.createElement("h5",{className:"text-center title_principal"},"Seguimientos Agregados"),i.a.createElement(j.a,{columns:w.a,data:De.followings?De.followings:[],letrasChicas:!0}),i.a.createElement("hr",null)))):"",i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Soluci\xf3n a Observaciones:"),i.a.createElement("hr",null)),i.a.createElement(_.a,{type:"date",label:"Fecha de soluci\xf3n a observaciones",required:!1,cols:"col-md-6 col-sm-6 col-lg-6",name:"date_solution_observation",messageErrors:["Requerido*"],handleChange:$e,value:v.date_solution_observation}),i.a.createElement(_.a,{type:"date",label:"Fecha V\xb0B\xb0 de Cliente",required:!1,cols:"col-md-6 col-sm-6 col-lg-6",name:"date_v_b_client",messageErrors:["Requerido*"],handleChange:$e,value:v.date_v_b_client})))),i.a.createElement(p.a,null,i.a.createElement(p.a.Header,{style:{backgroundColor:"rgb(95, 104, 228)"}},i.a.createElement(p.a.Title,{className:"text-center",style:{color:"white"}},"PROCESO DE ENTREGA DEFINITIVA")),i.a.createElement(p.a.Body,null,i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Estado de Medidores"),i.a.createElement("hr",null))),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"a) El\xe9ctricidad")),i.a.createElement(_.a,{type:"text",name:"number_electricity",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:$e,value:v.number_electricity,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(_.a,{type:"text",name:"reading_electricity",required:!1,messageErrors:[""],label:"Lectura",handleChange:$e,value:v.reading_electricity,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"b) Agua Potable")),i.a.createElement(_.a,{type:"text",name:"number_water",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:$e,value:v.number_water,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(_.a,{type:"text",name:"reading_water",required:!1,messageErrors:[""],label:"Lectura",handleChange:$e,value:v.reading_water,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"c) Gas")),i.a.createElement(_.a,{type:"text",name:"number_gas",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:$e,value:v.number_gas,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(_.a,{type:"text",name:"reading_gas",required:!1,messageErrors:[""],label:"Lectura",handleChange:$e,value:v.reading_gas,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Adjuntos:"),i.a.createElement("hr",null))),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement(s.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:function(){document.getElementById("input_file").click()}},"Seleccionar Adjunto"),i.a.createElement("input",{type:"file",name:"input_file",id:"input_file",style:{display:"none"},onChange:$e})),i.a.createElement(u.a,{sm:4,md:4,lg:4},v.name_file?i.a.createElement(i.a.Fragment,null,i.a.createElement("b",null,v.name_file),"\xa0",Object.keys(De).length>0&&(5==De.id_status||6==De.id_status)?"":i.a.createElement(s.a,{size:"sm",variant:"danger",onClick:function(){v.id&&!v.file?h.a.delete(O.a+"delivery_delete_file/"+v.id).then((function(e){y.NotificationManager.success("Archivo Eliminado"),M((function(e){return Object.assign({},v,{name_file:""})}))})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")})):(M((function(e){return Object.assign({},v,{name_file:"",file:null})})),document.getElementById("input_file").value="",document.getElementById("input_file").src="")}},i.a.createElement(f.j,null))):"")),i.a.createElement("br",null),i.a.createElement(d.a,null,i.a.createElement(_.a,{type:"textarea",name:"note",required:!1,messageErrors:[""],label:"Nota (uso interno):",handleChange:$e,value:v.note,cols:"col-md-12 col-sm-12 col-lg-12",rows:2})),i.a.createElement("hr",null),i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Entrega de llaves y cierre de proceso de entrega"),i.a.createElement("hr",null)),i.a.createElement(_.a,{type:"date",name:"date_delivery_key",required:!1,messageErrors:[""],label:"Fecha Entrega de Llaves:",handleChange:$e,value:v.date_delivery_key,cols:"col-md-4 col-sm-4 col-lg-4"})))))),i.a.createElement("br",null),v.id?i.a.createElement(i.a.Fragment,null,6==v.id_status?i.a.createElement(d.a,{className:"justify-content-center"},i.a.createElement(u.a,{sm:3,md:3,lg:3},i.a.createElement(s.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:ma},"Volver"))):5==v.id_status?i.a.createElement(d.a,{className:"justify-content-center"},i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"button",variant:"secondary",block:!0,size:"sm"},"Enviar Acta")),i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"button",onClick:function(){h.a.get(O.a+"delivery_print_acta/"+e.match.params.id,{responseType:"blob"}).then((function(e){S.a.saveAs(e.data,"acta_entrega.pdf")})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):(console.log(e),y.NotificationManager.error("Error, contacte con soporte"))}))},variant:"secondary",block:!0,size:"sm"},"Imprimir Acta")),i.a.createElement(u.a,{sm:3,md:3,lg:3},i.a.createElement(s.a,{type:"submit",variant:"secondary",block:!0,size:"sm"},"Enviar Observaciones")),i.a.createElement(u.a,{sm:3,md:3,lg:3},i.a.createElement(s.a,{type:"button",variant:"secondary",block:!0,size:"sm",onClick:function(){h.a.get(O.a+"delivery_print_observation/"+e.match.params.id,{responseType:"blob"}).then((function(e){S.a.saveAs(e.data,"observaciones.pdf")})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):(console.log(e),y.NotificationManager.error("Error, contacte con soporte"))}))}},"Imprimir Observaciones")),i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:ma},"Volver"))):i.a.createElement(d.a,{className:"justify-content-center"},i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"submit",variant:"secondary",block:!0,size:"sm"},"Guardar")),i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"button",onClick:sa,variant:"secondary",block:!0,size:"sm"},"Anular")),i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"submit",variant:"secondary",block:!0,size:"sm"},"Guardar")),i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"submit",variant:"secondary",block:!0,size:"sm"},"Guardar")),i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"button",variant:"secondary",onClick:da,block:!0,size:"sm"},"Cerrar Entrega")),i.a.createElement(u.a,{sm:2,md:2,lg:2},i.a.createElement(s.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:ma},"Volver")))):i.a.createElement(d.a,{className:"justify-content-center"},i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement(s.a,{type:"submit",variant:"primary",block:!0,size:"sm"},"Guardar")),i.a.createElement(u.a,{sm:4,md:4,lg:4},i.a.createElement(s.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:ma},"Volver al Men\xfa de Entrega")))))),i.a.createElement(b.a,{show:ke,onHide:We,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},i.a.createElement(b.a.Header,{closeButton:!0,className:"header_dark",style:{backgroundColor:"black"}},i.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter",style:{color:"white"}},"Fallas Registradas")),i.a.createElement(b.a.Body,null,i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement(d.a,null,i.a.createElement(u.a,{sm:12,md:12,lg:12},i.a.createElement(j.a,{columns:Y,data:ve})))))),i.a.createElement(b.a.Footer,null,i.a.createElement(s.a,{variant:"secondary",onClick:We},"cerrar"))),i.a.createElement(N.a,{show:He,onHide:ia,submit:function(a){return new Promise((function(t,n){a.id_delivery=e.match.params.id,h.a.post(O.a+"delivery_following",a).then((function(e){Je(),t({})})).catch((function(e){e.response?n(e.response.data.message):n("Error,contacte con soporte")}))}))},title:"Agregar Nuevo Seguimiento"}),i.a.createElement(C,{show:Te,onHide:sa,submit:function(e){return new Promise((function(a,t){h.a.put(O.a+"delivery_anulate/"+v.id,e).then((function(e){Je(),a({})})).catch((function(e){e.response?t(e.response.data.message):t("Error,contacte con soporte")}))}))},title:"Anular Seguimiento"}),i.a.createElement(x,{show:Ve,onHide:da,submit:function(e){return new Promise((function(a,t){h.a.put(O.a+"delivery_close/"+v.id,e).then((function(e){Je(),a({})})).catch((function(e){e.response?t(e.response.data.message):t("Error,contacte con soporte")}))}))},title:"Cerrar Entrega"}))}}}]);
//# sourceMappingURL=10.3c7eb5eb.chunk.js.map