(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[66],{581:function(e,a,t){"use strict";var r=t(27),n=t(0),l=t.n(n),s=t(22),o=(t(285),l.a.forwardRef((function(e,a){var t,n=e.cols?e.cols:"col-md-6 col-sm-6";return"select"!==e.type&&"textarea"!==e.type?l.a.createElement(s.a.Group,{className:n},e.required?l.a.createElement(s.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(s.a.Label,{className:"fontBold"},e.label),l.a.createElement(s.a.Control,(t={ref:a,id:e.name,type:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,readOnly:!!e.readonly&&e.readonly,className:e.className?e.className:"",step:e.step?e.step:"",onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){}},Object(r.a)(t,"className","form-control-sm"),Object(r.a)(t,"disabled",e.disabled),t)),l.a.createElement(s.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"select"===e.type?l.a.createElement(s.a.Group,{className:n},e.required?l.a.createElement(s.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(s.a.Label,{className:"fontBold"},e.label),l.a.createElement(s.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",readOnly:!!e.readonly&&e.readonly,required:e.required,multiple:!!e.multiple&&e.multiple,ref:a||null,className:"form-control-sm",disabled:e.disabled},e.children),l.a.createElement(s.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"textarea"===e.type?l.a.createElement(s.a.Group,{className:n},e.required?l.a.createElement(s.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(s.a.Label,{className:"fontBold"},e.label),l.a.createElement(s.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,rows:e.rows?e.rows:2,readOnly:!!e.readonly&&e.readonly,onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){},ref:a||null,className:"form-control-sm",disabled:e.disabled}),l.a.createElement(s.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):void 0})));a.a=o},743:function(e,a,t){"use strict";t.r(a);var r=t(27),n=t(78),l=t(77),s=t(0),o=t.n(s),c=t(570),i=t(140),m=t(84),d=t(22),u=t(139),p=t(142),g=t(581),h=t(43),b=t.n(h),E=t(76),f=t(28),y=function(e){var a=Object(s.useState)(!1),t=Object(l.a)(a,2),h=t[0],y=t[1],v=Object(s.useState)([]),N=Object(l.a)(v,2),_=N[0],O=N[1],j=Object(s.useState)([]),q=Object(l.a)(j,2),C=q[0],k=q[1],x=Object(s.useState)({name:"",rut:"",last_names:"",address:"",id_enterprise:"",id_charge:"",email:"",phone_1:"",phone_2:""}),R=Object(l.a)(x,2),M=R[0],w=R[1],L=Object(s.useRef)(null);Object(s.useEffect)((function(){P(),L.current.focus()}),[]);var P=function(){var a=[b.a.get(E.a+"enterprise"),b.a.get(E.a+"master_charges")];e.match.params.id&&a.push(b.a.get(E.a+"personal_enterprise/"+e.match.params.id)),Promise.all(a).then((function(e){O(e[0].data),k(e[1].data),e[2]&&w({name:e[2].data.name,rut:e[2].data.rut,email:e[2].data.email,last_names:e[2].data.last_names,phone_1:e[2].data.phone_1,phone_2:e[2].data.phone_2,address:e[2].data.address,id_charge:e[2].data.id_charge,id_enterprise:e[2].data.id_enterprise,id:e[2].data.id})})).catch((function(e){e.response?f.NotificationManager.error(e.response.data.message):f.NotificationManager.error("Error, contacte con soporte")}))},S=function(e){if("rut"===e.target.name){var a=e.target.value;a=(a=a?a.split("-").join(""):a)?a.substring(0,a.length-1)+"-"+a.substring(a.length-1):a,w(Object(n.a)(Object(n.a)({},M),{},Object(r.a)({},e.target.name,a)))}else w(Object(n.a)(Object(n.a)({},M),{},Object(r.a)({},e.target.name,e.target.value)))},B=function(){e.history.replace("/masters/personal")},K=function(){w({name:"",rut:"",email:"",phone_1:"",phone_2:"",address:"",id_charge:"",id_enterprise:"",last_names:""}),y(!1),L.current.focus()};return o.a.createElement(c.a,null,o.a.createElement(i.a,{className:"containerDiv"},o.a.createElement(m.a,{sm:12,md:12,lg:12,xs:12,className:"text-right"},o.a.createElement("span",{className:"text-danger"},"*Campos Obligatorios"),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement(m.a,{sm:12,md:12,lg:12},o.a.createElement(d.a,{onSubmit:function(e){var a=e.currentTarget;if(e.preventDefault(),!1===a.checkValidity())return e.stopPropagation(),void y(!0);var t=Object.assign({},M);t.id?b.a.put(E.a+"personal_enterprise/"+t.id,t).then((function(e){f.NotificationManager.success("Registro Modificado"),B()})).catch((function(e){e.response?f.NotificationManager.error(e.response.data.message):f.NotificationManager.error("Error, contacte con soporte")})):b.a.post(E.a+"personal_enterprise",t).then((function(e){f.NotificationManager.success("Registro Creado"),K()})).catch((function(e){e.response?f.NotificationManager.error(e.response.data.message):f.NotificationManager.error("Error, contacte con soporte")}))},noValidate:!0,validated:h},o.a.createElement(i.a,null,o.a.createElement(g.a,Object.assign({},e.inputRut,{value:M.rut,handleChange:S,ref:L})),o.a.createElement(p.a,Object.assign({},e.inputName,{value:M.name,handleChange:S})),o.a.createElement(p.a,Object.assign({},e.inputLastNames,{value:M.last_names,handleChange:S}))),o.a.createElement(i.a,null,o.a.createElement(p.a,Object.assign({},e.inputAddress,{value:M.address,handleChange:S})),o.a.createElement(p.a,Object.assign({},e.inputEmail,{value:M.email,handleChange:S})),o.a.createElement(p.a,Object.assign({},e.inputPhone,{value:M.phone_1,handleChange:S}))),o.a.createElement(i.a,null,o.a.createElement(p.a,Object.assign({},e.inputPhone2,{value:M.phone_2,handleChange:S})),o.a.createElement(p.a,Object.assign({},e.inputEnterprise,{value:M.id_enterprise,handleChange:S}),o.a.createElement("option",{value:""},"--Seleccione--"),_.map((function(e,a){return o.a.createElement("option",{value:e.id,key:a},e.name)}))),o.a.createElement(p.a,Object.assign({},e.inputCharge,{value:M.id_charge,handleChange:S}),o.a.createElement("option",{value:""},"--Seleccione--"),C.map((function(e,a){return o.a.createElement("option",{value:e.id,key:a},e.name)})))),o.a.createElement(i.a,{className:"justify-content-center"},o.a.createElement(m.a,{sm:4,md:4,lg:4},o.a.createElement(u.a,{type:"submit",size:"sm",variant:"primary",block:!0},"Guardar")),o.a.createElement(m.a,{sm:4,md:4,lg:4},o.a.createElement(u.a,{type:"submit",size:"sm",variant:"danger",block:!0,onClick:B},"Volver")))))))};y.defaultProps={inputRut:{type:"text",required:!0,name:"rut",label:"Rut",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputLastNames:{type:"text",required:!0,name:"last_names",label:"Apelidos",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputName:{type:"text",required:!0,name:"name",label:"Nombre",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputAddress:{type:"textarea",required:!0,name:"address",label:"Direcci\xf3n",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputEmail:{type:"email",required:!1,name:"email",label:"Email",messageErrors:["Requerido*,"," Formato tipo Email*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone:{type:"number",required:!1,name:"phone_1",label:"Tel\xe9fono Principal",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone2:{type:"number",required:!1,name:"phone_2",label:"Telefono Secundario",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputCharge:{type:"select",required:!0,name:"id_charge",label:"Cargo",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputEnterprise:{type:"select",required:!0,name:"id_enterprise",label:"Empresa",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"}},a.default=y}}]);
//# sourceMappingURL=66.660dfe9a.chunk.js.map