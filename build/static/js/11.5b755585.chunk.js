(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[11],{571:function(e,a,t){"use strict";var n=t(18),r=t(574),l=t(1),c=t.n(l),o=t(577),i=t(575),s=t(576),m=t(280);function d(){var e=Object(r.a)(["\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return d=function(){return e},e}var u=o.a.div(d());function p(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,l=n.length;return c.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(l," registros..."),className:"inputPageFilter"})}function g(e,a,t){return Object(s.a)(e,t,{keys:[function(e){return e.values[a]}]})}function b(e){var a=e.columns,t=e.data,r=e.displayPaginationUp,l=e.letrasChicas,o=c.a.useMemo((function(){return{fuzzyText:g,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),s=c.a.useMemo((function(){return{Filter:p}}),[]),d=Object(i.useTable)({columns:a,data:t,defaultColumn:s,filterTypes:o,initialState:{pageIndex:0}},i.useFilters,i.useSortBy,i.usePagination),u=d.getTableProps,b=d.getTableBodyProps,f=d.headerGroups,E=d.page,_=d.prepareRow,v=d.canPreviousPage,y=d.canNextPage,h=d.pageOptions,O=d.pageCount,j=d.gotoPage,k=d.nextPage,w=d.previousPage,C=d.setPageSize,x=d.state,N=x.pageIndex,S=x.pageSize;return c.a.createElement("div",{className:"table-responsive"},r?c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(0)},disabled:!v},"<<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return w()},disabled:!v},"<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!y},">")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(O-1)},disabled:!y},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,N+1," de ",h.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:N+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;j(a)},className:"inputPage"},"onChange",(function(e){e.target.value>h.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:S,onChange:function(e){C(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},u(),{className:"table table-bordered"}),c.a.createElement("thead",null,f.map((function(e,a){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center",key:a}),e.headers.map((function(e,a){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera",style:{fontSize:l?"14px":"15px"},key:a}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},b(),{className:"text-center",style:{fontSize:l?"13px":"15px"}}),E.map((function(e,a){return _(e)||c.a.createElement("tr",Object.assign({},e.getRowProps(),{key:a+"-"}),e.cells.map((function(e,a){return c.a.createElement("td",Object.assign({},e.getCellProps(),{key:a+"td"}),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(0)},disabled:!v},"<<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return w()},disabled:!v},"<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!y},">")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(O-1)},disabled:!y},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,N+1," de ",h.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:N+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;j(a)},className:"inputPage"},"onChange",(function(e){e.target.value>h.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:S,onChange:function(e){C(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.displayPaginationUp,r=e.letrasChicas;return c.a.createElement(u,null,c.a.createElement(b,{data:a,columns:t,displayPaginationUp:n,letrasChicas:r}))}},582:function(e,a,t){(function(t){var n,r,l;r=[],void 0===(l="function"===typeof(n=function(){"use strict";function a(e,a,t){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){c(n.response,a,t)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var a=new XMLHttpRequest;a.open("HEAD",e,!1);try{a.send()}catch(e){}return 200<=a.status&&299>=a.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,c=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,c){var o=l.URL||l.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?r(i):n(i.href)?a(e,t,c):r(i,i.target="_blank")):(i.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(i.href)}),4e4),setTimeout((function(){r(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,l){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,l),t);else if(n(e))a(e,t,l);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){r(c)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var c="application/octet-stream"===e.type,o=/constructor/i.test(l.HTMLElement)||l.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||c&&o)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var m=l.URL||l.webkitURL,d=m.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){m.revokeObjectURL(d)}),4e4)}});l.saveAs=c.saveAs=c,e.exports=c})?n.apply(a,r):n)||(e.exports=l)}).call(this,t(71))},584:function(e,a,t){},585:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return i}));var n=t(1),r=t.n(n),l=t(289),c=t(588),o=[{Header:"Nro",accessor:"id",Cell:function(e){return r.a.createElement(c.a,{variant:"danger",style:{fontSize:"14px"}},e.cell.row.original.id)}},{Header:"Fecha",accessor:function(e){return[l(e.createdAt).format("DD-MM-YYYY hh:mm:ss")]}},{Header:"Autor",accessor:function(e){return[e.user.email]}},{Header:"Detalle",accessor:"detail",Cell:function(e){var a=e.cell.row.original;return-1===a.detail.indexOf("/")?a.detail.split("@").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("hr",null))})):a.detail.split("/").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))}))}},{Header:"Privado",accessor:function(e){return e.is_private?["Si"]:["No"]}},{Header:"Documento",accessor:function(e){return["-"]}}],i=[{Header:"Nro",accessor:"id",Cell:function(e){return r.a.createElement(c.a,{variant:"danger",style:{fontSize:"14px"}},e.cell.row.original.id)}},{Header:"Fecha",accessor:function(e){return[l(e.createdAt).format("DD-MM-YYYY hh:mm:ss")]}},{Header:"Autor",accessor:function(e){return[e.user.email]}},{Header:"Detalle",accessor:"detail",Cell:function(e){var a=e.cell.row.original;return-1!==a.detail.indexOf("/")?a.detail.split("/").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))})):a.detail.split("@").map((function(e,a){return r.a.createElement("div",{style:{width:"100%"}},e,r.a.createElement("br",null))}))}},{Header:"Privado",accessor:function(e){return e.is_private?["Si"]:["No"]}},{Header:"Documento",accessor:function(e){return["-"]}}]},588:function(e,a,t){"use strict";var n=t(2),r=t(4),l=t(6),c=t.n(l),o=t(1),i=t.n(o),s=t(7),m=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.variant,o=e.pill,m=e.className,d=e.as,u=void 0===d?"span":d,p=Object(r.a)(e,["bsPrefix","variant","pill","className","as"]),g=Object(s.b)(t,"badge");return i.a.createElement(u,Object(n.a)({ref:a},p,{className:c()(m,g,o&&g+"-pill",l&&g+"-"+l)}))}));m.displayName="Badge",m.defaultProps={pill:!1},a.a=m},599:function(e,a,t){"use strict";var n=t(18),r=t(44),l=t(30),c=t(1),o=t.n(c),i=t(800),s=t(10),m=t(568),d=t(282),u=t(280),p=t(146),g=t(13),b=t(34),f=t(25),E=t.n(f),_=t(112);t(288);a.a=function(e){var a=Object(c.useState)({detail:"",id_origin:"",is_private:!0}),t=Object(l.a)(a,2),f=t[0],v=t[1],y=Object(c.useState)(!1),h=Object(l.a)(y,2),O=h[0],j=h[1],k=Object(c.useState)([]),w=Object(l.a)(k,2),C=w[0],x=w[1];Object(c.useEffect)((function(){Y()}),[]);var N=function(e){if("is_private"===e.target.name){var a,t="true"===e.target.value;v(Object(r.a)(Object(r.a)({},f),{},(a={},Object(n.a)(a,e.target.name,t),Object(n.a)(a,"id_worker",""),a)))}else v(Object(r.a)(Object(r.a)({},f),{},Object(n.a)({},e.target.name,e.target.value)))},S=function(){v({detail:"",id_origin:"",is_private:!0})},Y=function(){var e=[E.a.get(b.a+"params_service_origin")];Promise.all(e).then((function(e){x(e[0].data)})).catch((function(e){e.response?g.b.error(e.response.data.message):g.b.error("Error, contacte con soporte")}))};return o.a.createElement(i.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},o.a.createElement(i.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},o.a.createElement(i.a.Title,{id:"contained-modal-title-vcenter"},e.title," ",o.a.createElement(p.c,null))),o.a.createElement(i.a.Body,null,o.a.createElement(s.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void j(!0);var n=Object.assign({},f);e.submit(n).then((function(a){g.b.success("Seguimiento Agregado"),S(),e.onHide()})).catch((function(e){g.b.error(e)}))},noValidate:!0,validated:O},o.a.createElement(m.a,null,o.a.createElement(d.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},o.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),o.a.createElement(m.a,null,o.a.createElement(_.a,{type:"textarea",required:!0,name:"detail",value:f.detail,handleChange:N,label:"Detalle Seguimiento",rows:3,messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"}),o.a.createElement(_.a,{type:"select",required:!0,name:"id_origin",value:f.id_origin,handleChange:N,label:"Origen:",messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"},o.a.createElement("option",{value:""},"--Seleccione--"),C.map((function(e,a){return o.a.createElement("option",{key:a,value:e.id},e.name)})))),o.a.createElement(m.a,null,o.a.createElement(_.a,{type:"select",required:!0,name:"is_private",value:f.is_private,handleChange:N,label:"Privado:",messageErrors:["Requerido*"],cols:"col-md-6 col-sm-6 col-lg-6"},o.a.createElement("option",{value:""},"--Seleccione--"),o.a.createElement("option",{value:!0},"Si"),o.a.createElement("option",{value:!1},"No"))),o.a.createElement(m.a,{className:"justify-content-center"},o.a.createElement(d.a,{sm:4,md:4,lg:4},o.a.createElement(u.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Agregar")),o.a.createElement(d.a,{sm:4,md:4,lg:4},o.a.createElement(u.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))}},600:function(e,a,t){"use strict";var n=t(2),r=t(4),l=t(6),c=t.n(l),o=t(1),i=t.n(o),s=t(7),m=t(72),d=t(587),u=t(195),p=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,o=e.variant,m=e.as,d=void 0===m?"img":m,u=Object(r.a)(e,["bsPrefix","className","variant","as"]),p=Object(s.b)(t,"card-img");return i.a.createElement(d,Object(n.a)({ref:a,className:c()(o?p+"-"+o:p,l)},u))}));p.displayName="CardImg",p.defaultProps={variant:null};var g=p,b=Object(d.a)("h5"),f=Object(d.a)("h6"),E=Object(m.a)("card-body"),_=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,m=e.bg,d=e.text,p=e.border,g=e.body,b=e.children,f=e.as,_=void 0===f?"div":f,v=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),y=Object(s.b)(t,"card"),h=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:y+"-header"}}),[y]);return i.a.createElement(u.a.Provider,{value:h},i.a.createElement(_,Object(n.a)({ref:a},v,{className:c()(l,y,m&&"bg-"+m,d&&"text-"+d,p&&"border-"+p)}),g?i.a.createElement(E,null,b):b))}));_.displayName="Card",_.defaultProps={body:!1},_.Img=g,_.Title=Object(m.a)("card-title",{Component:b}),_.Subtitle=Object(m.a)("card-subtitle",{Component:f}),_.Body=E,_.Link=Object(m.a)("card-link",{Component:"a"}),_.Text=Object(m.a)("card-text",{Component:"p"}),_.Header=Object(m.a)("card-header"),_.Footer=Object(m.a)("card-footer"),_.ImgOverlay=Object(m.a)("card-img-overlay");a.a=_},645:function(e,a,t){},805:function(e,a,t){"use strict";t.r(a);var n=t(113),r=t(18),l=t(44),c=t(30),o=t(1),i=t.n(o),s=t(31),m=t(280),d=t(567),u=t(568),p=t(282),g=t(10),b=t(600),f=t(800),E=t(146),_=(t(584),t(288)),v=t(112),y=t(13),h=t(25),O=t.n(h),j=t(34),k=t(571),w=t(289),C=(t(645),t(599)),x=t(585),N=function(e){var a=Object(o.useState)({reason_anulate:""}),t=Object(c.a)(a,2),n=t[0],s=t[1],d=Object(o.useState)(!1),b=Object(c.a)(d,2),v=b[0],h=b[1],O=Object(o.useRef)(null);Object(o.useEffect)((function(){e.show&&O.current.focus()}),[e.show]);var j=function(){s({reason_anulate:""})};return i.a.createElement(f.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},i.a.createElement(f.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},i.a.createElement(f.a.Title,{id:"contained-modal-title-vcenter"},e.title," ",i.a.createElement(E.a,null))),i.a.createElement(f.a.Body,null,i.a.createElement(g.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void h(!0);var r=Object.assign({},n);e.submit(r).then((function(a){y.b.success("Entrega Anulada"),j(),e.onHide()})).catch((function(e){y.b.error(e)}))},noValidate:!0,validated:v},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},i.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),i.a.createElement(u.a,null,i.a.createElement(_.a,{ref:O,type:"textarea",required:!0,name:"reason_anulate",value:n.reason_anulate,handleChange:function(e){s(Object(l.a)(Object(l.a)({},n),{},Object(r.a)({},e.target.name,e.target.value)))},label:"Ingrese Motivo:",rows:3,messageErrors:["Requerido*"],cols:"col-md-12 col-sm-12 col-lg-12"})),i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Aceptar")),i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))},S=function(e){var a=Object(o.useState)({date_close:""}),t=Object(c.a)(a,2),n=t[0],s=t[1],d=Object(o.useState)(!1),b=Object(c.a)(d,2),E=b[0],v=b[1],h=Object(o.useRef)(null);Object(o.useEffect)((function(){e.show&&h.current.focus()}),[e.show]);var O=function(){s({date_close_delivery:""})};return i.a.createElement(f.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},i.a.createElement(f.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},i.a.createElement(f.a.Title,{id:"contained-modal-title-vcenter"},e.title)),i.a.createElement(f.a.Body,null,i.a.createElement(g.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void v(!0);var r=Object.assign({},n);e.submit(r).then((function(a){y.b.success("Entrega Cerrada"),O(),e.onHide()})).catch((function(e){y.b.error(e)}))},noValidate:!0,validated:E},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:{span:3,offset:9},md:{span:3,offset:9},lg:{span:3,offset:9}},i.a.createElement("p",{style:{color:"red"}},"Campos requeridos*"))),i.a.createElement(u.a,null,i.a.createElement(_.a,{ref:h,type:"date",required:!0,name:"date_close",value:n.date_close,handleChange:function(e){s(Object(l.a)(Object(l.a)({},n),{},Object(r.a)({},e.target.name,e.target.value)))},label:"Fecha de Cierre:",rows:3,messageErrors:["Requerido*"],cols:"col-md-12 col-sm-12 col-lg-12"})),i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Aceptar")),i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{size:"sm",type:"button",variant:"danger",block:!0,onClick:e.onHide},"Cerrar"))))))},Y=t(582),D=t.n(Y),P=[];a.default=Object(s.b)((function(e){return{config_ss:e.configs.config}}),{})((function(e){var a=Object(o.useState)({id_housing_complexe:"",id_ownership:"",rut_ownership_client:"",rut_deputy:"",name_deputy:"",id_city:"",parkings:[],cellars:[],date_request:w().tz("America/Santiago").format("YYYY-MM-DD"),name_file:"",file:null,date_v_b_client:"",date_solution_observation:"",number_electricity:"",reading_electricity:"",number_water:"",reading_water:"",number_gas:"",reading_gas:"",date_delivery_key:"",note:"",date_close_delivery:"",reason_anulate:"",id_status:7,id:""}),t=Object(c.a)(a,2),s=t[0],h=t[1],Y=Object(o.useState)({description:"",id_precint:"",id_related_failure:"",id_tipology_failure:"",id_point_failure:""}),q=Object(c.a)(Y,2),z=q[0],R=q[1],M=Object(o.useState)([]),H=Object(c.a)(M,2),B=H[0],A=H[1],F=Object(o.useState)([]),T=Object(c.a)(F,2),I=T[0],L=T[1],V=Object(o.useState)({}),U=Object(c.a)(V,2),G=U[0],J=U[1],X=Object(o.useState)([]),W=Object(c.a)(X,2),K=W[0],Q=W[1],Z=Object(o.useState)(!1),$=Object(c.a)(Z,2),ee=$[0],ae=$[1],te=Object(o.useState)([]),ne=Object(c.a)(te,2),re=ne[0],le=ne[1],ce=Object(o.useState)([]),oe=Object(c.a)(ce,2),ie=oe[0],se=oe[1],me=Object(o.useState)([]),de=Object(c.a)(me,2),ue=de[0],pe=de[1],ge=Object(o.useState)([]),be=Object(c.a)(ge,2),fe=be[0],Ee=be[1],_e=Object(o.useState)([]),ve=Object(c.a)(_e,2),ye=ve[0],he=ve[1],Oe=Object(o.useState)(!1),je=Object(c.a)(Oe,2),ke=je[0],we=je[1],Ce=Object(o.useState)(!1),xe=Object(c.a)(Ce,2),Ne=xe[0],Se=xe[1],Ye=Object(o.useRef)(null),De=Object(o.useState)({}),Pe=Object(c.a)(De,2),qe=Pe[0],ze=Pe[1],Re=Object(o.useState)(!1),Me=Object(c.a)(Re,2),He=Me[0],Be=Me[1],Ae=Object(o.useState)(!1),Fe=Object(c.a)(Ae,2),Te=Fe[0],Ie=Fe[1],Le=Object(o.useState)(!1),Ve=Object(c.a)(Le,2),Ue=Ve[0],Ge=Ve[1],Je=Object(o.useState)(!1),Xe=Object(c.a)(Je,2),We=Xe[0],Ke=Xe[1];Object(o.useEffect)((function(){e.config_ss&&Object.keys(e.config_ss).length>0?(Ze(!0),Qe(),Ye.current.focus()):(y.b.error("Debe hacer su configuraci\xf3n primero"),setTimeout((function(){e.history.replace("/masters/config")}),1e3))}),[]),Object(o.useMemo)((function(){P=[{Header:"Recinto",accessor:function(e){return[e.precint.name]}},{Header:"Falla Relacionada",accessor:function(e){return[e.related.name]}},{Header:"Tipolog\xeda de Falla",accessor:function(e){return[e.tipology.name]}},{Header:"Falla Puntual",accessor:function(e){return[e.point.name]}},{Header:"Descripci\xf3n",accessor:function(e){return[e.description]}}],e.match.params.id||P.push({Header:"Acci\xf3n",Cell:function(e){var a=e.cell.row.original;return i.a.createElement(m.a,{variant:"danger",block:!0,onClick:function(){return $e(a.id)}},"Remover")}})}),[]);var Qe=function(){O.a.delete(j.a+"failures_delivery_by_ip").then((function(e){console.log("registros borrados")})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")}))},Ze=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];(a=!0)&&(t=[O.a.get(j.a+"housing_complexe"),O.a.get(j.a+"master_cities"),O.a.get(j.a+"master_precint"),O.a.get(j.a+"params_manage_problems_tipology_by_type/1"),O.a.get(j.a+"params_manage_problems_related_failures")]),e.match.params.id&&t.push(O.a.get(j.a+"delivery/"+e.match.params.id)),Promise.all(t).then((function(t){a?(A(t[0].data),Q(t[1].data),le(t[2].data),Ee(t[3].data),se(t[4].data),e.match.params.id&&(h({id_housing_complexe:t[5].data.id_housing_complexe,id_ownership:t[5].data.id_ownership,date_request:w(t[5].data.date_request).format("YYYY-MM-DD"),rut_ownership_client:t[5].data.rut_ownership_client,rut_deputy:t[5].data.rut_deputy,name_deputy:t[5].data.name_deputy,id_city:t[5].data.id_city,parkings:t[5].data.parkings.filter((function(e){return 2==e.type})).map((function(e){return e.name})),cellars:t[5].data.parkings.filter((function(e){return 1==e.type})).map((function(e){return e.name})),name_file:t[5].data.name_file,file:null,date_v_b_client:t[5].data.date_v_b_client?w(t[5].data.date_v_b_client).format("YYYY-MM-DD"):"",date_solution_observation:t[5].data.date_solution_observation?w(t[5].data.date_solution_observation).format("YYYY-MM-DD"):"",number_electricity:t[5].data.number_electricity,reading_electricity:t[5].data.reading_electricity,number_water:t[5].data.number_water,reading_water:t[5].data.reading_water,number_gas:t[5].data.number_gas,reading_gas:t[5].data.reading_gas,date_delivery_key:t[5].data.date_delivery_key?w(t[5].data.date_delivery_key).format("YYYY-MM-DD"):"",note:t[5].data.note,date_close_delivery:t[5].data.date_close_delivery?w(t[5].data.date_close_delivery).format("YYYY-MM-DD"):"",id:t[5].data.id,id_status:t[5].data.id_status,reason_anulate:t[5].data.reason_anulate}),ze(t[5].data),Se(!0))):e.match.params.id&&(h({id_housing_complexe:t[0].data.id_housing_complexe,id_ownership:t[0].data.id_ownership,date_request:w(t[0].data.date_request).format("YYYY-MM-DD"),rut_ownership_client:t[0].data.rut_ownership_client,rut_deputy:t[0].data.rut_deputy,name_deputy:t[0].data.name_deputy,id_city:t[0].data.id_city,parkings:t[0].data.parkings.filter((function(e){return 2==e.type})).map((function(e){return e.name})),cellars:t[0].data.parkings.filter((function(e){return 1==e.type})).map((function(e){return e.name})),name_file:t[0].data.name_file,file:null,date_v_b_client:t[0].data.date_v_b_client?w(t[0].data.date_v_b_client).format("YYYY-MM-DD"):"",date_solution_observation:t[0].data.date_solution_observation?w(t[0].data.date_solution_observation).format("YYYY-MM-DD"):"",number_electricity:t[0].data.number_electricity,reading_electricity:t[0].data.reading_electricity,number_water:t[0].data.number_water,reading_water:t[0].data.reading_water,number_gas:t[0].data.number_gas,reading_gas:t[0].data.reading_gas,date_delivery_key:t[0].data.date_delivery_key?w(t[0].data.date_delivery_key).format("YYYY-MM-DD"):"",note:t[0].data.note,date_close_delivery:t[0].data.date_close_delivery?w(t[0].data.date_close_delivery).format("YYYY-MM-DD"):"",id:t[5].data.id}),ze(t[0].data),Se(!0))})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")}))},$e=function(e){O.a.delete(j.a+"delivery_failure/"+e).then((function(e){ma(),y.b.success("Falla eliminada")})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")}))},ea=function(){we(!ke)},aa=function(e){O.a.get(j.a+"masters_ownership_by_housing_complexe/"+e).then((function(e){L(e.data)})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")}))},ta=function(e){if(Object.keys(s).length>0){var a="";switch(e){case"number":a=s.id;break;case"fecha_emision":a=w(s.date_request).format("DD-MM-YYYY");break;case"fecha_limite_cierre":a=Object.keys(qe).length>0&&qe.date_limit_close?w(qe.date_limit_close).format("DD-MM-YYYY"):"-";break;case"fecha_cierre":a=Object.keys(qe).length>0&&qe.date_close?w(qe.date_close).format("DD-MM-YYYY"):"-";break;case"dias_atraso":a="-";break;case"estado":a=Object.keys(qe).length>0?qe.status.status:"-"}return a}return"-"},na=function(a){a.persist(),"id_housing_complexe"===a.target.name?(aa(a.target.value),h(Object(l.a)(Object(l.a)({},s),{},Object(r.a)({id_ownership:""},a.target.name,a.target.value)))):"id_ownership"===a.target.name?ca(a.target.value):"input_file"===a.target.name?-1!==e.config_ss.valid_format_documents.indexOf(a.target.files[0].type.split("/")[1])?h(Object(l.a)(Object(l.a)({},s),{},{file:a.target.files[0],name_file:a.target.files[0].name})):(y.b.error("El tipo de archivo no es valido"),document.getElementById("input_file").value="",document.getElementById("input_file").src=""):h(Object(l.a)(Object(l.a)({},s),{},Object(r.a)({},a.target.name,a.target.value)))},ra=function(e){"id_tipology_failure"===e.target.name&&e.target.value?(da(e.target.value),R(Object(l.a)(Object(l.a)({},z),{},Object(r.a)({},e.target.name,e.target.value)))):R(Object(l.a)(Object(l.a)({},z),{},Object(r.a)({},e.target.name,e.target.value)))},la=function(){var e;h((e={id_housing_complexe:"",id_ownership:"",date_request:"",rut_ownership_client:"",rut_deputy:"",name_deputy:"",id_city:"",parkings:[],cellars:[]},Object(r.a)(e,"date_request",w().tz("America/Santiago").format("YYYY-MM-DD")),Object(r.a)(e,"name_file",""),Object(r.a)(e,"file",null),Object(r.a)(e,"date_v_b_client",""),Object(r.a)(e,"date_solution_observation",""),Object(r.a)(e,"number_electricity",""),Object(r.a)(e,"reading_electricity",""),Object(r.a)(e,"number_water",""),Object(r.a)(e,"reading_water",""),Object(r.a)(e,"number_gas",""),Object(r.a)(e,"reading_gas",""),Object(r.a)(e,"date_delivery_key",""),Object(r.a)(e,"note",""),Object(r.a)(e,"date_close_delivery",""),Object(r.a)(e,"reason_anulate",""),Object(r.a)(e,"id_status",7),Object(r.a)(e,"id",""),e)),ae(!1),J({})},ca=function(e){var a=I.find((function(a){return a.id==e}));J(a),h(Object(l.a)(Object(l.a)({},s),{},{id_ownership:e,rut_ownership_client:a.id_client_ownership}))},oa=function(e){if("parking"===e){var a=document.getElementById("name_parking").value;document.getElementById("name_parking").value="",a?h(Object(l.a)(Object(l.a)({},s),{},{parkings:[].concat(Object(n.a)(s.parkings),[a])})):y.b.error("El campo estacionamiento no puede estar vacio")}else{var t=document.getElementById("name_celler").value;document.getElementById("name_celler").value="",t?h(Object(l.a)(Object(l.a)({},s),{},{cellars:[].concat(Object(n.a)(s.cellars),[t])})):y.b.error("El campo bodega no puede estar vacio")}},ia=function(e,a){h("parking"===e?Object(l.a)(Object(l.a)({},s),{},{parkings:s.parkings.filter((function(e){return e!==a}))}):Object(l.a)(Object(l.a)({},s),{},{cellars:s.cellars.filter((function(e){return e!==a}))}))},sa=function(){R({description:"",id_precint:"",id_related_failure:"",id_tipology_failure:"",id_point_failure:""})},ma=function(){e.match.params.id?O.a.get(j.a+"delivery_failures/"+e.match.params.id).then((function(e){he(e.data)})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")})):O.a.get(j.a+"delivery_failures").then((function(e){he(e.data)})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")}))},da=function(e){O.a.get(j.a+"params_manage_problems_point_failures_by_tipology/"+e).then((function(e){pe(e.data)})).catch((function(e){e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error,contacte con soporte"))}))},ua=function(){Be(!He)},pa=function(){Ie(!Te)},ga=function(){e.history.replace("/delivery/management")},ba=function(){Ge(!Ue)},fa=function(){Ke(!0),O.a.get(j.a+"delivery_print_observation/"+e.match.params.id,{responseType:"blob"}).then((function(e){Ke(!1),D.a.saveAs(e.data,"observaciones.pdf")})).catch((function(e){Ke(!1),e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},Ea=function(){Ke(!0),O.a.get(j.a+"delivery_send_observation/"+e.match.params.id).then((function(e){Ke(!1),y.b.success("Obseraciones Enviadas")})).catch((function(e){Ke(!1),e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))};return i.a.createElement(d.a,{fluid:!0},i.a.createElement(u.a,{className:"containerDiv"},i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(g.a,{onSubmit:function(e){var a=e.currentTarget;if(e.preventDefault(),!1===a.checkValidity())return e.stopPropagation(),void ae(!0);var t=Object.assign({},s),n=new FormData;Object.keys(t).forEach((function(e,a){n.append(e,t[e])})),t.id?O.a.put(j.a+"delivery/"+t.id,n).then((function(e){y.b.success("Registro Modificado"),Ze(),la()})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")})):O.a.post(j.a+"delivery",n).then((function(e){y.b.success("Registro Creado"),Ze(),la(),Ye.current.focus()})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:ee},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("h4",{style:{textDecoration:"underline"},className:"title_principal text-center"},"Acta de Entrega"),i.a.createElement(u.a,{style:{paddingTop:"3px"},className:"justify-content-center"},i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement("b",null,"N\xfamero:")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement("div",{className:"div_number subrayado"},ta("number"))))),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{style:{paddingTop:"30px"}},i.a.createElement("b",null,"Fecha Emisi\xf3n:"))),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement(v.a,{type:"date",label:"",required:!1,messageErrors:["Requerido*"],name:"date_request",handleChange:na,value:s.date_request,cols:"col-md-12 col-lg-12 col-sm-12",readonly:Ne}))),i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Fecha L\xedmite Cierre:")),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},ta("fecha_limite_cierre")))),i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Fecha Cierre:")),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},ta("fecha_cierre")))),i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"D\xedas Atraso:")),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},ta("dias_atraso")))),i.a.createElement(u.a,{style:{paddingBottom:"3px"}},i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("b",null,"Estado:")),i.a.createElement(p.a,{sm:6,md:6,lg:6},i.a.createElement("div",{className:"div_number subrayado"},ta("estado")))))))," ")," ",i.a.createElement("br",null),i.a.createElement(u.a,null,i.a.createElement(_.a,{type:"select",name:"id_housing_complexe",label:"Proyecto",required:!0,cols:"col-md-3 col-sm-3 col-lg-3",messageErrors:["Requerido*"],value:s.id_housing_complexe,handleChange:na,ref:Ye,disabled:Ne},i.a.createElement("option",{value:""},"--Seleccione--"),B.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(v.a,{type:"select",name:"id_ownership",label:"Propiedad",required:!0,cols:"col-md-3 col-sm-3 col-lg-3",messageErrors:["Requerido*"],value:s.id_ownership,handleChange:na,disabled:Ne},i.a.createElement("option",{value:""},"--Seleccione--"),I.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.number)}))),i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement(u.a,null,i.a.createElement(v.a,Object(r.a)({type:"text",name:"rut_ownership_client",readonly:!0,label:"Propietario",required:!0,cols:"col-md-12 col-sm-12 col-lg-12",messageErrors:[""],value:s.rut_ownership_client,handleChange:na},"readonly",Ne))),Object.keys(G).length>0?i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h6",{style:{borderBottom:"1px solid black"}},G.ownership_client.name+" "+G.ownership_client.last_names))):""),i.a.createElement(p.a,{sm:3,md:3,lg:3},Object.keys(G).length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("b",null,"Tipo de Propiedad:"))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h6",{style:{borderBottom:"1px solid black",paddingTop:"10px"}},G.typeOwnership.name)))):"")),i.a.createElement(u.a,null,i.a.createElement(v.a,{type:"text",name:"rut_deputy",label:"Rut Representante",required:!1,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:[""],value:s.rut_deputy,handleChange:na,readonly:Ne}),i.a.createElement(v.a,{type:"text",name:"name_deputy",label:"Nombre Representante",required:!1,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:[""],value:s.name_deputy,handleChange:na,readonly:Ne}),i.a.createElement(v.a,{type:"select",name:"id_city",label:"Ciudad:",required:!0,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:["Requerido*"],value:s.id_city,handleChange:na,disabled:Ne},i.a.createElement("option",{value:""},"--Seleccione--"),K.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)})))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Ingreso de Bodegas y Estacionamiento"),i.a.createElement("br",null)),i.a.createElement(p.a,{sm:5,md:5,lg:5},i.a.createElement("label",null,i.a.createElement("b",null,"Bodega")),i.a.createElement("input",{type:"text",name:"name_celler",label:"Bodega",id:"name_celler",className:"form-control form-control-sm",size:"sm",readOnly:Ne})),i.a.createElement(p.a,{sm:1,md:1,lg:1},i.a.createElement(m.a,{type:"button",variant:"success",className:"margin_col",size:"sm",block:!0,onClick:function(){oa("celler")}},i.a.createElement(E.d,null))),i.a.createElement(p.a,{sm:5,md:5,lg:5},i.a.createElement("label",null,i.a.createElement("b",null,"Estacionamiento")),i.a.createElement("input",{type:"text",name:"name_parking",id:"name_parking",className:"form-control form-control-sm",size:"sm",readOnly:Ne})),i.a.createElement(p.a,{sm:1,md:1,lg:1},i.a.createElement(m.a,{type:"button",variant:"success",className:"margin_col",size:"sm",block:!0,onClick:function(){oa("parking")}},i.a.createElement(E.d,null)))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:6,md:6,lg:6,className:"div_bodega_parking"},i.a.createElement("br",null),i.a.createElement("ul",{className:"list-group"},s.cellars.map((function(a,t){return i.a.createElement("li",{className:"list-group-item",key:t},a," ",i.a.createElement(m.a,{style:{display:e.match.params.id?"none":"inline"},variant:"danger",size:"sm",onClick:function(){ia("cellar",a)}},i.a.createElement(E.k,null)))})))),i.a.createElement(p.a,{sm:6,md:6,lg:6,className:"div_bodega_parking"},i.a.createElement("br",null),i.a.createElement("ul",{className:"list-group"},s.parkings.map((function(a,t){return i.a.createElement("li",{className:"list-group-item",key:t},a," ",i.a.createElement(m.a,{style:{display:e.match.params.id?"none":"inline"},variant:"danger",size:"sm",onClick:function(){ia("parking",a)}},i.a.createElement(E.k,null)))}))))),i.a.createElement("br",null),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(b.a,null,i.a.createElement(b.a.Header,{style:{backgroundColor:"rgb(95, 104, 228)"}},i.a.createElement(b.a.Title,{className:"text-center",style:{color:"white"}},"Proceso de Levantamiento y Gesti\xf3n de Observaciones")),i.a.createElement(b.a.Body,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"INGRESO DE FALLAS:"),i.a.createElement("hr",null),i.a.createElement(u.a,null,i.a.createElement(v.a,{type:"select",required:!1,name:"id_precint",label:"Recinto:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:z.id_precint,handleChange:ra,disabled:Ne},i.a.createElement("option",{value:""},"--Seleccione--"),re.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(v.a,{type:"select",required:!1,name:"id_related_failure",label:"Relacione su Falla con:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:z.id_related_failure,handleChange:ra,disabled:Ne},i.a.createElement("option",{value:""},"--Seleccione--"),ie.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(v.a,{type:"select",required:!1,name:"id_tipology_failure",label:"Tipolog\xeda de Falla:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:z.id_tipology_failure,handleChange:ra,disabled:Ne},i.a.createElement("option",{value:""},"--Seleccione--"),fe.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),i.a.createElement(v.a,{type:"select",required:!1,name:"id_point_failure",label:"Falla Puntual:",messageErrors:["Requerido*"],cols:"col-sm-3 col-md-3 col-lg-3 col-xs-3",value:z.id_point_failure,handleChange:ra,disabled:Ne},i.a.createElement("option",{value:""},"--Seleccione--"),ue.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)})))),i.a.createElement(u.a,null,i.a.createElement(v.a,{type:"textarea",required:!1,name:"description",label:"Descripci\xf3n de la Falla:",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12",value:z.description,handleChange:ra,readonly:Ne}),i.a.createElement(p.a,{sm:8,md:8,lg:8}),i.a.createElement(p.a,{sm:2,md:2,lg:2},Object.keys(qe).length>0?"":i.a.createElement(m.a,{size:"sm",variant:"danger",block:!0,type:"button",onClick:ea},"Ver fallas")),i.a.createElement(p.a,{sm:2,md:2,lg:2},Object.keys(qe).length>0?"":i.a.createElement(m.a,{variant:"secondary",block:!0,type:"button",size:"sm",onClick:function(){if(!z.id_precint)return y.b.error("Debe Agregar un recinto"),!1;if(!z.id_related_failure)return y.b.error("Debe agregar una relaci\xf3n de falla"),!1;if(!z.id_tipology_failure)return y.b.error("Debe agregar una tipologia de falla"),!1;if(!z.id_point_failure)return y.b.error("Debe agregar una falla puntual"),!1;if(!z.description)return y.b.error("Debe agregar una descripci\xf3n de la falla"),!1;var e=Object.assign({},z,{id_delivery:null});O.a.post(j.a+"delivery_failure",e).then((function(e){sa(),ma(),y.b.success("Falla Agregada")})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")}))}},"Agregar ",i.a.createElement(E.e,null)))))),e.match.params.id>0?i.a.createElement(i.a.Fragment,null,Object.keys(qe).length>0&&qe.failures.length>0?i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("br",null),i.a.createElement("h5",{className:"text-center title_principal"},"Fallas Registradas"),i.a.createElement(k.a,{columns:P,data:qe.failures}))):"",i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("hr",null),5!=qe.id_status&&6!=qe.id_status?i.a.createElement("h5",{className:"text-center title_principal"},i.a.createElement("a",{href:"javascript:void(0)",onClick:ua},"Agregar Seguimiento")):i.a.createElement("h5",{className:"text-center title_principal"},"Seguimientos Agregados"),i.a.createElement(k.a,{columns:x.a,data:qe.followings?qe.followings:[],letrasChicas:!0}),i.a.createElement("hr",null)))):"",i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Soluci\xf3n a Observaciones:"),i.a.createElement("hr",null)),i.a.createElement(v.a,{type:"date",label:"Fecha de soluci\xf3n a observaciones",required:!1,cols:"col-md-6 col-sm-6 col-lg-6",name:"date_solution_observation",messageErrors:["Requerido*"],handleChange:na,value:s.date_solution_observation}),i.a.createElement(v.a,{type:"date",label:"Fecha V\xb0B\xb0 de Cliente",required:!1,cols:"col-md-6 col-sm-6 col-lg-6",name:"date_v_b_client",messageErrors:["Requerido*"],handleChange:na,value:s.date_v_b_client})))),i.a.createElement(b.a,null,i.a.createElement(b.a.Header,{style:{backgroundColor:"rgb(95, 104, 228)"}},i.a.createElement(b.a.Title,{className:"text-center",style:{color:"white"}},"PROCESO DE ENTREGA DEFINITIVA")),i.a.createElement(b.a.Body,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Estado de Medidores"),i.a.createElement("hr",null))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"a) El\xe9ctricidad")),i.a.createElement(v.a,{type:"text",name:"number_electricity",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:na,value:s.number_electricity,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(v.a,{type:"text",name:"reading_electricity",required:!1,messageErrors:[""],label:"Lectura",handleChange:na,value:s.reading_electricity,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"b) Agua Potable")),i.a.createElement(v.a,{type:"text",name:"number_water",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:na,value:s.number_water,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(v.a,{type:"text",name:"reading_water",required:!1,messageErrors:[""],label:"Lectura",handleChange:na,value:s.reading_water,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement("b",null,"c) Gas")),i.a.createElement(v.a,{type:"text",name:"number_gas",required:!1,messageErrors:[""],label:"N\xfamero",handleChange:na,value:s.number_gas,cols:"col-md-4 col-sm-4 col-lg-4"}),i.a.createElement(v.a,{type:"text",name:"reading_gas",required:!1,messageErrors:[""],label:"Lectura",handleChange:na,value:s.reading_gas,cols:"col-md-4 col-sm-4 col-lg-4"})),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Adjuntos:"),i.a.createElement("hr",null))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:function(){document.getElementById("input_file").click()}},"Seleccionar Adjunto"),i.a.createElement("input",{accept:e.config_ss?e.config_ss.valid_format_documents:"",type:"file",name:"input_file",id:"input_file",style:{display:"none"},onChange:na})),i.a.createElement(p.a,{sm:4,md:4,lg:4},s.name_file?i.a.createElement(i.a.Fragment,null,i.a.createElement("b",null,s.name_file),"\xa0",Object.keys(qe).length>0&&(5==qe.id_status||6==qe.id_status)?"":i.a.createElement(m.a,{size:"sm",variant:"danger",onClick:function(){s.id&&!s.file?O.a.delete(j.a+"delivery_delete_file/"+s.id).then((function(e){y.b.success("Archivo Eliminado"),h((function(e){return Object.assign({},s,{name_file:""})}))})).catch((function(e){e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")})):(h((function(e){return Object.assign({},s,{name_file:"",file:null})})),document.getElementById("input_file").value="",document.getElementById("input_file").src="")}},i.a.createElement(E.k,null))):"")),i.a.createElement("br",null),i.a.createElement(u.a,null,i.a.createElement(v.a,{type:"textarea",name:"note",required:!1,messageErrors:[""],label:"Nota (uso interno):",handleChange:na,value:s.note,cols:"col-md-12 col-sm-12 col-lg-12",rows:2})),i.a.createElement("hr",null),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("h5",{className:"title_principal"},"Entrega de llaves y cierre de proceso de entrega"),i.a.createElement("hr",null)),i.a.createElement(v.a,{type:"date",name:"date_delivery_key",required:!1,messageErrors:[""],label:"Fecha Entrega de Llaves:",handleChange:na,value:s.date_delivery_key,cols:"col-md-4 col-sm-4 col-lg-4"})))))),i.a.createElement("br",null),s.id?i.a.createElement(i.a.Fragment,null,6==s.id_status?i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement(m.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:ga},"Volver"))):5==s.id_status?i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{onClick:function(){Ke(!0),O.a.get(j.a+"delivery_send_acta/"+e.match.params.id).then((function(e){Ke(!1),y.b.success("Acta entregada a los destinatarios")})).catch((function(e){Ke(!1),e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},disabled:We,type:"button",variant:"secondary",block:!0,size:"sm"},"Enviar Acta")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{disabled:We,type:"button",onClick:function(){Ke(!0),O.a.get(j.a+"delivery_print_acta/"+e.match.params.id,{responseType:"blob"}).then((function(e){Ke(!1),D.a.saveAs(e.data,"acta_entrega.pdf")})).catch((function(e){Ke(!1),e.response?y.b.error(e.response.data.message):(console.log(e),y.b.error("Error, contacte con soporte"))}))},variant:"secondary",block:!0,size:"sm"},"Imprimir Acta")),i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement(m.a,{disabled:We,type:"button",variant:"secondary",block:!0,size:"sm",onClick:Ea},"Enviar Observaciones")),i.a.createElement(p.a,{sm:3,md:3,lg:3},i.a.createElement(m.a,{disabled:We,type:"button",variant:"secondary",block:!0,size:"sm",onClick:fa},"Imprimir Observaciones")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{disabled:We,type:"button",variant:"danger",block:!0,size:"sm",onClick:ga},"Volver")),We?i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement("br",null),i.a.createElement("p",{className:"alert alert-danger text-center"},"Realizando Operaciones...")):""):i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{type:"submit",variant:"secondary",block:!0,size:"sm"},"Guardar")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{type:"button",onClick:pa,variant:"secondary",block:!0,size:"sm"},"Anular")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{disabled:We,type:"button",variant:"secondary",block:!0,size:"sm",onClick:Ea},"Enviar Observaciones")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{disabled:We,type:"button",variant:"secondary",block:!0,size:"sm",onClick:fa},"Imprimir Observaciones")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{type:"button",variant:"secondary",onClick:ba,block:!0,size:"sm"},"Cerrar Entrega")),i.a.createElement(p.a,{sm:2,md:2,lg:2},i.a.createElement(m.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:ga},"Volver")))):i.a.createElement(u.a,{className:"justify-content-center"},i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{type:"submit",variant:"primary",block:!0,size:"sm"},"Guardar")),i.a.createElement(p.a,{sm:4,md:4,lg:4},i.a.createElement(m.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:ga},"Volver al Men\xfa de Entrega")))))),i.a.createElement(f.a,{show:ke,onHide:ea,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},i.a.createElement(f.a.Header,{closeButton:!0,className:"header_dark",style:{backgroundColor:"black"}},i.a.createElement(f.a.Title,{id:"contained-modal-title-vcenter",style:{color:"white"}},"Fallas Registradas")),i.a.createElement(f.a.Body,null,i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:12},i.a.createElement(k.a,{columns:P,data:ye})))))),i.a.createElement(f.a.Footer,null,i.a.createElement(m.a,{variant:"secondary",onClick:ea},"cerrar"))),i.a.createElement(C.a,{show:He,onHide:ua,submit:function(a){return new Promise((function(t,n){a.id_delivery=e.match.params.id,O.a.post(j.a+"delivery_following",a).then((function(e){Ze(),t({})})).catch((function(e){e.response?n(e.response.data.message):n("Error,contacte con soporte")}))}))},title:"Agregar Nuevo Seguimiento"}),i.a.createElement(N,{show:Te,onHide:pa,submit:function(e){return new Promise((function(a,t){O.a.put(j.a+"delivery_anulate/"+s.id,e).then((function(e){Ze(),a({})})).catch((function(e){e.response?t(e.response.data.message):t("Error,contacte con soporte")}))}))},title:"Anular Entrega"}),i.a.createElement(S,{show:Ue,onHide:ba,submit:function(e){return new Promise((function(a,t){O.a.put(j.a+"delivery_close/"+s.id,e).then((function(e){Ze(),a({})})).catch((function(e){e.response?t(e.response.data.message):t("Error,contacte con soporte")}))}))},title:"Cerrar Entrega"}))}))}}]);
//# sourceMappingURL=11.5b755585.chunk.js.map