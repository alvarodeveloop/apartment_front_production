(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[74],{756:function(e,a,t){"use strict";t.r(a);var r=t(18),n=t(44),s=t(30),c=t(1),l=t.n(c),o=t(567),i=t(568),m=t(282),u=t(10),d=t(280),p=t(112),g=t(288),b=t(25),h=t.n(b),E=t(34),v=t(13),f=function(e){var a=Object(c.useState)(!1),t=Object(s.a)(a,2),b=t[0],f=t[1],j=Object(c.useState)({name:"",rut:"",spin:"",email:"",phone_1:"",phone_2:"",address:"",is_active:!0}),O=Object(s.a)(j,2),_=O[0],x=O[1],y=Object(c.useRef)(null);Object(c.useEffect)((function(){q(),y.current.focus()}),[]);var q=function(){e.match.params.id&&h.a.get(E.a+"enterprise/"+e.match.params.id).then((function(e){x({name:e.data.name,rut:e.data.rut,email:e.data.email,spin:e.data.spin,phone_1:e.data.phone_1,phone_2:e.data.phone_2,address:e.data.address,is_active:e.data.is_active,id:e.data.id})})).catch((function(e){e.response?v.b.error(e.response.data.message):(console.log(e),v.b.error("Error, contacte con soporte"))}))},R=function(e){"is_active"===e.target.name?x(Object(n.a)(Object(n.a)({},_),{},Object(r.a)({},e.target.name,e.target.checked))):x(Object(n.a)(Object(n.a)({},_),{},Object(r.a)({},e.target.name,e.target.value)))},k=function(){e.history.replace("/masters/enterprise")},C=function(){x({name:"",rut:"",email:"",phone_1:"",phone_2:"",address:"",spin:"",is_active:!0}),f(!1),y.current.focus()};return l.a.createElement(o.a,null,l.a.createElement(i.a,{className:"containerDiv"},l.a.createElement(m.a,{sm:12,md:12,lg:12,xs:12,className:"text-right"},l.a.createElement("span",{className:"text-danger"},"*Campos Obligatorios"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(m.a,{sm:12,md:12,lg:12},l.a.createElement(u.a,{onSubmit:function(e){var a=e.currentTarget;if(e.preventDefault(),!1===a.checkValidity())return e.stopPropagation(),void f(!0);var t=Object.assign({},_);t.id?h.a.put(E.a+"enterprise/"+t.id,t).then((function(e){v.b.success("Registro Modificado"),k()})).catch((function(e){e.response?v.b.error(e.response.data.message):v.b.error("Error, contacte con soporte")})):h.a.post(E.a+"enterprise",t).then((function(e){v.b.success("Registro Creado"),C()})).catch((function(e){e.response?v.b.error(e.response.data.message):v.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:b},l.a.createElement(i.a,null,l.a.createElement(g.a,Object.assign({},e.inputRut,{value:_.rut,handleChange:R,ref:y})),l.a.createElement(p.a,Object.assign({},e.inputName,{value:_.name,handleChange:R})),l.a.createElement(p.a,Object.assign({},e.inputSpin,{value:_.spin,handleChange:R}))),l.a.createElement(i.a,null,l.a.createElement(p.a,Object.assign({},e.inputAddress,{value:_.address,handleChange:R})),l.a.createElement(p.a,Object.assign({},e.inputEmail,{value:_.email,handleChange:R})),l.a.createElement(p.a,Object.assign({},e.inputPhone,{value:_.phone_1,handleChange:R}))),l.a.createElement(i.a,null,l.a.createElement(p.a,Object.assign({},e.inputPhone2,{value:_.phone_2,handleChange:R})),l.a.createElement(u.a.Group,{className:"col-md-6 col-sm-6 col-lg-6 col-6"},l.a.createElement(u.a.Label,{style:{fontWeight:"bold"}},"Empresa Activa?"),l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",name:"is_active",checked:_.is_active,onChange:R,value:_.is_active}))),l.a.createElement(i.a,{className:"justify-content-center"},l.a.createElement(m.a,{sm:4,md:4,lg:4},l.a.createElement(d.a,{type:"submit",size:"sm",variant:"primary",block:!0},"Guardar")),l.a.createElement(m.a,{sm:4,md:4,lg:4},l.a.createElement(d.a,{type:"submit",size:"sm",variant:"danger",block:!0,onClick:k},"Volver")))))))};f.defaultProps={inputRut:{type:"text",required:!0,name:"rut",label:"Rut",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputSpin:{type:"text",required:!1,name:"spin",label:"Giro",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputName:{type:"text",required:!0,name:"name",label:"Nombre",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputAddress:{type:"textarea",required:!0,name:"address",label:"Direcci\xf3n",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputEmail:{type:"email",required:!0,name:"email",label:"Email",messageErrors:["Requerido*,"," Formato tipo Email*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone:{type:"number",required:!1,name:"phone_1",label:"Tel\xe9fono Principal",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone2:{type:"number",required:!1,name:"phone_2",label:"Telefono Secundario",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"}},a.default=f}}]);
//# sourceMappingURL=74.b2de156b.chunk.js.map