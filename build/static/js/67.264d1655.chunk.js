(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[67],{581:function(e,a,t){"use strict";var n=t(27),r=t(0),l=t.n(r),o=t(22),c=(t(285),l.a.forwardRef((function(e,a){var t,r=e.cols?e.cols:"col-md-6 col-sm-6";return"select"!==e.type&&"textarea"!==e.type?l.a.createElement(o.a.Group,{className:r},e.required?l.a.createElement(o.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(o.a.Label,{className:"fontBold"},e.label),l.a.createElement(o.a.Control,(t={ref:a,id:e.name,type:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,readOnly:!!e.readonly&&e.readonly,className:e.className?e.className:"",step:e.step?e.step:"",onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){}},Object(n.a)(t,"className","form-control-sm"),Object(n.a)(t,"disabled",e.disabled),t)),l.a.createElement(o.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"select"===e.type?l.a.createElement(o.a.Group,{className:r},e.required?l.a.createElement(o.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(o.a.Label,{className:"fontBold"},e.label),l.a.createElement(o.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",readOnly:!!e.readonly&&e.readonly,required:e.required,multiple:!!e.multiple&&e.multiple,ref:a||null,className:"form-control-sm",disabled:e.disabled},e.children),l.a.createElement(o.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"textarea"===e.type?l.a.createElement(o.a.Group,{className:r},e.required?l.a.createElement(o.a.Label,{className:"fontBold"},l.a.createElement("span",{className:"asterisk_red"},"*"),e.label):l.a.createElement(o.a.Label,{className:"fontBold"},e.label),l.a.createElement(o.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,rows:e.rows?e.rows:2,readOnly:!!e.readonly&&e.readonly,onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){},ref:a||null,className:"form-control-sm",disabled:e.disabled}),l.a.createElement(o.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return l.a.createElement("span",{key:a,className:"error-input"},e)})),")")):void 0})));a.a=c},741:function(e,a,t){"use strict";t.r(a);var n=t(27),r=t(78),l=t(77),o=t(0),c=t.n(o),i=t(570),s=t(140),m=t(84),d=t(22),u=t(139),p=t(142),f=t(581),b=t(43),g=t.n(b),E=t(76),y=t(28),h=function(e){var a=Object(o.useState)(!1),t=Object(l.a)(a,2),b=t[0],h=t[1],_=Object(o.useState)([]),v=Object(l.a)(_,2),N=v[0],O=v[1],j=Object(o.useState)([]),C=Object(l.a)(j,2),q=C[0],k=C[1],x=Object(o.useState)([]),M=Object(l.a)(x,2),R=M[0],S=M[1],U=Object(o.useState)([]),w=Object(l.a)(U,2),B=w[0],F=w[1],K=Object(o.useState)({code:"",name:"",id_family:"",id_brand:"",id_models:"",id_measurement_unit:"",additional_information:""}),L=Object(l.a)(K,2),G=L[0],A=L[1],I=Object(o.useRef)(null);Object(o.useEffect)((function(){P(),I.current.focus()}),[]);var P=function(){var a=[g.a.get(E.a+"master_families"),g.a.get(E.a+"master_brand"),g.a.get(E.a+"master_models"),g.a.get(E.a+"master_measurement_unit")];e.match.params.id&&a.push(g.a.get(E.a+"master_precint/"+e.match.params.id)),Promise.all(a).then((function(e){O(e[0].data),k(e[1].data),S(e[2].data),F(e[3].data),e[4]&&A({code:e[4].data.code,name:e[4].data.name,id_family:e[4].data.id_family,id_brand:e[4].data.id_brand,id_models:e[4].data.id_models,id_measurement_unit:e[4].data.id_measurement_unit,additional_information:e[4].data.additional_information})})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))},V=function(e){A(Object(r.a)(Object(r.a)({},G),{},Object(n.a)({},e.target.name,e.target.value)))},z=function(){e.history.replace("/masters/precint")},D=function(){A({code:"",name:"",id_family:"",id_brand:"",id_models:"",id_measurement_unit:"",additional_information:""}),h(!1),I.current.focus()};return c.a.createElement(i.a,null,c.a.createElement(s.a,{className:"containerDiv"},c.a.createElement(m.a,{sm:12,md:12,lg:12,xs:12,className:"text-right"},c.a.createElement("span",{className:"text-danger"},"*Campos Obligatorios"),c.a.createElement("br",null),c.a.createElement("br",null)),c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(d.a,{onSubmit:function(e){var a=e.currentTarget;if(e.preventDefault(),!1===a.checkValidity())return e.stopPropagation(),void h(!0);var t=Object.assign({},G);t.id?g.a.put(E.a+"master_precint/"+t.id,t).then((function(e){y.NotificationManager.success("Registro Modificado"),z()})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")})):g.a.post(E.a+"master_precint",t).then((function(e){y.NotificationManager.success("Registro Creado"),D()})).catch((function(e){e.response?y.NotificationManager.error(e.response.data.message):y.NotificationManager.error("Error, contacte con soporte")}))},noValidate:!0,validated:b},c.a.createElement(s.a,null,c.a.createElement(f.a,Object.assign({},e.inputCode,{value:G.code,handleChange:V,ref:I})),c.a.createElement(p.a,Object.assign({},e.inputName,{value:G.name,handleChange:V}))),c.a.createElement(s.a,null,c.a.createElement(p.a,Object.assign({},e.inputFamily,{value:G.id_family,handleChange:V}),c.a.createElement("option",{value:""},"--Seleccione--"),N.map((function(e,a){return c.a.createElement("option",{value:e.id,key:a},e.name)}))),c.a.createElement(p.a,Object.assign({},e.inputModels,{value:G.id_models,handleChange:V}),c.a.createElement("option",{value:""},"--Seleccione--"),R.map((function(e,a){return c.a.createElement("option",{value:e.id,key:a},e.name)}))),c.a.createElement(p.a,Object.assign({},e.inputBrand,{value:G.id_brand,handleChange:V}),c.a.createElement("option",{value:""},"--Seleccione--"),q.map((function(e,a){return c.a.createElement("option",{value:e.id,key:a},e.name)})))),c.a.createElement(s.a,null,c.a.createElement(p.a,Object.assign({},e.inputUnit,{value:G.id_measurement_unit,handleChange:V}),c.a.createElement("option",{value:""},"--Seleccione--"),B.map((function(e,a){return c.a.createElement("option",{value:e.id,key:a},e.name)}))),c.a.createElement(p.a,Object.assign({},e.inputAdditionalInformation,{value:G.additional_information,handleChange:V}))),c.a.createElement(s.a,{className:"justify-content-center"},c.a.createElement(m.a,{sm:4,md:4,lg:4},c.a.createElement(u.a,{type:"submit",size:"sm",variant:"primary",block:!0},"Guardar")),c.a.createElement(m.a,{sm:4,md:4,lg:4},c.a.createElement(u.a,{type:"submit",size:"sm",variant:"danger",block:!0,onClick:z},"Volver")))))))};h.defaultProps={inputCode:{type:"text",required:!0,name:"code",label:"C\xf3digo",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputName:{type:"text",required:!0,name:"name",label:"Nombre",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputFamily:{type:"select",required:!0,name:"id_family",label:"Familia",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputModels:{type:"select",required:!1,name:"id_models",label:"Modelo",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputUnit:{type:"select",required:!0,name:"id_measurement_unit",label:"Unidad de Medida",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputBrand:{type:"select",required:!0,name:"id_brand",label:"Marca",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputAdditionalInformation:{type:"textarea",required:!1,name:"additional_information",label:"Informaci\xf3n Adicional",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"}},a.default=h}}]);
//# sourceMappingURL=67.264d1655.chunk.js.map