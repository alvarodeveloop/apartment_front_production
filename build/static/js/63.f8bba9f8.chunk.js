(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[63],{565:function(e,a,t){"use strict";var n=t(29),l=t(569),r=t(0),c=t.n(r),s=t(572),o=t(570),i=t(571),m=t(275);function u(){var e=Object(l.a)(["\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return u=function(){return e},e}var d=s.a.div(u());function p(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,l=a.setFilter,r=n.length;return c.a.createElement("input",{value:t||"",onChange:function(e){l(e.target.value||void 0)},placeholder:"Buscar en ".concat(r," registros..."),className:"inputPageFilter"})}function g(e,a,t){return Object(i.a)(e,t,{keys:[function(e){return e.values[a]}]})}function b(e){var a=e.columns,t=e.data,l=e.displayPaginationUp,r=e.letrasChicas,s=c.a.useMemo((function(){return{fuzzyText:g,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),i=c.a.useMemo((function(){return{Filter:p}}),[]),u=Object(o.useTable)({columns:a,data:t,defaultColumn:i,filterTypes:s,initialState:{pageIndex:0}},o.useFilters,o.useSortBy,o.usePagination),d=u.getTableProps,b=u.getTableBodyProps,E=u.headerGroups,f=u.page,h=u.prepareRow,v=u.canPreviousPage,y=u.canNextPage,N=u.pageOptions,k=u.pageCount,C=u.gotoPage,x=u.nextPage,j=u.previousPage,O=u.setPageSize,_=u.state,P=_.pageIndex,S=_.pageSize;return c.a.createElement("div",{className:"table-responsive"},l?c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return C(0)},disabled:!v},"<<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!v},"<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return x()},disabled:!y},">")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return C(k-1)},disabled:!y},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,P+1," de ",N.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:P+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;C(a)},className:"inputPage"},"onChange",(function(e){e.target.value>N.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:S,onChange:function(e){O(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},d(),{className:"table table-bordered"}),c.a.createElement("thead",null,E.map((function(e,a){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center",key:a}),e.headers.map((function(e,a){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera",style:{fontSize:r?"14px":"15px"},key:a}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},b(),{className:"text-center",style:{fontSize:r?"13px":"15px"}}),f.map((function(e,a){return h(e)||c.a.createElement("tr",Object.assign({},e.getRowProps(),{key:a+"-"}),e.cells.map((function(e,a){return c.a.createElement("td",Object.assign({},e.getCellProps(),{key:a+"td"}),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return C(0)},disabled:!v},"<<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!v},"<")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return x()},disabled:!y},">")," ",c.a.createElement(m.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return C(k-1)},disabled:!y},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,P+1," de ",N.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:P+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;C(a)},className:"inputPage"},"onChange",(function(e){e.target.value>N.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:S,onChange:function(e){O(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.displayPaginationUp,l=e.letrasChicas;return c.a.createElement(d,null,c.a.createElement(b,{data:a,columns:t,displayPaginationUp:n,letrasChicas:l}))}},566:function(e,a,t){"use strict";var n=t(29),l=t(0),r=t.n(l),c=t(26),s=(t(282),r.a.forwardRef((function(e,a){var t,l=e.cols?e.cols:"col-md-6 col-sm-6";return"select"!==e.type&&"textarea"!==e.type?r.a.createElement(c.a.Group,{className:l},e.required?r.a.createElement(c.a.Label,{className:"fontBold"},r.a.createElement("span",{className:"asterisk_red"},"*"),e.label):r.a.createElement(c.a.Label,{className:"fontBold"},e.label),r.a.createElement(c.a.Control,(t={ref:a,id:e.name,type:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,readOnly:!!e.readonly&&e.readonly,className:e.className?e.className:"",step:e.step?e.step:"",onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){}},Object(n.a)(t,"className","form-control-sm"),Object(n.a)(t,"disabled",e.disabled),t)),r.a.createElement(c.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return r.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"select"===e.type?r.a.createElement(c.a.Group,{className:l},e.required?r.a.createElement(c.a.Label,{className:"fontBold"},r.a.createElement("span",{className:"asterisk_red"},"*"),e.label):r.a.createElement(c.a.Label,{className:"fontBold"},e.label),r.a.createElement(c.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",readOnly:!!e.readonly&&e.readonly,required:e.required,multiple:!!e.multiple&&e.multiple,ref:a||null,className:"form-control-sm",disabled:e.disabled},e.children),r.a.createElement(c.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return r.a.createElement("span",{key:a,className:"error-input"},e)})),")")):"textarea"===e.type?r.a.createElement(c.a.Group,{className:l},e.required?r.a.createElement(c.a.Label,{className:"fontBold"},r.a.createElement("span",{className:"asterisk_red"},"*"),e.label):r.a.createElement(c.a.Label,{className:"fontBold"},e.label),r.a.createElement(c.a.Control,{id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,rows:e.rows?e.rows:2,readOnly:!!e.readonly&&e.readonly,onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){},ref:a||null,className:"form-control-sm",disabled:e.disabled}),r.a.createElement(c.a.Control.Feedback,{type:"invalid"},"(",e.messageErrors.map((function(e,a){return r.a.createElement("span",{key:a,className:"error-input"},e)})),")")):void 0})));a.a=s},592:function(e,a,t){},745:function(e,a,t){"use strict";t.r(a);var n=t(29),l=t(79),r=t(78),c=t(0),s=t.n(c),o=t(562),i=t(563),m=t(277),u=t(26),d=t(275),p=(t(565),t(35)),g=t.n(p),b=t(566),E=t(143),f=t(45),h=t(23);t(283),t(592);a.default=function(e){var a=Object(c.useState)({id_housing_complexe:"",date_from:"",date_to:"",id_status:""}),t=Object(r.a)(a,2),p=t[0],v=t[1],y=Object(c.useState)("Buscar..."),N=Object(r.a)(y,2),k=N[0],C=(N[1],Object(c.useState)(!1)),x=Object(r.a)(C,2),j=x[0],O=x[1],_=Object(c.useState)([]),P=Object(r.a)(_,2),S=P[0],z=P[1],w=Object(c.useState)([]),q=Object(r.a)(w,2),T=q[0],F=q[1],B=Object(c.useState)([]),L=Object(r.a)(B,2),R=L[0],U=L[1],I=Object(c.useState)(!0),D=Object(r.a)(I,2),K=D[0],V=D[1],G=Object(c.useState)(!0),H=Object(r.a)(G,2),M=H[0],A=H[1];Object(c.useEffect)((function(){J()}),[]);var J=function(){var e=[g.a.get(f.a+"housing_complexe"),g.a.get(f.a+"get_status_close")];Promise.all(e).then((function(e){z(e[0].data),U(e[1].data)})).catch((function(e){e.response?h.b.error(e.response.data.message):(console.log(e),h.b.error("Error, contacte con soporte"))}))},W=function(e){v(Object(l.a)(Object(l.a)({},p),{},Object(n.a)({},e.target.name,e.target.value)))};return s.a.createElement(o.a,{fluid:!0},s.a.createElement(i.a,{className:"containerDiv"},s.a.createElement(m.a,{sm:12,md:12,lg:12},s.a.createElement("h4",{className:"text-center title_principal"},"INDICADORES DE POSTVENTA (Listado de Consolidado)")),s.a.createElement(m.a,{sm:12,md:12,lg:12,style:{display:K?"block":"none"}},s.a.createElement(u.a,{onSubmit:function(e){var a=e.currentTarget;if(e.preventDefault(),!1===a.checkValidity())return e.stopPropagation(),void O(!0);var t=Object.assign({},p);g.a.post(f.a+"indicators_listing_consolidate",t).then((function(e){F(e.data.consolidate_listing),console.log(e.data.consolidate_listing,"aui"),V(!1)})).catch((function(e){e.response?h.b.error(e.response.data.message):(console.log(e),h.b.error("Error, contacte con soporte"))}))},noValidate:!0,validated:j},s.a.createElement(i.a,null,s.a.createElement(b.a,{type:"select",name:"id_housing_complexe",label:"Proyecto",required:!0,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:["Requerido*"],value:p.id_housing_complexe,handleChange:W},s.a.createElement("option",{value:""},"--Seleccione--"),S.map((function(e,a){return s.a.createElement("option",{value:e.id,key:a},e.name)}))),s.a.createElement(E.a,{type:"date",name:"date_from",label:"Desde",required:!0,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:["Requerido*"],value:p.date_from,handleChange:W}),s.a.createElement(E.a,{type:"date",name:"date_to",label:"Hasta",required:!0,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:["Requerido*"],value:p.date_to,handleChange:W})),s.a.createElement(i.a,null,s.a.createElement(E.a,{type:"select",name:"id_status",label:"Status",required:!1,cols:"col-md-4 col-sm-4 col-lg-4",messageErrors:[""],value:p.id_status,handleChange:W},s.a.createElement("option",{value:""},"--Seleccione--"),R.map((function(e,a){return s.a.createElement("option",{key:a,value:e.id},e.status)})))),s.a.createElement(i.a,{className:"justify-content-center"},s.a.createElement(m.a,{sm:4,md:4,lg:4},s.a.createElement(d.a,{variant:"secondary",block:!0,size:"sm",type:"submit"},k))))),s.a.createElement(m.a,{sm:12,md:12,lg:12,style:{display:K?"none":"block"}},s.a.createElement("br",null),s.a.createElement(i.a,{className:"justify-content-center"},s.a.createElement(m.a,{sm:12,md:12,lg:12},s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"header_th_classs",colSpan:"8"},"Fallas por Estado")),s.a.createElement("tr",null,s.a.createElement("th",{className:"th_class"},"Nombre"),s.a.createElement("th",{className:"th_class"},"Tipo"),s.a.createElement("th",{className:"th_class"},"Pendiente"),s.a.createElement("th",{className:"th_class"},"Inspeccion"),s.a.createElement("th",{className:"th_class"},"Ejecuci\xf3n"),s.a.createElement("th",{className:"th_class"},"Cerrada"),s.a.createElement("th",{className:"th_class"},"Total"),s.a.createElement("th",{className:"th_class"},"Porcentaje"))),s.a.createElement("tbody",{className:""},T.map((function(e,a){return s.a.createElement("tr",{key:a,className:1==e.nivel?"tr_principal":""},s.a.createElement("td",{className:""},e.nombre),s.a.createElement("td",{className:""},1==e.nivel?"Tipologia":"Falla Puntual"),s.a.createElement("td",{className:"text-right"},e.pendiente),s.a.createElement("td",{className:"text-right"},e.ejecucion),s.a.createElement("td",{className:"text-right"},e.no_aplica),s.a.createElement("td",{className:"text-right"},e.cerrada),s.a.createElement("td",{className:"text-right"},e.total),s.a.createElement("td",{className:"text-right"},e.porcentaje,"%"))})))))),M?s.a.createElement(i.a,{className:"justify-content-center"},s.a.createElement(m.a,{sm:4,md:4,lg:4},s.a.createElement(d.a,{variant:"secondary",size:"sm",block:!0,onClick:function(){A(!1),setTimeout((function(){window.print()}),400),setTimeout((function(){A(!0)}),1500)}},"Imprimir Pdf")),s.a.createElement(m.a,{sm:4,md:4,lg:4},s.a.createElement(d.a,{variant:"secondary",size:"sm",block:!0,onClick:function(){V(!0)}},"Nueva Consulta"))):"")))}}}]);
//# sourceMappingURL=63.f8bba9f8.chunk.js.map